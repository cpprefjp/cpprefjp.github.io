<h1>iterator_traits</h1>
<p><pre class="codehilite"><code class="language-cpp"><span style="color: #000">namespace std {
  template &lt;class Iterator&gt;
  struct iterator_traits {
    typedef typename Iterator::difference_type difference_type;
    typedef typename Iterator::value_type value_type;
    typedef typename Iterator::pointer pointer;
    typedef typename Iterator::reference reference;
    typedef typename Iterator::iterator_category iterator_category;
  };

  // ポインタに対する特殊化
  template &lt;class T&gt;
  struct iterator_traits&lt;T*&gt; {
    typedef ptrdiff_t difference_type;
    typedef T value_type;
    typedef T* pointer;
    typedef T&amp; reference;
    typedef random_access_iterator_tag iterator_category;
  };

  template&lt;class T&gt;
  struct iterator_traits&lt;const T*&gt; {
    typedef ptrdiff_t difference_type;
    typedef T value_type;
    typedef const T* pointer;
    typedef const T&amp; reference;
    typedef random_access_iterator_tag iterator_category;
  };
}</span></code></pre>
</p>
<h2>概要</h2>
<p>イテレータに関する型情報を取得するクラス。
イテレータが指す値型、分類を取得でき、ポインタに対しても一様に適用できる。</p>
<table border="1" bordercolor="#888" style="border-collapse:collapse">
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code><span style="color: #000">difference_type</span></code></td>
<td>イテレータの差</td>
</tr>
<tr>
<td><code><span style="color: #000">value_type</span></code></td>
<td>イテレータが指している値型</td>
</tr>
<tr>
<td><code><span style="color: #000">pointer</span></code></td>
<td>ポインタ型</td>
</tr>
<tr>
<td><code><span style="color: #000">reference</span></code></td>
<td>イテレータが指している参照型</td>
</tr>
<tr>
<td><code><span style="color: #000">iterator_category</span></code></td>
<td>イテレータの分類を表す型(参照： <a href="http://cpprefjp.github.io/reference/iterator/iterator_tag.html">iterator tag</a>)</td>
</tr>
</tbody>
</table>
<h2>例</h2>
<p><pre class="codehilite"><code class="language-cpp"><span style="color:#ff0000">std::iterator_traits&lt;Iterator&gt;::value_type</span>
    sum(Iterator first, Iterator last)
{
  // イテレータの型から値型を取得する
  typedef
    typename <span style="color:#ff0000">std::iterator_traits&lt;Iterator&gt;::value_type</span>
  value_type;

  // 取得した値型の変数を定義し、合計値を計算する
  value_type result = value_type();
  for (; first != last; ++first) {
    result += *first;
  }
  return result;
}

int main()
{
  // std::vector
  {
    std::vector&lt;int&gt; v = {1, 2, 3, 4, 5};

    int result = sum(std::begin(v), std::end(v));
    std::cout &lt;&lt; result &lt;&lt; std::endl;
  }
  // ポインタ
  {
    int ar[] = {1, 2, 3, 4, 5};

    int result = sum(std::begin(ar), std::end(ar));
    std::cout &lt;&lt; result &lt;&lt; std::endl;
  }
}<span style="color: #000">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;iterator&gt;

// 範囲の合計値を計算する
template &lt;class Iterator&gt;
typename </span></code></pre>
</p>
<h3>出力</h3>
<p><pre><code><span style="color: #000">15
15
</span></code></pre></p>
<h2>参照</h2>
<footer><a href="https://github.com/cpprefjp/site/edit/master/reference/iterator/iterator_traits.md" target="_blank">編集</a></footer>
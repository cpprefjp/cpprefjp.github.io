<h1>getline</h1>
<p><pre class="codehilite"><code class="language-cpp"><span style="color: #000">basic_istream&lt;CharT, Traits&gt;&amp; getline(char_type* s, streamsize n);
basic_istream&lt;CharT, Traits&gt;&amp; getline(char_type* s, streamsize n, char_type delim);</span></code></pre>
</p>
<h2>概要</h2>
<p>（非書式化入力関数）ストリームから改行文字が現れるまで（1行すべて）あるいは仮引数<code><span style="color: #000">delim</span></code>で指定された文字までの文字列を入力する。</p>
<h2>効果</h2>
<p>仮引数<code><span style="color: #000">delim</span></code>がない多重定義では、<code><span style="color: #000">getline(s, widen('\n'))</span></code>を呼び出す。
仮引数<code><span style="color: #000">delim</span></code>を持つものは以下の通り。</p>
<ol>
<li><a href="http://cpprefjp.github.io/reference/istream/basic_istream/sentry.html"><code><span style="color: #000">basic_istream&lt;&gt;::sentry</span></code></a>オブジェクトを構築する。<code><span style="color: #000">sentry</span></code>オブジェクトが失敗を示した場合、何もしない。</li>
<li>以下のいずれかを満たすまで、文字を入力して配列の要素へのポインタ<code><span style="color: #000">s</span></code>に書き込んでゆく。以下の条件判断はこの順で行う。<ol>
<li>EOFに達した。この場合、<code><span style="color: #000">is.setstate(ios_base::eofbit)</span></code>を呼び出す。</li>
<li><code><span style="color: #000">Traits::eq(c, delim)</span></code>が真となった。</li>
<li>読み取った文字数が<code><span style="color: #000">n - 1</span></code>になるまで書き込んだもしくは<code><span style="color: #000">n</span></code>が1未満であった。この場合、<code><span style="color: #000">is.setstate(ios_base::failbit)</span></code>を呼び出す。</li>
</ol>
</li>
<li>（<code><span style="color: #000">sentry</span></code>オブジェクトを破棄したのち）1文字も入力がなされなかったら、<code><span style="color: #000">is.setstate(ios_base::failbit)</span></code>を呼び出す。<ul>
<li>空行の場合はこれに該当しないことに注意。なぜなら、改行文字1文字を入力しているためである。</li>
</ul>
</li>
</ol>
<p><code><span style="color: #000">n</span></code>が1以上の場合、必ず<code><span style="color: #000">s</span></code>の末尾にヌル文字を書き込む。</p>
<h2>戻り値</h2>
<ul>
<li>仮引数<code><span style="color: #000">is</span></code>。</li>
</ul>
<h2>例</h2>
<p><pre class="codehilite"><code class="language-cpp"><span style="color: #000">#include &lt;iostream&gt;

int main() {
  const int buffer_size = 8;
  char buffer[buffer_size];
  // 1行入力するまで繰り返す。
  for (;;) {
    std::cin.getline(buffer, buffer_size);
    if (std::cin.bad() || std::cin.eof()) {
      break;
    }
    std::cout &lt;&lt; buffer;
    if (std::cin.fail()) {
      // 1行の途中までしか入力できていない。
      std::cin.clear(std::cin.rdstate() &amp; ~std::ios_base::failbit);
    } else {
      // 行の終わりまで入力できたのでループを脱出する。
      std::cout &lt;&lt; std::endl;
      break;
    }
  }
}</span></code></pre>
</p>
<h3>入力</h3>
<p><pre><code><span style="color: #000">Natsu wa yoru.
</span></code></pre></p>
<h3>出力</h3>
<p><pre><code><span style="color: #000">Natsu wa yoru.
</span></code></pre></p>
<h2>実装例</h2>
<p>TBD</p>
<h2>バージョン</h2>
<h3>言語</h3>
<ul>
<li>C++98</li>
</ul>
<h2>参照</h2>
<ul>
<li><a href="http://cpprefjp.github.io/reference/string/basic_string/getline.html"><code><span style="color: #000">std::getline</span></code></a>: <code><span style="color: #000">std::basic_string</span></code>へ入力を行うもの。</li>
</ul>
<footer><a href="https://github.com/cpprefjp/site/edit/master/reference/istream/basic_istream/getline.md" target="_blank">編集</a></footer>
<h1>move (utility) (C++11)</h1>
<p><pre class="codehilite"><code class="language-cpp"><span style="color: #000">namespace std {
  template &lt;class T&gt;
  typename remove_reference&lt;T&gt;::type &amp;&amp; move(T&amp;&amp; t) noexcept;
}</span></code></pre>
</p>
<h2>概要</h2>
<p>左辺値を右辺値にキャストする。</p>
<p>この関数は、渡されたオブジェクトを右辺値参照にキャストし、ムーブセマンティクスを適用させる。</p>
<h2>戻り値</h2>
<p><code><span style="color: #000">static_cast&lt;typename std::remove_reference&lt;T&gt;::type &amp;&amp;&gt;(t)</span></code></p>
<h2>例外</h2>
<p>投げない</p>
<h2>例</h2>
<p><pre class="codehilite"><code class="language-cpp"><span style="color:#ff0000">move</span>" &lt;&lt; std::endl;
  }
};

int main()
{
  A a;
  A a1 = a;             // A(const A&amp;)が呼ばれる
  A a2 = std::<span style="color:#ff0000">move</span>(a);  // A(A&amp;&amp;)が呼ばれる
}<span style="color: #000">#include &lt;iostream&gt;
#include &lt;utility&gt;

struct A {
  A() {}

  // 左辺値からコピー
  A(const A&amp;)
  {
    std::cout &lt;&lt; "copy" &lt;&lt; std::endl;
  }

  // 右辺値からムーブ
  A(A &amp;&amp;)
  {
    std::cout &lt;&lt; "</span></code></pre>
</p>
<h3>出力</h3>
<p><pre><code><span style="color: #000">copy
move
</span></code></pre>
上記の<code><span style="color: #000">a1</span></code>の初期化において、<code><span style="color: #000">a</span></code>は左辺値なので、コンストラクタ<code><span style="color: #000">A(const A&amp;)</span></code>が呼び出され、<code><span style="color: #000">a1</span></code>は<code><span style="color: #000">a</span></code>からコピーされる。<code><span style="color: #000">a2</span></code>の初期化においては、<code><span style="color: #000">std::move(a)</span></code>呼び出しのため、コンストラクタ<code><span style="color: #000">A(A&amp;&amp;)</span></code>が呼ばれ、<code><span style="color: #000">a2</span></code>は<code><span style="color: #000">a</span></code>からムーブされる。</p>
<h2>バージョン</h2>
<h3>言語</h3>
<ul>
<li>C++11</li>
</ul>
<h3>処理系</h3>
<ul>
<li><a href="http://cpprefjp.github.io/implementation.html#clang">Clang</a>: ??</li>
<li><a href="http://cpprefjp.github.io/implementation.html#gcc">GCC</a>: </li>
<li><a href="http://cpprefjp.github.io/implementation.html#gcc">GCC, C++0x mode</a>: 4.6.1</li>
<li><a href="http://cpprefjp.github.io/implementation.html#icc">ICC</a>: ??</li>
<li><a href="http://cpprefjp.github.io/implementation.html#visual_cpp">Visual C++</a> ??</li>
</ul>
<h2>参照</h2>
<footer><a href="https://github.com/cpprefjp/site/edit/master/reference/utility/move.md" target="_blank">編集</a></footer>
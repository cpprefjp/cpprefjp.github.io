<h1>mismatch</h1>
<p><pre class="codehilite"><code class="language-cpp"><a href="http://cpprefjp.github.io/reference/utility/pair.html">pair</a>&lt;InputIterator1, InputIterator2&gt;
    mismatch(InputIterator1 first1, InputIterator1 last1, InputIterator2 first2);

  template &lt;class InputIterator1, class InputIterator2, class BinaryPredicate&gt;
  <a href="http://cpprefjp.github.io/reference/utility/pair.html">pair</a>&lt;InputIterator1, InputIterator2&gt;
  mismatch(InputIterator1 first1, InputIterator1 last1,
           InputIterator2 first2, BinaryPredicate pred);
}<span style="color: #000">namespace std {
  template &lt;class InputIterator1, class InputIterator2&gt;
  </span></code></pre>
</p>
<h2>概要</h2>
<p>2つのシーケンスが一致していない場所を検索する。</p>
<h2>戻り値</h2>
<p><code><span style="color: #000">[first1,last1)</span></code> 内にあるイテレータ <code><span style="color: #000">i</span></code> と、<code><span style="color: #000">j == first2 + (i - first1)</span></code> であるイテレータ <code><span style="color: #000">j</span></code> について、<code><span style="color: #000">!(*i == *j)</span></code> もしくは <code><span style="color: #000">pred(*i, *j) == false</span></code> であるような最初のイテレータのペアを返す。
そのようなイテレータが見つからなかった場合は <code><span style="color: #000">last1</span></code> と <code><span style="color: #000">first2 + (last1 - first1)</span></code> のペアを返す。</p>
<h2>計算量</h2>
<p>最大で <code><span style="color: #000">last1 - first1</span></code> 回の対応する比較もしくは述語が適用される。</p>
<h2>例</h2>
<p><pre class="codehilite"><code class="language-cpp"><span style="color:#ff0000">mismatch</span> の結果で得られた pair に対する情報を出力する
template &lt;class Range1, class Range2, class Pair&gt;
void print_mismatch_value(const Range1&amp; r1, const Range2&amp; r2, const Pair&amp; p) {
  std::cout &lt;&lt; "<span style="color:#ff0000">mismatch</span> index: " &lt;&lt; std::distance(std::begin(r1), p.first) &lt;&lt; std::endl;
  std::cout &lt;&lt; "<span style="color:#ff0000">mismatch</span> value: (" &lt;&lt; (std::end(r1) == p.first  ? "end" : std::to_string(*p.first)) &lt;&lt; ","
                                   &lt;&lt; (std::end(r2) == p.second ? "end" : std::to_string(*p.second)) &lt;&lt; ")"
            &lt;&lt; std::endl;
}

int main() {
  const std::vector&lt;int&gt;   v  = { 1,2,3,4,3,2 };
  const std::array&lt;int, 6&gt; v2 = { 1,2,4,3,2,1 };
  const std::list&lt;int&gt;     v3 = { 1,2,3,4,3, };

  // v と v2 で異なる場所を探す
  auto pair = std::<span style="color:#ff0000">mismatch</span>(v.begin(), v.end(), v2.begin());
  print_mismatch_value(v, v2, pair);

  std::cout &lt;&lt; std::endl;

  // v と v3 で異なる場所を探す。
  // v.size() &gt; v3.size() なので <span style="color:#ff0000">mismatch</span>(v.begin(), v.end(), v3.begin()) とやってはいけない。
  auto pair2 = std::<span style="color:#ff0000">mismatch</span>(v3.begin(), v3.end(), v.begin());
  print_mismatch_value(v3, v, pair2);
}<span style="color: #000">#include &lt;algorithm&gt;
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;array&gt;
#include &lt;list&gt;
#include &lt;iterator&gt; // for begin, end
#include &lt;string&gt;   // for to_string

// </span></code></pre>
</p>
<h3>出力</h3>
<p><pre><code><span style="color: #000">mismatch index: 2
mismatch value: (3,4)

mismatch index: 5
mismatch value: (end,2)
</span></code></pre></p>
<h2>実装例</h2>
<p><pre class="codehilite"><code class="language-cpp"><span style="color: #000">template &lt;class InputIterator1, class InputIterator2&gt;
pair&lt;InputIterator1, InputIterator2&gt; mismatch(
  InputIterator1 first1, InputIterator1 last1, InputIterator2 first2) {
  for ( ; first1 != last1; ++first1, ++first2)
    if (!bool(*first1 == *first2))
      return make_pair(first1, first2);
  return make_pair(first1, first2);
}

template &lt;class InputIterator1, class InputIterator2, class BinaryPredicate&gt;
pair&lt;InputIterator1, InputIterator2&gt; mismatch(
  InputIterator1 first1, InputIterator1 last1, InputIterator2 first2, BinaryPredicate pred) {
  for ( ; first1 != last1; ++first1, ++first2)
    if (!bool(pred(*first1, *first2)))
      return make_pair(first1, first2);
  return make_pair(first1, first2);
}</span></code></pre>
</p>
<footer><a href="https://github.com/cpprefjp/site/edit/master/reference/algorithm/mismatch.md" target="_blank">編集</a></footer>
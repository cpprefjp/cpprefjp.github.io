<h1>rotate</h1>
<p><pre class="codehilite"><code class="language-cpp"><span style="color: #000">namespace std {
  template &lt;class ForwardIterator&gt;
  ForwardIterator rotate(ForwardIterator first,
                         ForwardIterator middle,
                         ForwardIterator last);
}</span></code></pre>
</p>
<h2>概要</h2>
<p>要素の並びを回転させる。</p>
<h2>要件</h2>
<ul>
<li><code><span style="color: #000">[first,middle)</span></code> と <code><span style="color: #000">[middle,last)</span></code> は有効な範囲である必要がある。</li>
<li><code><span style="color: #000">ForwardIterator</span></code> は <code><span style="color: #000">ValueSwappable</span></code> の要件を満たしている必要がある。</li>
<li><code><span style="color: #000">*first</span></code> の型は <code><span style="color: #000">MoveConstructible</span></code> と <code><span style="color: #000">MoveAssignable</span></code> の要件を満たしている必要がある。</li>
</ul>
<h2>効果</h2>
<p>0 以上 <code><span style="color: #000">last - first</span></code> 未満の整数 <code><span style="color: #000">i</span></code> について、<code><span style="color: #000">first + i</span></code> の要素を <code><span style="color: #000">first + (i + (last - middle)) % (last - first)</span></code> の位置へ移動させる。</p>
<h2>戻り値</h2>
<p><code><span style="color: #000">first + (last - middle)</span></code></p>
<h2>備考</h2>
<p>これは左への回転である</p>
<h2>計算量</h2>
<p>最大で <code><span style="color: #000">last - first</span></code> 回 swap する。</p>
<h2>例</h2>
<p><pre class="codehilite"><code class="language-cpp"><span style="color:#ff0000">rotate</span>";

  std::<span style="color:#ff0000">rotate</span>(str.begin(), str.begin() + 2, str.end());

  std::cout &lt;&lt; str &lt;&lt; std::endl;
}<span style="color: #000">#include &lt;algorithm&gt;
#include &lt;iostream&gt;
#include &lt;string&gt;

int main() {
  std::string str = "</span></code></pre>
</p>
<h3>出力</h3>
<p><pre><code><span style="color: #000">tatero
</span></code></pre></p>
<h3>swapをフックして可視化した例</h3>
<p><pre class="codehilite"><code class="language-cpp"><span style="color:#ff0000">rotate</span>内部で実行されるswapを可視化できる。
    // ライブラリの実装によってスワップの順番が異なることがある。
    std::cout &lt;&lt; "swapping "
              &lt;&lt; &amp;lhs &lt;&lt; "(" &lt;&lt; lhs &lt;&lt; ") &lt;-&gt; "
              &lt;&lt; &amp;rhs &lt;&lt; "(" &lt;&lt; rhs &lt;&lt; ")" &lt;&lt; std::endl;
    std::swap(lhs, rhs);
    std::copy(seq.begin(), seq.end(), std::ostream_iterator&lt;char&gt;(std::cout));
    std::cout &lt;&lt; "\n\n";
}

int main()
{
    std::string str("012345");
    seq.assign(str.begin(), str.end());
    std::<span style="color:#ff0000">rotate</span>(seq.begin(), seq.begin() + 2, seq.end());
}<span style="color: #000">#include &lt;iostream&gt;
#include &lt;algorithm&gt;
#include &lt;iterator&gt;
#include &lt;vector&gt;
#include &lt;utility&gt;

class Elem
{
public:
  Elem() : c_('\0') {}
  explicit Elem(char c) : c_(c) {}
  Elem&amp; operator=(const char c) { c_ = c; return *this; }
  operator char() const { return c_; }
private:
  char c_;
};

std::vector&lt;Elem&gt; seq;

void swap(Elem&amp; lhs, Elem&amp; rhs)
{
    // std::</span></code></pre>
</p>
<h4>出力例</h4>
<p><pre><code><span style="color: #000">swapping 0x1806040(0) &lt;-&gt; 0x1806042(2)
210345

swapping 0x1806041(1) &lt;-&gt; 0x1806043(3)
230145

swapping 0x1806042(0) &lt;-&gt; 0x1806044(4)
234105

swapping 0x1806043(1) &lt;-&gt; 0x1806045(5)
234501
</span></code></pre></p>
<h2>実装例</h2>
<p><a href="http://www.kmonos.net/wlog/115.html#_0007101223" target="_blank">std::rotate を読んでみた</a></p>
<footer><a href="https://github.com/cpprefjp/site/edit/master/reference/algorithm/rotate.md" target="_blank">編集</a></footer>
<h1>コンストラクタ</h1>
<p><pre class="codehilite"><code class="language-cpp"><a href="http://cpprefjp.github.io/reference/initializer_list.html">initializer_list</a>&lt;T&gt; il, const Allocator&amp; a = Allocator());<span style="color: #000">explicit vector(const Allocator&amp; a = Allocator());
explicit vector(size_type n);
explicit vector(size_type n, const T&amp; value, const Allocator&amp; a = Allocator());
template &lt;class InputIter&gt; vector(InputIter first, InputIter last, const Allocator&amp; a = Allocator());
vector(const vector&amp; x);
vector(vector&amp;&amp; x);
vector(const vector&amp; x, const Allocator&amp; a);
vector(vector&amp;&amp; x, const Allocator&amp; a);
vector(</span></code></pre>
</p>
<h2><code><span style="color: #000">vector</span></code>の構築</h2>
<p><code><span style="color: #000">vector</span></code>オブジェクトを次に示す通りの要素で初期化する。</p>
<h3>定義</h3>
<ul>
<li><code><span style="color: #000">explicit vector(const Allocator&amp; a = Allocator());</span></code><ul>
<li>デフォルトコンストラクタ。<code><span style="color: #000">size() == 0</span></code>の要素を持たない空の<code><span style="color: #000">vector</span></code>オブジェクトを構築する。</li>
</ul>
</li>
<li><code><span style="color: #000">explicit vector(size_type n);</span></code><ul>
<li><code><span style="color: #000">n</span></code>個の<code><span style="color: #000">T()</span></code>初期化された要素を保持した<code><span style="color: #000">vector</span></code>オブジェクトを構築する。</li>
</ul>
</li>
<li><code><span style="color: #000">explicit vector(size_type n, const T&amp; value, const Allocator&amp; a = Allocator());</span></code><ul>
<li>繰り返しシーケンスコンストラクタ。<code><span style="color: #000">value</span></code>のコピーを<code><span style="color: #000">n</span></code>個要素として保持した<code><span style="color: #000">vector</span></code>オブジェクトを構築する。</li>
</ul>
</li>
<li><code><span style="color: #000">template &lt;class InputIter&gt; vector(InputIter first, InputIter last, const Allocator&amp; a = Allocator());</span></code><ul>
<li>イテレータ範囲コンストラクタ。<code><span style="color: #000">[first, last)</span></code>の範囲を要素としてコピーした<code><span style="color: #000">vector</span></code>オブジェクトを構築する。</li>
</ul>
</li>
<li><code><span style="color: #000">vector(const vector&amp; x);</span></code><ul>
<li>コピーコンストラクタ。<code><span style="color: #000">x</span></code>と同じ要素を保持した<code><span style="color: #000">vector</span></code>オブジェクトを構築する。</li>
</ul>
</li>
<li><code><span style="color: #000">vector(vector&amp;&amp; x);</span></code> (C++11から)<ul>
<li>ムーブコンストラクタ。<code><span style="color: #000">x</span></code>の指す先を自分の領域として<code><span style="color: #000">vector</span></code>オブジェクトを構築する。</li>
</ul>
</li>
<li><code><span style="color: #000">vector(const vector&amp; x, const Allocator&amp; a);</span></code> (C++11から)<ul>
<li>アロケータを別で受け取り、<code><span style="color: #000">vector</span></code>オブジェクトをコピー構築する。</li>
</ul>
</li>
<li><code><span style="color: #000">vector(vector&amp;&amp; x, const Allocator&amp; a);</span></code> (C++11から)<ul>
<li>アロケータを別で受け取り、<code><span style="color: #000">vector</span></code>オブジェクトをムーブ構築する。</li>
</ul>
</li>
<li><code><span style="color: #000">vector(initializer_list&lt;T&gt; il, const Allocator&amp; a = Allocator());</span></code> (C++11から)<ul>
<li>初期化子リストを受け取るコンストラクタ。<code><span style="color: #000">vector(first, last, alloc)</span></code>と等価。</li>
</ul>
</li>
</ul>
<h3>パラメータ</h3>
<ul>
<li><code><span style="color: #000">n</span></code><ul>
<li><code><span style="color: #000">value</span></code>の繰り返し個数。<code><span style="color: #000">size_type</span></code>メンバ型は符号なし整数。</li>
</ul>
</li>
<li><code><span style="color: #000">value</span></code><ul>
<li>コンテナの要素として<code><span style="color: #000">n</span></code>個繰り返される値。<code><span style="color: #000">T</span></code>は1番目のテンプレートパラメータ(要素の型)。</li>
</ul>
</li>
<li><code><span style="color: #000">first</span></code>, <code><span style="color: #000">last</span></code><ul>
<li>入力イテレータの組。<code><span style="color: #000">[first, last)</span></code>の範囲を全てコンテナの要素としてコピーする。</li>
</ul>
</li>
<li><code><span style="color: #000">x</span></code><ul>
<li>コピー(ムーブ)元の同じテンプレートパラメータを持った<code><span style="color: #000">vector</span></code>オブジェクト。</li>
</ul>
</li>
<li><code><span style="color: #000">a</span></code><ul>
<li>新しく生成する代わりに使用されるべき<code><span style="color: #000">Allocator</span></code>オブジェクト。標準の<code><span style="color: #000">std::allocator</span></code>を使う限り指定する意味は無い。</li>
</ul>
</li>
</ul>
<h3>計算量:</h3>
<p>デフォルトコンストラクタは定数時間。</p>
<p>繰り返しシーケンスコンストラクタは<code><span style="color: #000">n</span></code>に対して線形時間。</p>
<p>イテレータペアコンストラクタは<code><span style="color: #000">distance(first, last)</span></code>に対して線形時間。ランダムアクセスイテレータでない場合は要素数が分からないため、再確保のコストが(対数オーダで)別途発生する。</p>
<p>コピーコンストラクタは<code><span style="color: #000">x.size()</span></code>に対して線形時間。</p>
<p>ムーブコンストラクタは定数時間。</p>
<h2>例</h2>
<p><pre class="codehilite"><code class="language-cpp"><span style="color: #000">#include &lt;vector&gt;

#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;algorithm&gt; // std::for_each

template &lt;class T&gt;
void print(const std::string&amp; name, const std::vector&lt;T&gt;&amp; v)
{
  std::cout &lt;&lt; "name : {";
  std::for_each(v.begin(), v.end(), [](const T&amp; x) { std::cout &lt;&lt; x &lt;&lt; " "; });
  std::cout &lt;&lt; "}" &lt;&lt; std::endl;
}

int main ()
{
  std::vector&lt;int&gt; first;                               // int型の空のvectorを構築
  std::vector&lt;int&gt; second(4, 100);                      // 4個のint値からなるvectorを構築し、全ての値を100で初期化
  std::vector&lt;int&gt; third(second.begin(),second.end());  // secondのイテレータ範囲からvectorを構築
  std::vector&lt;int&gt; fourth(third);                       // thirdをコピー

  // 組み込み配列からvectorを構築
  int myints[] = {16,2,77,29};
  std::vector&lt;int&gt; fifth(myints, myints + sizeof(myints) / sizeof(int));
  // fifth(std::begin(myints), std::end(myints)); でもOK

  // 初期化子リストからvectorを構築
  std::vector&lt;int&gt; sixth = {1, 2, 3};

  print("first", first);
  print("second", second);
  print("third", third);
  print("fourth", fourth);
  print("fifth", fifth);
  print("sixth", sixth);
}</span></code></pre>
</p>
<h3>出力</h3>
<p><pre><code><span style="color: #000">name : {}
name : {100 100 100 100 }
name : {100 100 100 100 }
name : {100 100 100 100 }
name : {16 2 77 29 }
name : {1 2 3 }
</span></code></pre></p>
<footer><a href="https://github.com/cpprefjp/site/edit/master/reference/vector/vector.md" target="_blank">編集</a></footer>
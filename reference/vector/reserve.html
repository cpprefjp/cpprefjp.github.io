<h1>reserve</h1>
<p><pre class="codehilite"><code class="language-cpp"><span style="color: #000">void reserve(size_type n);</span></code></pre>
</p>
<h2>概要</h2>
<p>capacityを変更する</p>
<h2>効果</h2>
<p><code><span style="color: #000">vector</span></code>のサイズが変更されようとしていることを通知し、それによって適宜保持領域の確保を行なわれるようにする。<code><span style="color: #000">reserve()</span></code>呼び出しの後、再確保が行われた場合には、<a href="http://cpprefjp.github.io/reference/vector/capacity.html"><code><span style="color: #000">capacity()</span></code></a>は<code><span style="color: #000">reserve()</span></code>の引数より大きいか等しくなる。それ以外の場合には、<a href="http://cpprefjp.github.io/reference/vector/capacity.html"><code><span style="color: #000">capacity()</span></code></a>は以前の値と等しくなる。再確保は、現在の容量が<code><span style="color: #000">reserve()</span></code>の引数よりも小さいときに生じ、それ以外の場合には生じない。例外が発生した場合は、非CopyInsertable型のムーブコンストラクターで発生した場合を除き、何も影響を与えない。</p>
<h2>戻り値</h2>
<p>なし</p>
<h2>計算量</h2>
<p>シーケンスのサイズは変更されず、最大シーケンスのサイズに対して線形時間の時間がかかる。</p>
<h2>例外</h2>
<p><code><span style="color: #000">n &gt; max_size()</span></code> の場合には、<code><span style="color: #000">length_error</span></code>が発生する。また、<code><span style="color: #000">reserve()</span></code>は<code><span style="color: #000">Allocator::allocate()</span></code>を内部的に使用し、これにより何らかの例外が発生することがある。</p>
<h2>備考</h2>
<p>再確保された場合にはシーケンス中の要素を指す全ての参照、ポインタ、イテレータが無効になる。<code><span style="color: #000">reserve()</span></code>が呼ばれた後は、挿入によって<code><span style="color: #000">vector</span></code>の要素数が<code><span style="color: #000">capacity()</span></code>の値よりも大きくなるまでは、挿入によって再確保が行われないことが保証されている。</p>
<footer><a href="https://github.com/cpprefjp/site/edit/master/reference/vector/reserve.md" target="_blank">編集</a></footer>
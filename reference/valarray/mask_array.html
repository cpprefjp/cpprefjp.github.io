<h1>mask_array</h1>
<p><pre class="codehilite"><code class="language-cpp"><span style="color: #000">namespace std {
  template &lt;class T&gt;
  class mask_array;
}</span></code></pre>
</p>
<h2>概要</h2>
<p><code><span style="color: #000">mask_array</span></code>クラスは、非<code><span style="color: #000">const</span></code>な<a href="http://cpprefjp.github.io/reference/valarray/valarray.html"><code><span style="color: #000">valarray</span></code></a>オブジェクトから<code><span style="color: #000">valarray&lt;bool&gt;</span></code>によって抽出した要素を、参照するためのクラスである。抽出条件となる<code><span style="color: #000">valarray&lt;bool&gt;</span></code>は、抽出元の<code><span style="color: #000">valarray&lt;T&gt;</span></code>と同じ長さを持つ配列であり、その各要素は、<code><span style="color: #000">true</span></code>なら対応する要素を抽出し、<code><span style="color: #000">false</span></code>なら対応する要素を抽出しないことを表す。</p>
<p>このクラスのオブジェクトは、<a href="http://cpprefjp.github.io/reference/valarray/valarray.html"><code><span style="color: #000">valarray</span></code></a>クラスの<a href="http://cpprefjp.github.io/reference/valarray/valarray/op_at.html"><code><span style="color: #000">operator[]</span></code></a>によって返される。</p>
<p>テンプレートパラメータは、以下を意味する：</p>
<ul>
<li><code><span style="color: #000">T</span></code> : <code><span style="color: #000">valarray</span></code>クラスの要素型<code><span style="color: #000">T</span></code>と同じ型</li>
</ul>
<h2>メンバ関数</h2>
<h3>構築・破棄</h3>
<table border="1" bordercolor="#888" style="border-collapse:collapse">
<thead>
<tr>
<th>名前</th>
<th>説明</th>
<th>対応バージョン</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://cpprefjp.github.io/reference/valarray/mask_array/mask_array.html"><code><span style="color: #000">(constructor)</span></code></a></td>
<td>コンストラクタ</td>
<td></td>
</tr>
<tr>
<td><code><span style="color: #000">~mask_array() = default;</span></code></td>
<td>デストラクタ</td>
<td></td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/valarray/mask_array/op_assign.html"><code><span style="color: #000">operator=</span></code></a></td>
<td>代入演算子</td>
<td></td>
</tr>
</tbody>
</table>
<h3>四則演算</h3>
<table border="1" bordercolor="#888" style="border-collapse:collapse">
<thead>
<tr>
<th>名前</th>
<th>説明</th>
<th>対応バージョン</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://cpprefjp.github.io/reference/valarray/mask_array/op_plus_assign.html"><code><span style="color: #000">operator+=</span></code></a></td>
<td>加算の複合代入</td>
<td></td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/valarray/mask_array/op_minus_assign.html"><code><span style="color: #000">operator-=</span></code></a></td>
<td>減算の複合代入</td>
<td></td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/valarray/mask_array/op_multiply_assign.html"><code><span style="color: #000">operator*=</span></code></a></td>
<td>乗算の複合代入</td>
<td></td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/valarray/mask_array/op_divide_assign.html"><code><span style="color: #000">operator/=</span></code></a></td>
<td>除算の複合代入</td>
<td></td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/valarray/mask_array/op_modulo_assign.html"><code><span style="color: #000">operator%=</span></code></a></td>
<td>剰余算の複合代入</td>
<td></td>
</tr>
</tbody>
</table>
<h3>ビット演算</h3>
<table border="1" bordercolor="#888" style="border-collapse:collapse">
<thead>
<tr>
<th>名前</th>
<th>説明</th>
<th>対応バージョン</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://cpprefjp.github.io/reference/valarray/mask_array/op_and_assign.html"><code><span style="color: #000">operator&amp;=</span></code></a></td>
<td>論理積の複合代入</td>
<td></td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/valarray/mask_array/op_or_assign.html"><code><span style="color: #000">operator|=</span></code></a></td>
<td>論理和の複合代入</td>
<td></td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/valarray/mask_array/op_xor_assign.html"><code><span style="color: #000">operator^=</span></code></a></td>
<td>排他的論理和の複合代入</td>
<td></td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/valarray/mask_array/op_left_shift_assign.html"><code><span style="color: #000">operator&lt;&lt;=</span></code></a></td>
<td>左シフトの複合代入</td>
<td></td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/valarray/mask_array/op_right_shift_assign.html"><code><span style="color: #000">operator&gt;&gt;=</span></code></a></td>
<td>右シフトの複合代入</td>
<td></td>
</tr>
</tbody>
</table>
<h2>メンバ型</h2>
<table border="1" bordercolor="#888" style="border-collapse:collapse">
<thead>
<tr>
<th>名前</th>
<th>説明</th>
<th>対応バージョン</th>
</tr>
</thead>
<tbody>
<tr>
<td><code><span style="color: #000">value_type</span></code></td>
<td>要素型<code><span style="color: #000">T</span></code></td>
<td></td>
</tr>
</tbody>
</table>
<h2>例</h2>
<p><pre class="codehilite"><code class="language-cpp"><span style="color: #000">#include &lt;iostream&gt;
#include &lt;valarray&gt;

int main()
{
  std::valarray&lt;int&gt; v =     {1,     2,     3,
                              4,     5,     6};
  std::valarray&lt;bool&gt; mask = {false, true,  false,
                              true,  false, true};

  // trueに対応する要素のみを抽出する
  std::mask_array&lt;int&gt; result = v[mask];

  // 抽出した要素を書き換える
  result *= std::valarray&lt;int&gt;(2, 3);

  for (int x : v) {
    std::cout &lt;&lt; x &lt;&lt; std::endl;
  }
}</span></code></pre>
</p>
<h3>出力</h3>
<p><pre><code><span style="color: #000">1
4
3
8
5
12
</span></code></pre></p>
<footer><a href="https://github.com/cpprefjp/site/edit/master/reference/valarray/mask_array.md" target="_blank">編集</a></footer>
<h1>gslice_array</h1>
<p><pre class="codehilite"><code class="language-cpp"><span style="color: #000">namespace std {
  template &lt;class T&gt;
  class gslice_array;
}</span></code></pre>
</p>
<h2>概要</h2>
<p><code><span style="color: #000">gslice_array</span></code>クラスは、非<code><span style="color: #000">const</span></code>な<a href="http://cpprefjp.github.io/reference/valarray/valarray.html"><code><span style="color: #000">valarray</span></code></a>オブジェクトから<a href="http://cpprefjp.github.io/reference/valarray/gslice.html"><code><span style="color: #000">gslice</span></code></a>によって抽出した要素を、参照するためのクラスである。<code><span style="color: #000">gslice</span></code>は、<code><span style="color: #000">valarray</span></code>オブジェクトを行列指定で抽出する機能と見なせる。</p>
<p>このクラスのオブジェクトは、<a href="http://cpprefjp.github.io/reference/valarray/valarray.html"><code><span style="color: #000">valarray</span></code></a>クラスの<a href="http://cpprefjp.github.io/reference/valarray/valarray/op_at.html"><code><span style="color: #000">operator[]</span></code></a>によって返される。</p>
<p>テンプレートパラメータは、以下を意味する：</p>
<ul>
<li><code><span style="color: #000">T</span></code> : <code><span style="color: #000">valarray</span></code>クラスの要素型<code><span style="color: #000">T</span></code>と同じ型</li>
</ul>
<h2>メンバ関数</h2>
<h3>構築・破棄</h3>
<table border="1" bordercolor="#888" style="border-collapse:collapse">
<thead>
<tr>
<th>名前</th>
<th>説明</th>
<th>対応バージョン</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://cpprefjp.github.io/reference/valarray/gslice_array/gslice_array.html"><code><span style="color: #000">(constructor)</span></code></a></td>
<td>コンストラクタ</td>
<td></td>
</tr>
<tr>
<td><code><span style="color: #000">~gslice_array() = default;</span></code></td>
<td>デストラクタ</td>
<td></td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/valarray/gslice_array/op_assign.html"><code><span style="color: #000">operator=</span></code></a></td>
<td>代入演算子</td>
<td></td>
</tr>
</tbody>
</table>
<h3>四則演算</h3>
<table border="1" bordercolor="#888" style="border-collapse:collapse">
<thead>
<tr>
<th>名前</th>
<th>説明</th>
<th>対応バージョン</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://cpprefjp.github.io/reference/valarray/gslice_array/op_plus_assign.html"><code><span style="color: #000">operator+=</span></code></a></td>
<td>加算の複合代入</td>
<td></td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/valarray/gslice_array/op_minus_assign.html"><code><span style="color: #000">operator-=</span></code></a></td>
<td>減算の複合代入</td>
<td></td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/valarray/gslice_array/op_multiply_assign.html"><code><span style="color: #000">operator*=</span></code></a></td>
<td>乗算の複合代入</td>
<td></td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/valarray/gslice_array/op_divide_assign.html"><code><span style="color: #000">operator/=</span></code></a></td>
<td>除算の複合代入</td>
<td></td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/valarray/gslice_array/op_modulo_assign.html"><code><span style="color: #000">operator%=</span></code></a></td>
<td>剰余算の複合代入</td>
<td></td>
</tr>
</tbody>
</table>
<h3>ビット演算</h3>
<table border="1" bordercolor="#888" style="border-collapse:collapse">
<thead>
<tr>
<th>名前</th>
<th>説明</th>
<th>対応バージョン</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://cpprefjp.github.io/reference/valarray/gslice_array/op_and_assign.html"><code><span style="color: #000">operator&amp;=</span></code></a></td>
<td>論理積の複合代入</td>
<td></td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/valarray/gslice_array/op_or_assign.html"><code><span style="color: #000">operator|=</span></code></a></td>
<td>論理和の複合代入</td>
<td></td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/valarray/gslice_array/op_xor_assign.html"><code><span style="color: #000">operator^=</span></code></a></td>
<td>排他的論理和の複合代入</td>
<td></td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/valarray/gslice_array/op_left_shift_assign.html"><code><span style="color: #000">operator&lt;&lt;=</span></code></a></td>
<td>左シフトの複合代入</td>
<td></td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/valarray/gslice_array/op_right_shift_assign.html"><code><span style="color: #000">operator&gt;&gt;=</span></code></a></td>
<td>右シフトの複合代入</td>
<td></td>
</tr>
</tbody>
</table>
<h2>メンバ型</h2>
<table border="1" bordercolor="#888" style="border-collapse:collapse">
<thead>
<tr>
<th>名前</th>
<th>説明</th>
<th>対応バージョン</th>
</tr>
</thead>
<tbody>
<tr>
<td><code><span style="color: #000">value_type</span></code></td>
<td>要素型<code><span style="color: #000">T</span></code></td>
<td></td>
</tr>
</tbody>
</table>
<h2>例</h2>
<p><pre class="codehilite"><code class="language-cpp"><span style="color: #000">#include &lt;iostream&gt;
#include &lt;iomanip&gt; // setw
#include &lt;valarray&gt;
#include &lt;numeric&gt; // iota

const std::size_t x_size = 4;
const std::size_t y_size = 4;

std::size_t make_position(std::size_t x, std::size_t y)
{
  return x_size * y + x;
}

int main()
{
  // 4x4の行列
  std::valarray&lt;int&gt; v(x_size * y_size);
  std::iota(std::begin(v), std::end(v), 0); // 0からの連番にする

  // (1,1)の位置から、横に3要素、縦に2要素を抽出する
  const std::size_t start = make_position(1, 1);
  const std::valarray&lt;std::size_t&gt; lengths = {3u, 2u};
  const std::valarray&lt;std::size_t&gt; strides = {x_size, 1u};

  // 抽出した要素を99で埋める
  // v[std::gslice(...)]で返されるオブジェクトがgslice_array
  v[std::gslice(start, lengths, strides)] = 99;

  // 行列を出力
  for (std::size_t i = 0; i &lt; v.size(); ++i) {
    std::cout &lt;&lt; std::setw(2) &lt;&lt; v[i] &lt;&lt; ' ';
    const std::size_t x = i % x_size;
    if (x == x_size - 1)
      std::cout &lt;&lt; std::endl;
  }
}</span></code></pre>
</p>
<h3>出力</h3>
<p><pre><code><span style="color: #000"> 0  1  2  3 
 4 99 99  7 
 8 99 99 11 
12 99 99 15 
</span></code></pre></p>
<footer><a href="https://github.com/cpprefjp/site/edit/master/reference/valarray/gslice_array.md" target="_blank">編集</a></footer>
<h1>gslice</h1>
<p><pre class="codehilite"><code class="language-cpp"><span style="color: #000">namespace std {
  class gslice;
}</span></code></pre>
</p>
<h2>概要</h2>
<p><code><span style="color: #000">gslice</span></code>は、<a href="http://cpprefjp.github.io/reference/valarray/slice.html"><code><span style="color: #000">std::slice</span></code></a> をより一般化したスライス指示用のヘルパークラスである。</p>
<p>このクラスは、<a href="http://cpprefjp.github.io/reference/valarray/valarray.html"><code><span style="color: #000">std::valarray</span></code></a> クラスの <a href="http://cpprefjp.github.io/reference/valarray/valarray/op_at.html"><code><span style="color: #000">operator[]</span></code></a> メンバ関数にスライスの指示を与えるために使用する。</p>
<p>「<code><span style="color: #000">gslice</span></code>」は、「generalized slice (汎用スライス)」の略。</p>
<h2>メンバ関数</h2>
<h3>構築・破棄</h3>
<table border="1" bordercolor="#888" style="border-collapse:collapse">
<thead>
<tr>
<th>名前</th>
<th>説明</th>
<th>対応バージョン</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://cpprefjp.github.io/reference/valarray/slice/slice.html"><code><span style="color: #000">(constructor)</span></code></a></td>
<td>コンストラクタ</td>
<td></td>
</tr>
</tbody>
</table>
<h3>その他メンバ関数</h3>
<table border="1" bordercolor="#888" style="border-collapse:collapse">
<thead>
<tr>
<th>名前</th>
<th>説明</th>
<th>対応バージョン</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://cpprefjp.github.io/reference/valarray/gslice/start.html"><code><span style="color: #000">start</span></code></a></td>
<td>スライスを生成する初期位置を取得する</td>
<td></td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/valarray/gslice/size.html"><code><span style="color: #000">size</span></code></a></td>
<td>生成するスライスの要素数群の <code><span style="color: #000">valarray</span></code> オブジェクトを取得する</td>
<td></td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/valarray/gslice/stride.html"><code><span style="color: #000">stride</span></code></a></td>
<td>スライスを生成する間隔数群の <code><span style="color: #000">valarray</span></code> を取得する</td>
<td></td>
</tr>
</tbody>
</table>
<h2>例</h2>
<p><pre class="codehilite"><code class="language-cpp"><span style="color: #000">#include &lt;valarray&gt;
#include &lt;iostream&gt;

auto main()
  -&gt; int
{
  std::valarray&lt;int&gt; a( 40 );
  std::iota( std::begin(a), std::end(a), 16 );

  // スライスの開始位置 3（start）から
  // 10個（strides[0]）おきに 3箇所（length[0]）
  // について、さらにそこから、
  //  3個（strides[1]）おきに 4箇所（legnth[1]）
  // を抜き出す。
  constexpr auto             start   = 3;
  std::valarray&lt;std::size_t&gt; lengths = {  3, 4 };
  std::valarray&lt;std::size_t&gt; strides = { 10, 3 };

  std::gslice gs( start, lengths, strides );

  auto gsliced_array = a[ gs ];

  decltype( a ) b( gsliced_array );

  for ( auto v : b )
    std::cout &lt;&lt; v &lt;&lt; "\n";
  std::cout &lt;&lt; std::flush;
}</span></code></pre>
</p>
<h3>出力</h3>
<p><pre><code><span style="color: #000">19
22
25
28
29
32
35
38
39
42
45
48
</span></code></pre>
- 19, 29, 39 は <code><span style="color: #000">strides[0]</span></code> 個おきに <code><span style="color: #000">lengths[0]</span></code> 個の位置。
    - 19 は元の<code><span style="color: #000">s</span></code>の <code><span style="color: #000">start + strides[0] * 0</span></code> 番目の要素。
        - 19, 22, 25, 28 は <code><span style="color: #000">strides[1]</span></code> 個おきに <code><span style="color: #000">lengths[1]</span></code> 個の要素。
    - 29 は元の<code><span style="color: #000">s</span></code>の <code><span style="color: #000">start + strides[0] * 1</span></code> 番目の要素。
        - 29, 32, 35, 38 は <code><span style="color: #000">strides[1]</span></code> 個おきに <code><span style="color: #000">lengths[1]</span></code> 個の要素。
    - 39 は元の<code><span style="color: #000">s</span></code>の <code><span style="color: #000">start + strides[0] * 2</span></code> 番目の要素。
        - 39, 42, 45, 48 は <code><span style="color: #000">strides[1]</span></code> 個おきに <code><span style="color: #000">lengths[1]</span></code> 個の要素。</p>
<footer><a href="https://github.com/cpprefjp/site/edit/master/reference/valarray/gslice.md" target="_blank">編集</a></footer>
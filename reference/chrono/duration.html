<h1>duration (C++11)</h1>
<p><pre class="codehilite"><code class="language-cpp"><span style="color: #000">namespace std {
namespace chrono {
  template &lt;class Rep, class Period = ratio&lt;1&gt;&gt;
  class duration;
}}</span></code></pre>
</p>
<h2>概要</h2>
<p><code><span style="color: #000">duration</span></code>は、2つの時間の経過時間を表現するための型である。
<code><span style="color: #000">duration</span></code>のテンプレートパラメータである<code><span style="color: #000">ratio</span></code>の値によって、時間のためのあらゆる単位(ナノ秒、ミリ秒、秒, etc...)を表現することができる。</p>
<p>標準では、以下の<code><span style="color: #000">typedef</span></code>が提供される：</p>
<table border="1" bordercolor="#888" style="border-collapse:collapse">
<thead>
<tr>
<th><code><span style="color: #000">typedef名</span></code></th>
<th>説明</th>
<th>対応バージョン</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://cpprefjp.github.io/reference/chrono/nanoseconds.html"><code><span style="color: #000">nanoseconds</span></code></a></td>
<td>ナノ秒</td>
<td>C++11</td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/chrono/microseconds.html"><code><span style="color: #000">microseconds</span></code></a></td>
<td>マイクロ秒</td>
<td>C++11</td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/chrono/milliseconds.html"><code><span style="color: #000">milliseconds</span></code></a></td>
<td>ミリ秒</td>
<td>C++11</td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/chrono/seconds.html"><code><span style="color: #000">seconds</span></code></a></td>
<td>秒</td>
<td>C++11</td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/chrono/minutes.html"><code><span style="color: #000">minites</span></code></a></td>
<td>分</td>
<td>C++11</td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/chrono/hours.html"><code><span style="color: #000">hour</span></code></a></td>
<td>時</td>
<td>C++11</td>
</tr>
</tbody>
</table>
<h2>メンバ関数</h2>
<h3>構築／コピー／破棄</h3>
<table border="1" bordercolor="#888" style="border-collapse:collapse">
<thead>
<tr>
<th>名前</th>
<th>説明</th>
<th>対応バージョン</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://cpprefjp.github.io/reference/chrono/duration/duration.html"><code><span style="color: #000">(constructor)</span></code></a></td>
<td>コンストラクタ</td>
<td>C++11</td>
</tr>
<tr>
<td><code><span style="color: #000">~duration() = default;</span></code></td>
<td>デストラクタ</td>
<td>C++11</td>
</tr>
<tr>
<td><code><span style="color: #000">operator=(const duration&amp;) = default;</span></code></td>
<td>代入演算子</td>
<td>C++11</td>
</tr>
</tbody>
</table>
<h3>観測</h3>
<table border="1" bordercolor="#888" style="border-collapse:collapse">
<thead>
<tr>
<th>名前</th>
<th>説明</th>
<th>対応バージョン</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://cpprefjp.github.io/reference/chrono/duration/count.html"><code><span style="color: #000">count</span></code></a></td>
<td>値を取得する</td>
<td>C++11</td>
</tr>
</tbody>
</table>
<h3>算術演算</h3>
<table border="1" bordercolor="#888" style="border-collapse:collapse">
<thead>
<tr>
<th>名前</th>
<th>説明</th>
<th>対応バージョン</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://cpprefjp.github.io/reference/chrono/duration/op_unary_plus.html"><code><span style="color: #000">operator+</span></code></a></td>
<td>正の<code><span style="color: #000">duration</span></code>を生成する</td>
<td>C++11</td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/chrono/duration/op_unary_minus.html"><code><span style="color: #000">operator-</span></code></a></td>
<td>負の<code><span style="color: #000">duration</span></code>を生成する</td>
<td>C++11</td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/chrono/duration/op_increment.html"><code><span style="color: #000">operator++</span></code></a></td>
<td>値をインクリメントする</td>
<td>C++11</td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/chrono/duration/op_decrement.html"><code><span style="color: #000">operator--</span></code></a></td>
<td>値をデクリメントする</td>
<td>C++11</td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/chrono/duration/op_plus_assign.html"><code><span style="color: #000">operator+=</span></code></a></td>
<td><code><span style="color: #000">+</span></code>の複合代入</td>
<td>C++11</td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/chrono/duration/op_minus_assign.html"><code><span style="color: #000">operator-=</span></code></a></td>
<td><code><span style="color: #000">-</span></code>の複合代入</td>
<td>C++11</td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/chrono/duration/op_multiply_assign.html"><code><span style="color: #000">operator*=</span></code></a></td>
<td><code><span style="color: #000">*</span></code>の複合代入</td>
<td>C++11</td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/chrono/duration/op_divide_assign.html"><code><span style="color: #000">operator/=</span></code></a></td>
<td><code><span style="color: #000">/</span></code>の複合代入</td>
<td>C++11</td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/chrono/duration/op_modulo_assign.html"><code><span style="color: #000">operator%=</span></code></a></td>
<td><code><span style="color: #000">%</span></code>の複合代入</td>
<td>C++11</td>
</tr>
</tbody>
</table>
<h2>静的メンバ関数</h2>
<h3>特別な値</h3>
<table border="1" bordercolor="#888" style="border-collapse:collapse">
<thead>
<tr>
<th>名前</th>
<th>説明</th>
<th>対応バージョン</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://cpprefjp.github.io/reference/chrono/duration/zero.html"><code><span style="color: #000">zero</span></code></a></td>
<td>初期値を取得</td>
<td>C++11</td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/chrono/duration/min.html"><code><span style="color: #000">min</span></code></a></td>
<td>最小値を取得</td>
<td>C++11</td>
</tr>
<tr>
<td><a href="http://cpprefjp.github.io/reference/chrono/duration/max.html"><code><span style="color: #000">max</span></code></a></td>
<td>最大値を取得</td>
<td>C++11</td>
</tr>
</tbody>
</table>
<h2>メンバ型</h2>
<table border="1" bordercolor="#888" style="border-collapse:collapse">
<thead>
<tr>
<th>名前</th>
<th>説明</th>
<th>対応バージョン</th>
</tr>
</thead>
<tbody>
<tr>
<td><code><span style="color: #000">rep</span></code></td>
<td>値の数値型 <code><span style="color: #000">Rep</span></code></td>
<td>C++11</td>
</tr>
<tr>
<td><code><span style="color: #000">period</span></code></td>
<td>単位型 <code><span style="color: #000">Period</span></code></td>
<td>C++11</td>
</tr>
</tbody>
</table>
<h2>例</h2>
<p><pre class="codehilite"><code class="language-cpp"><span style="color: #000">#include &lt;iostream&gt;
#include &lt;chrono&gt;
#include &lt;ctime&gt;

using std::chrono::system_clock;
using std::chrono::seconds;

void print(const system_clock::time_point&amp; p)
{
  std::time_t t = system_clock::to_time_t(p);
  char buf[26];  // 最低26バイトが必要
#ifdef _MSC_VER
  // Visual Studioではctime_s()が推奨されている。
  ctime_s(buf, 26, &amp;t);
#else
  // ctime()のリエントラント版
  ctime_r(&amp;t, buf);
#endif
  // 出力された文字列には改行が含まれていることに注意
  std::cout &lt;&lt; buf;
}

int main()
{
  // 現在日時を取得
  system_clock::time_point now = system_clock::now();

  // 3秒後の日時を取得
  system_clock::time_point p = now + seconds(3);

  print(now);
  print(p);
}</span></code></pre>
</p>
<h3>出力例</h3>
<p><pre><code><span style="color: #000">Tue Oct 16 16:25:08 2012
Tue Oct 16 16:25:11 2012
</span></code></pre></p>
<h2>バージョン</h2>
<h3>言語</h3>
<ul>
<li>C++11</li>
</ul>
<h3>処理系</h3>
<ul>
<li><a href="http://cpprefjp.github.io/implementation.html#gcc">GCC, C++0x mode</a>: 4.7.0</li>
</ul>
<h2>参照</h2>
<footer><a href="https://github.com/cpprefjp/site/edit/master/reference/chrono/duration.md" target="_blank">編集</a></footer>
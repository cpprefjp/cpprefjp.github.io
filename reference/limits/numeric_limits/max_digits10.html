<h1>max_digits10(C++11)</h1>
<p><pre class="codehilite"><code class="language-cpp"><span style="color: #000">static constexpr int max_digits10;</span></code></pre>
</p>
<h2>概要</h2>
<p><code><span style="color: #000">max_digits10</span></code>は、<code><span style="color: #000">T</span></code>が浮動小数点数型のとき意味を持つ。  </p>
<p>基数<code><span style="color: #000">radix</span></code>の浮動小数点数を、仮数部がn桁で基数10の浮動小数点数に変換してまた元の基数<code><span style="color: #000">radix</span></code>の浮動小数点数に変換することを考える。<br />
<code><span style="color: #000">max_digits10</span></code>は、上の変換によって元の浮動小数点数の値が変化しないようなnのうち、最小のものを表す。<br />
したがって、浮動小数点数を文字列などに変換する場合に、正確な値を保持するために使用できる。  </p>
<p><code><span style="color: #000">max_digits10</span></code>は <a href="http://cpprefjp.github.io/reference/limits/numeric_limits/digits.html"><code><span style="color: #000">digits</span></code></a> を用いて次のように計算できる：  </p>
<p><code><span style="color: #000">(Is radix power of 10) ? digits * log10(radix) : ceil(1 + digits * log10(radix))</span></code></p>
<p>C99の<code><span style="color: #000">DECIMAL_DIG</span></code>は、サポートされている浮動小数点数型の<code><span style="color: #000">max_digits10</span></code>の最大のものに相当する。<br />
なお、<code><span style="color: #000">is_specialized == false</span></code>もしくは浮動小数点数型以外の場合、<code><span style="color: #000">max_digits10</span></code>は<code><span style="color: #000">0</span></code>となる。</p>
<h2>例</h2>
<p><pre class="codehilite"><code class="language-cpp"><span style="color:#ff0000">max_digits10</span>;
  std::cout &lt;&lt; d &lt;&lt; std::endl;

  float f = 3.145900F;

  std::stringstream s;
  s.precision(d);
  s &lt;&lt; std::scientific &lt;&lt; f;

  std::cout &lt;&lt; s.str() &lt;&lt; std::endl;
}<span style="color: #000">#include &lt;iostream&gt;
#include &lt;limits&gt;
#include &lt;sstream&gt;

int main()
{
  constexpr int d = std::numeric_limits&lt;float&gt;::</span></code></pre>
</p>
<h3>出力例</h3>
<p><pre><code><span style="color: #000">9
3.145900011e+000
</span></code></pre></p>
<h3>参照</h3>
<ul>
<li><a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2005/n1822.pdf" target="_blank">A Proposal to add a max significant decimal digits value to the C++ Standard Library Numeric limits</a></li>
</ul>
<footer><a href="https://github.com/cpprefjp/site/edit/master/reference/limits/numeric_limits/max_digits10.md" target="_blank">編集</a></footer>
<h1>defaultfloat (C++11)</h1>
<p><pre class="codehilite"><code class="language-cpp"><span style="color: #000">namespace std {
  ios_base&amp; defaultfloat(ios_base&amp; str);
}</span></code></pre>
</p>
<h2>概要</h2>
<p>浮動小数点数を初期状態の書式で出力することを指示するマニピュレータ。</p>
<p>この書式は、出力値や出力すべき精度により小数点数表記と指数表記が切り替わるものである（<a href="http://linuxjm.sourceforge.jp/html/LDP_man-pages/man3/printf.3.html" target="_blank"><code><span style="color: #000">printf()</span></code></a>関数の<code><span style="color: #000">%g</span></code>／<code><span style="color: #000">%G</span></code>相当）。</p>
<h2>効果</h2>
<p><code><span style="color: #000">str.unsetf(ios_base::floatfield)</span></code>を実行する。</p>
<h2>戻り値</h2>
<p>実引数の<code><span style="color: #000">str</span></code>オブジェクト。</p>
<h2>例</h2>
<p><pre class="codehilite"><code class="language-cpp"><span style="color: #000">#include &lt;iostream&gt;
#include &lt;iomanip&gt;

int main()
{
  std::cout &lt;&lt; std::right;
  std::cout &lt;&lt; std::setw(12) &lt;&lt; "defaultfloat" &lt;&lt; ' ';
  std::cout &lt;&lt; std::setw(17) &lt;&lt; "fixed" &lt;&lt; ' ';
  std::cout &lt;&lt; std::setw(15) &lt;&lt; "scientific" &lt;&lt; ' ';
  std::cout &lt;&lt; std::setw(15) &lt;&lt; "hexfloat" &lt;&lt; std::endl;
  for (double i = 1e-6; i &lt; 1e10; i *= 20) {
    std::cout &lt;&lt; std::setw(12) &lt;&lt; std::defaultfloat &lt;&lt; i &lt;&lt; ' ';
    std::cout &lt;&lt; std::setw(17) &lt;&lt; std::fixed &lt;&lt; i &lt;&lt; ' ';
    std::cout &lt;&lt; std::setw(15) &lt;&lt; std::scientific &lt;&lt; i &lt;&lt; ' ';
    std::cout &lt;&lt; std::setw(15) &lt;&lt; std::hexfloat &lt;&lt; i &lt;&lt; std::endl;
  }
}</span></code></pre>
</p>
<h3>出力</h3>
<p><pre><code><span style="color: #000">defaultfloat             fixed      scientific        hexfloat
      1e-006          0.000001   1.000000e-006  0x1.0c6f7ap-20
      2e-005          0.000020   2.000000e-005  0x1.4f8b58p-16
      0.0004          0.000400   4.000000e-004  0x1.a36e2fp-12
       0.008          0.008000   8.000000e-003   0x1.0624ddp-7
        0.16          0.160000   1.600000e-001   0x1.47ae14p-3
         3.2          3.200000   3.200000e+000   0x1.99999ap+1
          64         64.000000   6.400000e+001   0x1.000000p+6
        1280       1280.000000   1.280000e+003  0x1.400000p+10
       25600      25600.000000   2.560000e+004  0x1.900000p+14
      512000     512000.000000   5.120000e+005  0x1.f40000p+18
  1.024e+007   10240000.000000   1.024000e+007  0x1.388000p+23
  2.048e+008  204800000.000000   2.048000e+008  0x1.86a000p+27
  4.096e+009 4096000000.000000   4.096000e+009  0x1.e84800p+31
</span></code></pre></p>
<h2>実装例</h2>
<p>この実装はC++03の下でも可能である。</p>
<p><pre class="codehilite"><code class="language-cpp"><span style="color: #000">namespace std {
  ios_base&amp; defaultfloat(ios_base&amp; str) {
    str.unsetf(ios_base::floatfield);
    return str;
  }
}</span></code></pre>
</p>
<h2>バージョン</h2>
<h3>言語</h3>
<ul>
<li>C++11</li>
</ul>
<h3>処理系</h3>
<ul>
<li><a href="http://cpprefjp.github.io/implementation.html#clang">Clang</a>: 3.0, 3.1, 3.2, 3.3, 3.4</li>
<li><a href="http://cpprefjp.github.io/implementation.html#gcc">GCC</a>:</li>
<li><a href="http://cpprefjp.github.io/implementation.html#gcc">GCC, C++0x mode</a>: ??</li>
<li><a href="http://cpprefjp.github.io/implementation.html#icc">ICC</a>: ??</li>
<li><a href="http://cpprefjp.github.io/implementation.html#visual_cpp">Visual C++</a>: 10.0, 11.0</li>
</ul>
<h2>参照</h2>
<ul>
<li><a href="http://cpprefjp.github.io/reference/ios/fixed.html"><code><span style="color: #000">fixed</span></code></a></li>
<li><a href="http://cpprefjp.github.io/reference/ios/scientific.html"><code><span style="color: #000">scientific</span></code></a></li>
<li><a href="http://cpprefjp.github.io/reference/ios/hexfloat.html"><code><span style="color: #000">hexfloat</span></code></a></li>
<li><a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2005/n1842.pdf" target="_blank">N1842 A Proposal to add two iostream manipulators to the C++ Standard Library</a></li>
<li><a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2006/n1991.htm" target="_blank">N1991 Proposed Text for defaultfloat (N1842)</a></li>
</ul>
<footer><a href="https://github.com/cpprefjp/site/edit/master/reference/ios/defaultfloat.md" target="_blank">編集</a></footer>
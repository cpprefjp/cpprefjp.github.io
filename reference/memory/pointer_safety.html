<h1>pointer_safety (C++11)</h1>
<p><pre class="codehilite"><code class="language-cpp"><span style="color: #000">namespace std {
  enum class pointer_safety {
    relaxed,
    preferred,
    strict
  };
}</span></code></pre>
</p>
<h2>概要</h2>
<p><code><span style="color: #000">pointer_safety</span></code>は、ポインタ安全性について、その挙動／規則について確認するための列挙型である。</p>
<h2>Safety-Derived なポインタ</h2>
<p>"Safety-Derived なポインタ" とは、とても簡単に言うと, <code><span style="color: #000">::operator new</span></code> で確保されたオブジェクトを指しているポインタのことである。これは、トリッキーな実装により得られたポインタと区別するために用いられる。ガベージコレクション ABI では、Safety-Derived なポインタであるかどうかを基準として動作する。</p>
<h2>列挙値</h2>
<p>各列挙値の説明を以下に示す.</p>
<table border="1" bordercolor="#888" style="border-collapse:collapse">
<thead>
<tr>
<th>列挙値</th>
<th>説明</th>
<th>対応バージョン</th>
</tr>
</thead>
<tbody>
<tr>
<td><code><span style="color: #000">relaxed</span></code></td>
<td>Safety-Derived なポインタもそうでないポインタも同様に扱われる。 (C++03 以前と同じ)</td>
<td>C++11</td>
</tr>
<tr>
<td><code><span style="color: #000">preferred</span></code></td>
<td><code><span style="color: #000">relaxed</span></code>と同様。ただしリークに関するレポート(ヒント)を実装することを許可する。</td>
<td>C++11</td>
</tr>
<tr>
<td><code><span style="color: #000">strict</span></code></td>
<td>この環境では厳密な実装が行われており、Safety-Derived と 非Safety-Derived は区別される。</td>
<td>C++11</td>
</tr>
</tbody>
</table>
<h2>バージョン</h2>
<h3>言語</h3>
<ul>
<li>C++11</li>
</ul>
<h3>環境</h3>
<ul>
<li><a href="http://cpprefjp.github.io/implementation.html#clang">Clang</a>: ?</li>
<li><a href="http://cpprefjp.github.io/implementation.html#gcc">GCC</a>: ?</li>
<li><a href="http://cpprefjp.github.io/implementation.html#icc">ICC</a>: ?</li>
<li><a href="http://cpprefjp.github.io/implementation.html#visual_cpp">Visual C++</a>: 10.0, 11.0, 12.0</li>
</ul>
<h3>参照</h3>
<ul>
<li><a href="http://faithandbrave.hateblo.jp/entry/20081117/1226913980" target="_blank">C++0x ガベージコレクションと到達可能性ベースリーク検知の最小支援 - Faith and Brave - C++で遊ぼう</a></li>
<li><a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2008/n2670.htm" target="_blank">N2670: Minimal Support for Garbage Collection and Reachability-Based Leak Detection (revised)</a></li>
<li><a href="http://www.stroustrup.com/C++11FAQ.html#gc-abi" target="_blank">Garbage Collection ABI - C++ FAQ - www.stroustrup.com</a></li>
</ul>
<footer><a href="https://github.com/cpprefjp/site/edit/master/reference/memory/pointer_safety.md" target="_blank">編集</a></footer>
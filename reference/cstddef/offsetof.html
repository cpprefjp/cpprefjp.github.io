<h1>offsetof</h1>
<p><pre class="codehilite"><code class="language-cpp"><i>see-below</i><span style="color: #000">#define offsetof(type, member) </span></code></pre>
</p>
<h2>概要</h2>
<p>このマクロ関数は、構造体型 <code><span style="color: #000">type</span></code> のメンバ <code><span style="color: #000">member</span></code> へのオフセット値をバイト数で返す。
この構造体の先頭から <code><span style="color: #000">member</span></code> へのバイト数が、<code><span style="color: #000">size_t</span></code> 型の符号なし整数値で返される。</p>
<p>C++ での構造体の機能的拡張のため、<code><span style="color: #000">offsetof</span></code> の利用は、C の構造体のコンセプトに対応する POD のクラス型に制限される（但し、<code><span style="color: #000">public</span></code> な非仮想メンバ関数のみを持ち、コンストラクタ及びデストラクタを持たない無い非派生クラスも POD である）。</p>
<h2>パラメータ</h2>
<ul>
<li><code><span style="color: #000">type</span></code> : <code><span style="color: #000">member</span></code> を有効なメンバ指示子とするクラス型</li>
<li><code><span style="color: #000">member</span></code> : クラス <code><span style="color: #000">type</span></code> のメンバ指示子</li>
</ul>
<h2>戻り値</h2>
<p><code><span style="color: #000">type</span></code> 中の <code><span style="color: #000">member</span></code> へのオフセット値を示す <code><span style="color: #000">size_t</span></code> 型の値</p>
<h2>例</h2>
<p><pre class="codehilite"><code class="language-cpp"><span style="color:#ff0000">offsetof</span>(mystruct,singlechar) is %zu\n", <span style="color:#ff0000">offsetof</span>(mystruct,singlechar));
  printf ("<span style="color:#ff0000">offsetof</span>(mystruct,arraymember) is %zu\n", <span style="color:#ff0000">offsetof</span>(mystruct,arraymember));
  printf ("<span style="color:#ff0000">offsetof</span>(mystruct,anotherchar) is %zu\n", <span style="color:#ff0000">offsetof</span>(mystruct,anotherchar));
}<span style="color: #000">#include &lt;cstdio&gt;
#include &lt;cstddef&gt;

struct mystruct {
  char singlechar;
  char arraymember[10];
  char anotherchar;
};

int main ()
{
  printf ("</span></code></pre>
</p>
<h3>出力</h3>
<p><pre><code><span style="color: #000">offsetof(mystruct,singlechar) is 0
offsetof(mystruct,arraymember) is 1
offsetof(mystruct,anotherchar) is 11
</span></code></pre></p>
<footer><a href="https://github.com/cpprefjp/site/edit/master/reference/cstddef/offsetof.md" target="_blank">編集</a></footer>
<h1>data</h1>
<p><pre class="codehilite"><code class="language-cpp"><span style="color: #000">const charT* data() const;              // C++03 まで

const charT* data() const noexcept;     // C++11 から</span></code></pre>
</p>
<h2>概要</h2>
<p>文字配列表現を取得する。<br />
なお、C++11 からは本メンバ関数は <a href="http://cpprefjp.github.io/reference/string/basic_string/c_str.html"><code><span style="color: #000">c_str</span></code></a> と完全に同一となっているため、以下は C++03 までの挙動についてのみ記載する。<br />
C++11 からの挙動については <a href="http://cpprefjp.github.io/reference/string/basic_string/c_str.html"><code><span style="color: #000">c_str</span></code></a> を参照のこと。</p>
<h2>戻り値</h2>
<p>文字配列の先頭へのポインタ（備考も参照）</p>
<h2>備考</h2>
<ul>
<li>
<p>本メンバ関数で返されたポインタが指す配列の値を変更してはいけない。</p>
</li>
<li>
<p>本メンバ関数を呼び出すと、対象オブジェクトの要素への既存の参照、ポインタ、イテレータは無効になる可能性がある。</p>
</li>
<li>
<p>本メンバ関数で返されたポインタは、対象オブジェクトに対する非コンストメンバ関数呼び出しにより無効になる可能性がある。<br />
    なお、規格書に記載はないものの、<a href="http://cpprefjp.github.io/reference/string/basic_string.html"><code><span style="color: #000">basic_string</span></code></a> への非コンスト参照を引数に取る標準ライブラリ関数を、対象オブジェクトを渡して呼び出した場合にも、無効になる可能性があるものと思われる</p>
</li>
<li>
<p>本メンバが返すポインタは、<a href="http://cpprefjp.github.io/reference/string/basic_string/size.html"><code><span style="color: #000">size</span></code></a><code><span style="color: #000">() != 0</span></code> の場合、長さが <a href="http://cpprefjp.github.io/reference/string/basic_string/size.html"><code><span style="color: #000">size</span></code></a><code><span style="color: #000">()</span></code> の <code><span style="color: #000">charT</span></code> 型の配列を指す。この配列の要素は対象オブジェクトの文字列と等しい。
    <a href="http://cpprefjp.github.io/reference/string/basic_string/size.html"><code><span style="color: #000">size</span></code></a><code><span style="color: #000">() == 0</span></code> の場合、NULL ポインタ<strong>ではなく</strong>、当該ポインタのコピー、および、当該ポインタに対してゼロの加算が可能な値である。</p>
</li>
<li>
<p><a href="http://cpprefjp.github.io/reference/string/basic_string/c_str.html"><code><span style="color: #000">c_str</span></code></a> と異なり、本メンバ関数で返る配列は NULL（<code><span style="color: #000">charT()</span></code>）で終端されていないので、注意すること。（通常は、<a href="http://cpprefjp.github.io/reference/string/basic_string/size.html"><code><span style="color: #000">size</span></code></a><code><span style="color: #000">()</span></code> と併せて利用することになるだろう）</p>
</li>
</ul>
<h2>例</h2>
<p><pre class="codehilite"><code class="language-cpp"><a href="http://cpprefjp.github.io/reference/string.html">string</a>&gt;
#include &lt;cstdio&gt;
#include &lt;cstring&gt;

int main()
{
  std::<a href="http://cpprefjp.github.io/reference/string.html">string</a> s("Hello, world!\n");
  std::fwrite(s.<span style="color:#ff0000">data</span>(), 1, s.<a href="http://cpprefjp.github.io/reference/string/basic_string/size.html">size</a>(), stdout);
}<span style="color: #000">#include &lt;</span></code></pre>
</p>
<h3>出力</h3>
<p><pre><code><span style="color: #000">Hello, world!
</span></code></pre></p>
<h2>参照</h2>
<table border="1" bordercolor="#888" style="border-collapse:collapse">
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://cpprefjp.github.io/reference/string/basic_string/c_str.html"><code><span style="color: #000">c_str</span></code></a></td>
<td>C 言語での文字列表現を取得する</td>
</tr>
</tbody>
</table>
<footer><a href="https://github.com/cpprefjp/site/edit/master/reference/string/basic_string/data.md" target="_blank">編集</a></footer>
<h1>getline</h1>
<p><pre class="codehilite"><code class="language-cpp"><a href="http://cpprefjp.github.io/reference/istream/basic_istream.html">basic_istream</a>&lt;CharT, Traits&gt;&amp;
  getline(<a href="http://cpprefjp.github.io/reference/istream/basic_istream.html">basic_istream</a>&lt;CharT, Traits&gt;&amp; is,
          basic_string&lt;CharT, Traits, Allocator&gt;&amp; str);              // (1)

template &lt;class CharT, class Traits, class Allocator&gt;
<a href="http://cpprefjp.github.io/reference/istream/basic_istream.html">basic_istream</a>&lt;CharT, Traits&gt;&amp;
  getline(<a href="http://cpprefjp.github.io/reference/istream/basic_istream.html">basic_istream</a>&lt;CharT, Traits&gt;&amp;&amp; is,
          basic_string&lt;CharT, Traits, Allocator&gt;&amp; str);              // (2) C++11から

template &lt;class CharT, class Traits, class Allocator&gt;
<a href="http://cpprefjp.github.io/reference/istream/basic_istream.html">basic_istream</a>&lt;CharT, Traits&gt;&amp;
  getline(<a href="http://cpprefjp.github.io/reference/istream/basic_istream.html">basic_istream</a>&lt;CharT, Traits&gt;&amp; is,
          basic_string&lt;CharT, Traits, Allocator&gt;&amp; str, CharT delim); // (3)

template &lt;class CharT, class Traits, class Allocator&gt;
<a href="http://cpprefjp.github.io/reference/istream/basic_istream.html">basic_istream</a>&lt;CharT, Traits&gt;&amp;
  getline(<a href="http://cpprefjp.github.io/reference/istream/basic_istream.html">basic_istream</a>&lt;CharT, Traits&gt;&amp;&amp; is,
          basic_string&lt;CharT, Traits, Allocator&gt;&amp; str, CharT delim); // (4) C++11から<span style="color: #000">template &lt;class CharT, class Traits, class Allocator&gt;
</span></code></pre>
</p>
<h2>概要</h2>
<p>ストリームから改行文字が現れるまで（1行すべて）あるいは仮引数<code><span style="color: #000">delim</span></code>で指定された文字までの文字列を入力する。</p>
<p>この関数は、非書式化入力関数（<a href="http://cpprefjp.github.io/reference/istream/basic_istream.html"><code><span style="color: #000">basic_istream</span></code></a>を参照）として作用する。</p>
<h2>効果</h2>
<p>仮引数<code><span style="color: #000">delim</span></code>がない多重定義では、<code><span style="color: #000">std::getline(is, str, is.widen('\n'))</span></code>を呼び出す。</p>
<p>仮引数<code><span style="color: #000">delim</span></code>を持つものは以下の通り。</p>
<ol>
<li><a href="http://cpprefjp.github.io/reference/istream/basic_istream/sentry.html"><code><span style="color: #000">basic_istream&lt;&gt;::sentry</span></code></a>オブジェクトを構築する。<code><span style="color: #000">sentry</span></code>オブジェクトが失敗を示した場合、何もしない。</li>
<li><code><span style="color: #000">str.erase()</span></code>を呼び出す。</li>
<li>以下のいずれかを満たすまで、文字を入力して<code><span style="color: #000">str.append(1, c)</span></code>と等価な方法で文字列に追加する。なお、<code><span style="color: #000">c</span></code>は入力した文字を表す。以下の条件判断はこの順で行う。<ol>
<li>EOFに達した。この場合、<code><span style="color: #000">is.setstate(ios_base::eofbit)</span></code>を呼び出す。</li>
<li><code><span style="color: #000">Traits::eq(c, delim)</span></code>が真となった。</li>
<li>読み取った文字数が<code><span style="color: #000">str.max_size()</span></code>になるまで書き込んだ。この場合、<code><span style="color: #000">is.setstate(ios_base::failbit)</span></code>を呼び出す。</li>
</ol>
</li>
<li>（<code><span style="color: #000">sentry</span></code>オブジェクトを破棄したのち）1文字も入力がなされなかったら、<code><span style="color: #000">is.setstate(ios_base::failbit)</span></code>を呼び出す。<ul>
<li>空行の場合はこれに該当しないことに注意。なぜなら、改行文字1文字を入力しているためである。</li>
</ul>
</li>
</ol>
<p>この関数は<a href="http://cpprefjp.github.io/reference/istream/basic_istream/gcount.html"><code><span style="color: #000">basic_istream&lt;&gt;::gcount</span></code></a>には影響を及ぼさない。</p>
<h2>戻り値</h2>
<ul>
<li>仮引数<code><span style="color: #000">is</span></code>。</li>
</ul>
<h2>例</h2>
<p><pre class="codehilite"><code class="language-cpp"><span style="color: #000">#include &lt;iostream&gt;
#include &lt;string&gt;

int main() {
  std::string s;
  if (std::getline(std::cin, s)) {
    std::cout &lt;&lt; s &lt;&lt; std::endl;
  }
}</span></code></pre>
</p>
<h3>入力</h3>
<p><pre><code><span style="color: #000">Haru wa akebono.
</span></code></pre></p>
<h3>出力</h3>
<p><pre><code><span style="color: #000">Haru wa akebono.
</span></code></pre></p>
<h2>参照</h2>
<ul>
<li><a href="http://cpprefjp.github.io/reference/istream/basic_istream/getline.html"><code><span style="color: #000">std::basic_istream&lt;&gt;::getline</span></code></a>: 文字の配列へ入力を行うもの。</li>
</ul>
<footer><a href="https://github.com/cpprefjp/site/edit/master/reference/string/basic_string/getline.md" target="_blank">編集</a></footer>
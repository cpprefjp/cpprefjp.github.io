<h1>partial_sum</h1>
<p><pre class="codehilite"><code class="language-cpp"><span style="color: #000">namespace std {
  template &lt;class InputIterator, class OutputIterator&gt;
    OutputIterator partial_sum(
      InputIterator first, InputIterator last,
      OutputIterator result);

  template &lt;class InputIterator, class OutputIterator, class BinaryOperation&gt;
      OutputIterator partial_sum(
        InputIterator first, InputIterator last,
        OutputIterator result, BinaryOperation binary_op);
}</span></code></pre>
</p>
<h2>概要</h2>
<p>1つのシーケンスの任意の範囲の値の部分和を計算する。
<a href="http://cpprefjp.github.io/reference/numeric/accumulate.html"><code><span style="color: #000">accumulate</span></code></a><code><span style="color: #000">()</span></code>は最終結果のみを得るが、<code><span style="color: #000">partial_sum()</span></code>は計算の途中結果のシーケンスを得る。</p>
<h2>パラメータ</h2>
<table border="1" bordercolor="#888" style="border-collapse:collapse">
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code><span style="color: #000">first</span></code></td>
<td>シーケンスの先頭</td>
</tr>
<tr>
<td><code><span style="color: #000">last</span></code></td>
<td>シーケンスの終端</td>
</tr>
<tr>
<td><code><span style="color: #000">result</span></code></td>
<td>計算結果を出力するシーケンスの先頭</td>
</tr>
<tr>
<td><code><span style="color: #000">binary_op</span></code></td>
<td>部分和を求める処理</td>
</tr>
</tbody>
</table>
<h2>戻り値</h2>
<p><code><span style="color: #000">result + (last - first)</span></code></p>
<h2>計算量</h2>
<p>Ο(2n)</p>
<h2>例</h2>
<p><pre class="codehilite"><code class="language-cpp"><span style="color:#ff0000">partial_sum</span>(a.begin(), a.end(), result.begin());
    print(result);
  }

  {
    std::array&lt;double, 5&gt; result;
    std::<span style="color:#ff0000">partial_sum</span>(a.begin(), a.end(), result.begin(),
                       [](double a, double b) { return 2 * a - b; });
    print(result);
  }
}<span style="color: #000">#include &lt;numeric&gt;
#include &lt;iostream&gt;
#include &lt;array&gt;

template &lt;class Range&gt;
void print(const Range&amp; r)
{
  for (const auto&amp; x : r) {
    std::cout &lt;&lt; x &lt;&lt; " --&gt; ";
  }
  std::cout &lt;&lt; "end" &lt;&lt; std::endl;
}

int main()
{
  const std::array&lt;double, 5&gt; a = {.0,.2,.4,.6,.8};

  {
    std::array&lt;double, 5&gt; result;
    std::</span></code></pre>
</p>
<h3>出力</h3>
<p><pre class="codehilite"><code class="language-cpp"><span style="color: #000">0 --&gt; 0.2 --&gt; 0.6 --&gt; 1.2 --&gt; 2 --&gt; end
0 --&gt; -0.2 --&gt; -0.8 --&gt; -2.2 --&gt; -5.2 --&gt; end</span></code></pre>
</p>
<h2>備考</h2>
<p>この関数は、他の言語では<code><span style="color: #000">scan</span></code>という名前で提供されている。</p>
<footer><a href="https://github.com/cpprefjp/site/edit/master/reference/numeric/partial_sum.md" target="_blank">編集</a></footer>
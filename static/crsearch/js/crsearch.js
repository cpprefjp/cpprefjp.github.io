webpackJsonp([0],{108:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Result=void 0;var n=a(68),s=function(e){return e&&e.__esModule?e:{default:e}}(n),r={HEADER:(0,s.default)("cpp-header"),NAMESPACE:(0,s.default)("cpp-namespace"),CLASS:(0,s.default)("cpp-class"),FUNCTION:(0,s.default)("cpp-function"),MEM_FUN:(0,s.default)("cpp-mem_fun"),ENUM:(0,s.default)("cpp-enum"),VARIABLE:(0,s.default)("cpp-variable"),TYPE_ALIAS:(0,s.default)("cpp-type-alias"),MACRO:(0,s.default)("cpp-macro"),ARTICLE:(0,s.default)("article"),META:(0,s.default)("meta"),GOOGLE_FALLBACK:(0,s.default)("google-fallback")};t.Result=r},110:function(e,t,a){(function(t){e.exports=t.CRSearch=a(111)}).call(t,a(11))},111:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Database=void 0;var s=a(112),r=n(s),i=a(23),l=n(i),u=a(42),d=n(u),o=a(17),c=n(o),h=a(18),f=n(h),p=(a(26),a(70)),_=a(118),v=function(){function e(t){(0,c.default)(this,e),this.name=t.database_name,this.base_url=new URL(t.base_url),this.namespaces=[],this.ids=[];var a=!0,n=!1,s=void 0;try{for(var r,i=(0,l.default)(t.ids.entries());!(a=(r=i.next()).done);a=!0){var u=r.value,o=(0,d.default)(u,2),h=o[0],f=o[1];this.ids.push(new p.IndexID(h,f))}}catch(e){n=!0,s=e}finally{try{!a&&i.return&&i.return()}finally{if(n)throw s}}var v=!0,y=!1,m=void 0;try{for(var g,k=(0,l.default)(t.namespaces.entries());!(v=(g=k.next()).done);v=!0){var R=g.value,w=(0,d.default)(R,2),b=w[0],S=w[1];this.namespaces.push(new _.Namespace(b,S,this.ids))}}catch(e){y=!0,m=e}finally{try{!v&&k.return&&k.return()}finally{if(y)throw m}}}return(0,f.default)(e,[{key:"query",value:function(e,t,a){var n=[],s=!0,i=!1,u=void 0;try{for(var d,o=(0,l.default)(this.namespaces);!(s=(d=o.next()).done);s=!0){var c=d.value,h=c.query(e,t,a,this.make_url.bind(this));if(0!=h.targets.length&&(t=h.found_count,n.push.apply(n,(0,r.default)(h.targets)),t>a))return{targets:n,found_count:t}}}catch(e){i=!0,u=e}finally{try{!s&&o.return&&o.return()}finally{if(i)throw u}}return{targets:n,found_count:t}}},{key:"make_url",value:function(e){return new URL("/"+e+".html",this.base_url)}}]),e}();t.Database=v},117:function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.IndexID=void 0;var s=a(43),r=n(s),i=a(68),l=n(i),u=a(17),d=n(u),o=a(18),c=n(o),h=a(26),f=function(){function t(e,a){var n=this;(0,d.default)(this,t),this.s_key=e;var s=a.key;switch(this.type=["header","namespace","class","function","mem_fun","enum","variable","type-alias","macro"].includes(a.type)?(0,l.default)("cpp-"+a.type):(0,l.default)(a.type),this.type){case h.Result.CLASS:case h.Result.FUNCTION:case h.Result.MEM_FUN:case h.Result.ENUM:case h.Result.VARIABLE:case h.Result.TYPE_ALIAS:var r=["std"];a.cpp_namespace&&(r=a.cpp_namespace),s=r.concat(s)}this.key=s.map(function(e){return{name:e.normalize("NFKC")}}),t.VERBATIM_TRS.forEach(function(e,t){e.only&&e.only!==n.type||n.key[n.key.length-1].name.includes(t)&&(n.key[n.key.length-1]={name:n.key[n.key.length-1].name.replace(t,""+e.to),classes:["special"]},e.type&&(n.type=e.type,n.type===h.Result.CLASS&&"std"!==n.key[0]&&n.key.unshift({name:"std"})))})}return(0,c.default)(t,[{key:"equals",value:function(e){return this.s_key===e.s_key&&this.ns_id===e.ns_id}}]),(0,c.default)(t,[{key:"join",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.join_hint();return""+(e.wrap.left||"")+this.key.map(function(e){return e.name}).join(e.delim.text)+(e.wrap.right||"")}},{key:"join_html",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.join_hint(),a=e('<div class="key-container delim-'+t.delim.name+'" />');if(t.wrap.left){var n=e('<span class="wrap" />');n.text(t.wrap.left),n.appendTo(a)}var s=e('<div class="keys" />');if(s.appendTo(a),this.key.forEach(function(t){var a=e('<span class="key" />');t.classes&&t.classes.forEach(function(e){return a.addClass(e)}),a.text(t.name),a.appendTo(s)}),t.wrap.right){var r=e('<span class="wrap" />');r.text(t.wrap.right),r.appendTo(a)}return a}},{key:"join_hint",value:function(){var e={delim:{name:"none",text:""},wrap:{}};switch(this.type){case h.Result.HEADER:e={wrap:{left:"<",right:">"},delim:{name:"slash",text:"/"}};break;case h.Result.NAMESPACE:case h.Result.CLASS:case h.Result.FUNCTION:case h.Result.MEM_FUN:case h.Result.ENUM:case h.Result.VARIABLE:case h.Result.TYPE_ALIAS:e.delim={name:"ns",text:"::"}}return e}}]),t}();f.VERBATIM_TRS=new r.default([["コンストラクタ",{to:"(constructor)",only:h.Result.MEM_FUN}],["デストラクタ",{to:"(destructor)",only:h.Result.MEM_FUN}],["推論補助",{to:"(deduction guide)",type:h.Result.CLASS}],["非メンバ関数",{to:"non-member function",type:h.Result.FUNCTION}],["単項",{to:"unary"}]]),t.IndexID=f}).call(t,a(45))},118:function(e,t,a){(function(t){e.exports=t.CRSearch=a(119)}).call(t,a(11))},119:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Namespace=void 0;var s=a(69),r=n(s),i=a(42),l=n(i),u=a(120),d=n(u),o=a(23),c=n(o),h=a(43),f=n(h),p=a(17),_=n(p),v=a(18),y=n(v),m=a(126),g=function(){function e(t,a,n){(0,_.default)(this,e),this.ns_id=t,this.indexes=new f.default,this.namespace=a.namespace,a.path_prefixes?this.path_prefixes=a.path_prefixes.join("/"):this.path_prefixes=this.namespace.join("/");var s=!0,r=!1,i=void 0;try{for(var l,u=(0,c.default)(a.indexes);!(s=(l=u.next()).done);s=!0){var d=l.value,o=new m.Index(n[d.id],d);this.indexes.set(o.id_cache,o)}}catch(e){r=!0,i=e}finally{try{!s&&u.return&&u.return()}finally{if(r)throw i}}}return(0,y.default)(e,[{key:"query",value:function(e,t,a,n){var s=[],i=e.normalize("NFKC").split(/\s+/).filter(Boolean).reduce(function(e,t){return"-"===t[0]?e.not.add(t.substring(1)):e.and.add(t),e},{and:new d.default,not:new d.default});i.not.delete("");var u=!0,o=!1,h=void 0;try{for(var f,p=(0,c.default)(this.indexes);!(u=(f=p.next()).done);u=!0){var _=f.value,v=(0,l.default)(_,2),y=(v[0],v[1]);if((0,r.default)(i.and).every(function(e,t){return m.Index.ambgMatch(e,t)}.bind(null,y))&&!(0,r.default)(i.not).some(function(e,t){return m.Index.ambgMatch(e,t)}.bind(null,y))){if(++t>a)return{targets:s,found_count:t};s.push({path:n(this.make_path(y.page_id)),index:y})}}}catch(e){o=!0,h=e}finally{try{!u&&p.return&&p.return()}finally{if(o)throw h}}return{targets:s,found_count:t}}},{key:"make_path",value:function(e){return this.path_prefixes+"/"+e.join("/")}}]),e}();t.Namespace=g},126:function(e,t,a){(function(t){e.exports=t.CRSearch=a(127)}).call(t,a(11))},127:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Index=void 0;var s=a(17),r=n(s),i=a(18),l=n(i),u=a(26),d=(a(70),function(){function e(t,a){(0,r.default)(this,e),this.id=t,this.page_id=a.page_id,this.id_cache=this.join()}return(0,l.default)(e,[{key:"type",value:function(){return this.id.type}},{key:"join_html",value:function(){return this.id.join_html()}},{key:"join",value:function(){return this.id.join()}}],[{key:"ambgMatch",value:function(e,t){return[u.Result.ARTICLE,u.Result.META].includes(e.id.type)?e.id_cache.toLowerCase().includes(t.toLowerCase()):e.id_cache.includes(t)}}]),e}());t.Index=d},26:function(e,t,a){(function(t){e.exports=t.CRSearch=a(108)}).call(t,a(11))},70:function(e,t,a){(function(t){e.exports=t.CRSearch=a(117)}).call(t,a(11))},71:function(e,t,a){(function(t){e.exports=t.CRSearch=a(72)}).call(t,a(11))},72:function(e,t,a){"use strict";(function(n){function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(73),i=s(r),l=a(23),u=s(l),d=a(42),o=s(d),c=a(43),h=s(c),f=a(17),p=s(f),_=a(18),v=s(_),y=a(107),m=s(y),g=a(26),k=a(110),R=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.OPTS_DEFAULT;(0,p.default)(this,e),this.opts=t,this.loaded=!1,this.db=new h.default,this.last_id=0,this.last_input={},this.search_timer={},this.selectIndex=0,this.resultCount=0,m.default.bind("/",function(){return this.select_default_input()}.bind(this)),m.default.bind("esc",function(){return this.hide_all_result()}.bind(this)),this.dp("initialized.")}return(0,v.default)(e,[{key:"load",value:function(){var e=this,t=1,a=!0,s=!1,r=void 0;try{for(var i,l=(0,u.default)(this.db);!(a=(i=l.next()).done);a=!0){var d=i.value,c=(0,o.default)(d,2),h=c[0];c[1];!function(a,s){"/"==a.pathname&&(a.pathname="/crsearch.json"),e.dp("fetching database ("+t+"/"+e.db.size+"):",a),n.ajax({url:a,success:function(e){this.dp("fetched."),this.parse(a,e)}.bind(e),fail:function(){this.dp("fetch failed.")}.bind(e)}),++t}(h)}}catch(e){s=!0,r=e}finally{try{!a&&l.return&&l.return()}finally{if(s)throw r}}}},{key:"parse",value:function(e,t){this.dp("parsing...",t),this.db.set(e,new k.Database(t)),this.defaultUrl||(this.defaultUrl=new URL(this.db.get(e).base_url).hostname),this.updateSearchButton(""),this.dp("parsed.",this.db.get(e))}},{key:"database",value:function(e){try{var t=new URL(e);this.db.set(t.toString(),null)}catch(t){var a=document.createElement("a");a.href=e,"/"==a.pathname&&(a.pathname="/crsearch.json");var n=new URL(a.toString());this.db.set(n.toString(),null)}}},{key:"selectChange",value:function(e,t){console.log("selectChange","isUp?: ",e,"selectIndex: ",this.selectIndex,t),this.selectIndex+=e?-1:1,this.selectIndex<0?this.selectIndex=this.resultCount:this.selectIndex>this.resultCount&&(this.selectIndex=0);var a=!0,s=!1,r=void 0;try{for(var i,l=(0,u.default)(t.find(".results .result"));!(a=(i=l.next()).done);a=!0){var d=i.value,o=n(d).children("a");parseInt(n(d).attr("data-result-id"))===this.selectIndex?(o.addClass("focus"),o.focus()):(o.removeClass("focus"),o.blur())}}catch(e){s=!0,r=e}finally{try{!a&&l.return&&l.return()}finally{if(s)throw r}}console.log(this.selectIndex)}},{key:"do_search",value:function(e){clearTimeout(this.search_timer[e.data.id]),this.search_timer[e.data.id]=setTimeout(function(e){this.selectIndex=0,this.resultCount=this.do_search_impl(e)}.bind(this,e),20)}},{key:"do_search_impl",value:function(t){var a=this.last_input[t.data.id];this.dp("[query]",a);var s=this.clear_results_for(t.target),r={},i=new h.default,l=!0,d=!1,c=void 0;try{for(var f,p=(0,u.default)(this.db);!(l=(f=p.next()).done);l=!0){var _=f.value,v=(0,o.default)(_,2),y=(v[0],v[1]),m=y.query(a,0,e.MAX_RESULT);if(r[y.name]={url:y.base_url},i.set(y.name,m.targets),0!=i.get(y.name).length){m.found_count>e.MAX_RESULT?r[y.name].html=n('<div class="message">Showing first<span class="match-count">'+e.MAX_RESULT+"</span>matches</div>"):r[y.name].html=n('<div class="message">Showing<span class="match-count">all</span>matches</div>')}else r[y.name].html=n('<div class="message">No matches for <span class="query">'+a+"</span></div>")}}catch(e){d=!0,c=e}finally{try{!l&&p.return&&p.return()}finally{if(d)throw c}}var k=0,R=!0,w=!1,b=void 0;try{for(var S,E=(0,u.default)(i);!(R=(S=E.next()).done);R=!0){var x=S.value,A=(0,o.default)(x,2),L=A[0],C=A[1];s.append(this.make_result_header(L,r[L]));var T=!0,I=!1,M=void 0;try{for(var U,P=(0,u.default)(C);!(T=(U=P.next()).done);T=!0){var O=U.value,N=this.make_result(O.index.type(),O.index,O.path);N.attr("data-result-id",k++),s.append(N)}}catch(e){I=!0,M=e}finally{try{!T&&P.return&&P.return()}finally{if(I)throw M}}}}catch(e){w=!0,b=e}finally{try{!R&&E.return&&E.return()}finally{if(w)throw b}}var j=!0,B=!1,F=void 0;try{for(var K,D=(0,u.default)(this.db);!(j=(K=D.next()).done);j=!0){var q=K.value,H=(0,o.default)(q,2),G=(H[0],H[1]),V=this.make_result(g.Result.GOOGLE_FALLBACK,a,{name:G.name,url:G.base_url.host});V.attr("data-result-id",k++),s.append(V)}}catch(e){B=!0,F=e}finally{try{!j&&D.return&&D.return()}finally{if(B)throw F}}return s.find('.result[data-result-id="0"] > a').addClass("focus"),k-1}},{key:"make_result_header",value:function(e,t){var a=n('<li class="result" />');if(a.addClass("cr-result-header"),t.html){var s=n('<div class="extra" />');t.klass&&s.addClass(t.klass),t.html.appendTo(s),s.appendTo(a)}var r=n('<a class="db-name" />');return r.attr("href",t.url),r.attr("target","_blank"),r.text(e),r.appendTo(a),a}},{key:"make_google_url",value:function(e,t){var a=this.opts.google_url;return a.searchParams.set("q",e+" site:"+t),a}},{key:"make_result",value:function(t,a){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=e.RESULT_PROTO.clone();r.addClass((0,i.default)(t));var l=r.children("a"),u=n('<div class="content" />').appendTo(l);switch(t){case g.Result.GOOGLE_FALLBACK:l.attr("href",this.make_google_url(a,s.url)),l.attr("target","_blank"),n('<div class="query">'+a+"</div>").appendTo(u),n('<div class="fallback-site">'+s.url+"</div>").appendTo(u);break;default:l.attr("href",s),a.join_html().appendTo(u),this.opts.force_new_window&&l.attr("target","_blank")}return r}},{key:"updateSearchButton",value:function(e){this.searchButton.attr("href",this.make_google_url(e,this.defaultUrl))}},{key:"searchbox",value:function(t){var a=this;this.searchButton=n("<a />"),this.searchButton.attr("target","_blank"),this.searchButton.addClass("search");var s=!0,r=!1,i=void 0;try{for(var l,d=(0,u.default)(this.opts.klass.search_button);!(s=(l=d.next()).done);s=!0){var o=l.value;this.searchButton.addClass(o)}}catch(e){r=!0,i=e}finally{try{!s&&d.return&&d.return()}finally{if(r)throw i}}this.loaded||(this.loaded=!0,this.load());var c=this.last_id++;this.dp("creating searchbox",c);var h=n(t);h.attr("data-crsearch-id",c),this.last_input[c]="";var f=n('<div class="control" />');f.appendTo(h);var p=n('<input type="text" />');p.addClass("input"),p.addClass("mousetrap"),p.attr("autocomplete",!1),p.attr("placeholder",e.INPUT_PLACEHOLDER),p.appendTo(f),m.default.bind("up",function(e){0!=n(document.activeElement).closest('*[data-crsearch-id="'+c+'"]').length&&(e.preventDefault(),a.selectChange(!0,h))}),m.default.bind("down",function(e){0!=n(document.activeElement).closest('*[data-crsearch-id="'+c+'"]').length&&(e.preventDefault(),a.selectChange(!1,h))}),p.on("click",function(e){return this.show_result_wrapper_for(e.target),this.select_default_input()}.bind(this)),p.on("keyup",{id:c},function(e){this.show_result_wrapper_for(e.target);var t=n(e.target).val().replace(/\s+/g," ").trim();return this.last_input[e.data.id]!=t&&(this.last_input[e.data.id]=t,this.updateSearchButton(t),t.length>=2?(this.find_result_wrapper_for(e.target).removeClass("help"),this.msg_for(e.target),this.do_search(e)):0==t.length?(this.clear_results_for(e.target),this.msg_for(e.target),this.find_result_wrapper_for(e.target).addClass("help")):(this.clear_results_for(e.target),this.msg_for(e.target,0==t.length?"":"input >= 2 characters..."),this.find_result_wrapper_for(e.target).addClass("help"))),!1}.bind(this)),this.default_input=p,(0,m.default)(p.get(0)).bind("esc",function(e){return n(e.target).blur(),this.hide_all_result()}.bind(this));var _=n("<div />");_.addClass(e.RESULT_WRAPPER_KLASS),_.addClass("help"),_.appendTo(h);var v=n("<ul />");v.addClass(e.RESULTS_KLASS),v.appendTo(_),n(e.HELP).appendTo(_);var y=n('<div class="crsearch-info" />'),g=n("<a />");g.attr("href",e.HOMEPAGE),g.attr("target","_blank"),g.text("CRSearch v"+e.VERSION),g.appendTo(y),y.appendTo(_),p.on("focusin",function(){return this.show_result_wrapper_for(this)}.bind(this)),this.searchButton.appendTo(f)}},{key:"select_default_input",value:function(){return this.default_input.select(),!1}},{key:"find_cr_for",value:function(t){return n(t).closest("."+e.KLASS)}},{key:"find_result_wrapper_for",value:function(t){return this.find_cr_for(t).children("."+e.RESULT_WRAPPER_KLASS)}},{key:"find_results_for",value:function(t){return this.find_result_wrapper_for(t).children("."+e.RESULTS_KLASS)}},{key:"show_result_wrapper_for",value:function(e){return this.find_result_wrapper_for(e).addClass("visible"),!1}},{key:"msg_for",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.find_cr_for(e).find(".result-wrapper .help-content .message").text(t),!1}},{key:"hide_result_wrapper_for",value:function(e){return this.find_result_wrapper_for(e).removeClass("visible"),!1}},{key:"clear_results_for",value:function(e){var t=this.find_results_for(e);return t.empty(),t}},{key:"hide_all_result",value:function(){return n("."+e.KLASS+" ."+e.RESULT_WRAPPER_KLASS).removeClass("visible"),!1}},{key:"dp",value:function(){var e;(e=console).log.apply(e,["[CRSearch]"].concat(Array.prototype.slice.call(arguments)))}}]),e}();R.VERSION="1.0.0",R.HOMEPAGE="https://github.com/cpprefjp/crsearch",R.OPTS_DEFAULT={klass:{search_button:["fa","fa-fw","fa-binoculars"]},google_url:new URL("https://www.google.co.jp/search"),force_new_window:!1},R.KLASS="crsearch",R.RESULT_WRAPPER_KLASS="result-wrapper",R.RESULTS_KLASS="results",R.INPUT_PLACEHOLDER='"std::...", "<header>", etc.',R.MAX_RESULT=5,R.RESULT_PROTO=n('<li class="result"><a href="#"></a></li>'),R.HELP='\n    <div class="help-content">\n      <div class="message"></div>\n      <ul class="examples">\n        <li>\n          <h3>Class / Function / Type</h3>\n          <div class="query">std::<span class="input"></span></div>\n        </li>\n        <li>\n          <h3>Header file</h3>\n          <div class="query">&lt;<span class="input"></span>&gt;</div>\n        </li>\n        <li>\n          <h3>Other / All</h3>\n          <div class="query"><span class="input"></span></div>\n        </li>\n      </ul>\n    </div>\n  ',t.default=R,e.exports=R}).call(t,a(45))}},[71]);
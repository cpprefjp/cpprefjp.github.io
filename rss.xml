<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>cpprefjp - C++日本語リファレンス</title>
  <link href="https://cpprefjp.github.io" />
  <updated>2020-05-18T11:47:14.013751</updated>
  <id>e4e54531-7523-4fb0-8ac6-450eacf15b1c</id>

  
    <entry>
      <title>gcd -- gcd : 不要になったリンクを削除</title>
      <link href="https://cpprefjp.github.io/reference/numeric/gcd.html"/>
      <id>3ecd8061f2eb0d8f24d4a6132960bc137bc060f7:reference/numeric/gcd.md</id>
      <updated>2020-05-18T20:35:21+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/reference/numeric/gcd.md b/reference/numeric/gcd.md
index 21a9e1fc5..e8ccca3a9 100644
--- a/reference/numeric/gcd.md
+++ b/reference/numeric/gcd.md
@@ -76,7 +76,6 @@ int main() {
 * std::int32_t[link /reference/cstdint/int32_t.md]
 * std::uint32_t[link /reference/cstdint/uint32_t.md]
 * std::accumulate[link accumulate.md]
-* v.front()[link /reference/vector/vector/front.md]
 
 ### 出力例
 ```
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>Akira Takahashi</name>
        <email>faithandbrave@gmail.com</email>
      </author>
    </entry>
  
    <entry>
      <title>lcm -- lcm : gcdへのリンクを追加</title>
      <link href="https://cpprefjp.github.io/reference/numeric/lcm.html"/>
      <id>a306da88ad76aaee6c70aaa8a7701503c6103b58:reference/numeric/lcm.md</id>
      <updated>2020-05-18T20:35:01+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/reference/numeric/lcm.md b/reference/numeric/lcm.md
index 414babf6b..2825183d5 100644
--- a/reference/numeric/lcm.md
+++ b/reference/numeric/lcm.md
@@ -83,6 +83,7 @@ int main() {
 * std::uint16_t[link /reference/cstdint/uint16_t.md]
 * std::fabs[link /reference/cmath/fabs.md]
 * std::accumulate[link accumulate.md]
+* std::gcd[link gcd.md]
 
 ### 出力例
 ```
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>Akira Takahashi</name>
        <email>faithandbrave@gmail.com</email>
      </author>
    </entry>
  
    <entry>
      <title>gcd -- gcd : accumulateの初期値を修正</title>
      <link href="https://cpprefjp.github.io/reference/numeric/gcd.html"/>
      <id>63efd02dbe04f9912cf6e52ddbfc4571ed828eef:reference/numeric/gcd.md</id>
      <updated>2020-05-18T20:34:43+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/reference/numeric/gcd.md b/reference/numeric/gcd.md
index 975c39bcc..21a9e1fc5 100644
--- a/reference/numeric/gcd.md
+++ b/reference/numeric/gcd.md
@@ -54,7 +54,7 @@ int main() {
   assert(std::gcd(std::gcd(12, 42), 72) == 6);
 
   std::vector&amp;lt;int&amp;gt; v = {12, 42, 72};
-  int r = std::accumulate(v.begin() + 1, v.end(), v.front(), [](int m, int n) {
+  int r = std::accumulate(v.begin(), v.end(), 0, [](int m, int n) {
     return std::gcd(m, n);
   });
   assert(r == 6);
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>Akira Takahashi</name>
        <email>faithandbrave@gmail.com</email>
      </author>
    </entry>
  
    <entry>
      <title>lcm -- lcm : リンク修正</title>
      <link href="https://cpprefjp.github.io/reference/numeric/lcm.html"/>
      <id>7e769745c05ec1ae382ca322bb67f1871533313d:reference/numeric/lcm.md</id>
      <updated>2020-05-18T20:34:11+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/reference/numeric/lcm.md b/reference/numeric/lcm.md
index 41e8738b0..414babf6b 100644
--- a/reference/numeric/lcm.md
+++ b/reference/numeric/lcm.md
@@ -80,10 +80,9 @@ int main() {
 ```
 * std::lcm[color ff0000]
 * max[link /reference/limits/numeric_limits/max.md]
-* std::uint32_t[link /reference/cstdint/uint32_t.md]
+* std::uint16_t[link /reference/cstdint/uint16_t.md]
 * std::fabs[link /reference/cmath/fabs.md]
 * std::accumulate[link accumulate.md]
-* v.front()[link /reference/vector/vector/front.md]
 
 ### 出力例
 ```
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>Akira Takahashi</name>
        <email>faithandbrave@gmail.com</email>
      </author>
    </entry>
  
    <entry>
      <title>lcm -- lcm : オーバーフローの例が説明不足だったので、説明例を追加</title>
      <link href="https://cpprefjp.github.io/reference/numeric/lcm.html"/>
      <id>8bc82fcaa611e576f085d190d399713903dc785e:reference/numeric/lcm.md</id>
      <updated>2020-05-18T20:33:33+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/reference/numeric/lcm.md b/reference/numeric/lcm.md
index a4d3a10da..41e8738b0 100644
--- a/reference/numeric/lcm.md
+++ b/reference/numeric/lcm.md
@@ -57,17 +57,25 @@ int main() {
   assert(std::lcm(std::lcm(3, 4), 6) == 12);
 
   std::vector&amp;lt;int&amp;gt; v = {3, 4, 6};
-  int r = std::accumulate(v.begin() + 1, v.end(), v.front(), [](int m, int n) {
+  int r = std::accumulate(v.begin(), v.end(), 1, [](int m, int n) {
     return std::lcm(m, n);
   });
   assert(r == 12);
 
-  // オーバーフローする例
-  auto m = std::numeric_limits&amp;lt;std::uint32_t&amp;gt;::max();
-  auto n = m - 1;
-  std::cout &amp;lt;&amp;lt; &amp;#34;lcm(&amp;#34; &amp;lt;&amp;lt; m &amp;lt;&amp;lt; &amp;#34;, &amp;#34; &amp;lt;&amp;lt; n &amp;lt;&amp;lt; &amp;#34;)      &amp;#34; &amp;lt;&amp;lt; std::lcm(m, n) &amp;lt;&amp;lt; std::endl;
-  auto g = std::gcd(m, n);  // 1
-  std::cout &amp;lt;&amp;lt; &amp;#34;true lcm(&amp;#34; &amp;lt;&amp;lt; m &amp;lt;&amp;lt; &amp;#34;, &amp;#34; &amp;lt;&amp;lt; n &amp;lt;&amp;lt; &amp;#34;) &amp;#34; &amp;lt;&amp;lt; std::fabs(m) * std::fabs(n / g) &amp;lt;&amp;lt; std::endl;
+  // 以下、オーバーフローしやすい例
+  uint16_t m = 20000;
+  uint16_t n = 40000;
+
+  // 標準std::lcm()の動作は実装定義
+  std::cout &amp;lt;&amp;lt; &amp;#34;std::lcm(&amp;#34; &amp;lt;&amp;lt; m &amp;lt;&amp;lt; &amp;#34;, &amp;#34; &amp;lt;&amp;lt; n &amp;lt;&amp;lt; &amp;#34;)     &amp;#34; &amp;lt;&amp;lt; std::lcm(m, n) &amp;lt;&amp;lt; std::endl;
+
+  // 公式通りのオーバーフローしやすい最小公倍数の実装
+  volatile uint16_t t = m * n; // 最適化回避のための変数
+  std::cout &amp;lt;&amp;lt; &amp;#34;formal lcm(&amp;#34; &amp;lt;&amp;lt; m &amp;lt;&amp;lt; &amp;#34;, &amp;#34; &amp;lt;&amp;lt; n &amp;lt;&amp;lt; &amp;#34;)   &amp;#34; &amp;lt;&amp;lt; (t / std::gcd(m, n)) &amp;lt;&amp;lt; std::endl;
+
+  // オーバーフローしにくいよう公式を改良した実装
+  auto g = std::gcd(m, n);
+  std::cout &amp;lt;&amp;lt; &amp;#34;improved lcm(&amp;#34; &amp;lt;&amp;lt; m &amp;lt;&amp;lt; &amp;#34;, &amp;#34; &amp;lt;&amp;lt; n &amp;lt;&amp;lt; &amp;#34;) &amp;#34; &amp;lt;&amp;lt; m * (n / g) &amp;lt;&amp;lt; std::endl;
 }
 ```
 * std::lcm[color ff0000]
@@ -79,8 +87,9 @@ int main() {
 
 ### 出力例
 ```
-lcm(4294967295, 4294967294)      2
-true lcm(4294967295, 4294967294) 1.84467e+19
+std::lcm(20000, 40000)     40000
+formal lcm(20000, 40000)   0
+improved lcm(20000, 40000) 40000
 ```
 
 
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>Akira Takahashi</name>
        <email>faithandbrave@gmail.com</email>
      </author>
    </entry>
  
</feed>
<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>cpprefjp - C++日本語リファレンス</title>
  <link href="https://cpprefjp.github.io" />
  <updated>2020-03-21T14:34:35.675626</updated>
  <id>054a5f74-2690-4d5e-80c7-d694d5cfcb74</id>

  
    <entry>
      <title>operator+= -- string::operator+= : string_viewを取るオーバーロードの追記</title>
      <link href="https://cpprefjp.github.io/reference/string/basic_string/op_plus_assign.html"/>
      <id>ea23fac004f3c5b17335d6a2fd10c78fad2b394b:reference/string/basic_string/op_plus_assign.md</id>
      <updated>2020-03-21T21:57:58+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/reference/string/basic_string/op_plus_assign.md b/reference/string/basic_string/op_plus_assign.md
index 7caf43f0a..8c15b3498 100644
--- a/reference/string/basic_string/op_plus_assign.md
+++ b/reference/string/basic_string/op_plus_assign.md
@@ -12,15 +12,25 @@ basic_string&amp;amp; operator+=(const charT* s);             // (2)
 basic_string&amp;amp; operator+=(charT c);                    // (3)
 
 basic_string&amp;amp; operator+=(initializer_list&amp;lt;charT&amp;gt; il); // (4) C++11 から
+
+// string_viewを引数に取るオーバーロード
+template&amp;lt;class T&amp;gt;
+basic_string&amp;amp; operator+=(const T&amp;amp; t);                 // (5) C++17 から
 ```
 * initializer_list[link /reference/initializer_list/initializer_list.md]
 
 ## 概要
 指定された文字列、文字、あるいは初期化リストを追加する。
 
+## テンプレートパラメータ制約
+
+- (5) : 以下の両方を満たしていること
+    - [`is_convertible_v`](/reference/type_traits/is_convertible.md)`&amp;lt;const T&amp;amp;, `[`basic_string_view`](/reference/string_view/basic_string_view.md)`&amp;lt;charT, traits&amp;gt;&amp;gt; == true`
+    - [`is_convertible_v`](/reference/type_traits/is_convertible.md)`&amp;lt;const T&amp;amp;, const charT*&amp;gt; == false`
 
 ## 要件
-`s` は少なくとも `traits_type::length(s) + 1` の長さを持つ `charT` 型の配列を指していること。
+
+- (3) : `s` は少なくとも `traits_type::length(s) + 1` の長さを持つ `charT` 型の配列を指していること。
 
 
 ## 効果
@@ -37,6 +47,15 @@ basic_string&amp;amp; operator+=(initializer_list&amp;lt;charT&amp;gt; il); // (4) C++11 から
 - (4) 対象オブジェクトの末尾に初期化リスト `il` で表された文字列が追加される。  
 	[`append`](append.md)`(il)` と等価。
 
+- (5) 対象オブジェクトの末尾に[`basic_string_view`](/reference/string_view/basic_string_view.md)`&amp;lt;charT, traits&amp;gt;`に変換可能な`t`の参照する文字列が追加される。  
+以下と等価。
+  ```cpp
+  basic_string_view&amp;lt;charT, traits&amp;gt; sv = t;
+  return append(sv);
+  ```
+  * basic_string_view[link /reference/string_view/basic_string_view.md]
+  * append[link append.md]
+
 
 ## 戻り値
 `*this`
@@ -51,6 +70,8 @@ basic_string&amp;amp; operator+=(initializer_list&amp;lt;charT&amp;gt; il); // (4) C++11 から
 
 - (4) [`size`](size.md)`() + il.size() &amp;gt;` [`max_size`](max_size.md)`()` の場合、`length_error` が送出される。
 
+- (5) [`size`](size.md)`() + sv.size() &amp;gt;` [`max_size`](max_size.md)`()` の場合、`length_error` が送出される。
+
 
 ## 備考
 本メンバ関数の呼び出しによって、対象オブジェクトの要素への参照、ポインタ、および、イテレータは無効になる可能性がある。
@@ -60,6 +81,7 @@ basic_string&amp;amp; operator+=(initializer_list&amp;lt;charT&amp;gt; il); // (4) C++11 から
 ```cpp example
 #include &amp;lt;iostream&amp;gt;
 #include &amp;lt;string&amp;gt;
+#include &amp;lt;string_view&amp;gt;
 
 int main()
 {
@@ -78,6 +100,11 @@ int main()
 
   s1 += { &amp;#39; &amp;#39;, &amp;#39;:&amp;#39;, &amp;#39;)&amp;#39; };
   std::cout &amp;lt;&amp;lt; s1 &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
+
+  using namespace std::string_view_literals;
+
+  s1 += &amp;#34; :)&amp;#34;sv;
+  std::cout &amp;lt;&amp;lt; s1 &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
 }
 ```
 * +=[color ff0000]
@@ -89,6 +116,7 @@ Hello,
 Hello, world
 Hello, world!
 Hello, world! :)
+Hello, world! :) :)
 ```
 
 ## 関連項目
@@ -104,4 +132,7 @@ Hello, world! :)
 ## 参照
 - [N2679 Initializer Lists for Standard Containers(Revision 1)](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2008/n2679.pdf)
     - (4)の経緯となる提案文書
-
+- [P0254R2 Integrating `std::string_view` and `std::string`](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2016/p0254r2.pdf)
+- [LWG Issue 2758. `std::string{}.assign(&amp;#34;ABCDE&amp;#34;, 0, 1)` is ambiguous](http://www.open-std.org/jtc1/sc22/wg21/docs/lwg-defects.html#2268)
+- [LWG Issue 2946. LWG 2758&amp;#39;s resolution missed further corrections](https://wg21.cmeerw.net/lwg/issue2946)
+    - 意図しない暗黙変換防止のために`string_view`を受けるオーバーロード(5)の引数型を`const T&amp;amp;`に変更
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>onihusube</name>
        <email>mona-@live.jp</email>
      </author>
    </entry>
  
    <entry>
      <title>splice -- list::splice : 文言修正とサンプル追加</title>
      <link href="https://cpprefjp.github.io/reference/list/list/splice.html"/>
      <id>79cbb0a52b09e28bed9973a0555cb56fa6d315de:reference/list/list/splice.md</id>
      <updated>2020-03-20T23:52:41+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/reference/list/list/splice.md b/reference/list/list/splice.md
index ee6ba9d8c..24eb8eb62 100644
--- a/reference/list/list/splice.md
+++ b/reference/list/list/splice.md
@@ -30,9 +30,9 @@ void splice(const_iterator position, list&amp;amp;&amp;amp; x,
 ## 概要
 他の`list`オブジェクトから、要素を移動する。
 
-- (1), (2) : `position`の次の要素の前に、`x`の全ての要素を移動する。  
-- (3), (4) : `position`の次の要素の前に、`x`の要素のうち`i`の指す要素を移動する。  
-- (5), (6) : `position`の次の要素の前に、`x`の要素のうち`[first, last)`の範囲を移動する。  
+- (1), (2) : `position`の指す要素の前に、`x`の全ての要素を移動する。  
+- (3), (4) : `position`の指す要素の前に、`x`の要素のうち`i`の指す要素を移動する。  
+- (5), (6) : `position`の指す要素の前に、`x`の要素のうち`[first, last)`の範囲を移動する。  
 
 
 ## 要件
@@ -109,6 +109,15 @@ int main()
 
     xs.splice(xs.begin(), std::move(ys), ys.begin(), std::next(ys.begin(), 2));
 
+    print(xs);
+  }
+  // ysの全ての要素をxsの末尾に移動する
+  {
+    std::list&amp;lt;int&amp;gt; xs = {1, 2, 3};
+    std::list&amp;lt;int&amp;gt; ys = {4, 5, 6};
+
+    xs.splice(xs.end(), std::move(ys));
+
     print(xs);
   }
 }
@@ -122,6 +131,7 @@ int main()
 1 2 3 4 5 6 
 1 4 5 6 
 1 2 4 5 6 
+1 2 3 4 5 6 
 ```
 
 ## 参照
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>onihusube</name>
        <email>44743040+onihusube@users.noreply.github.com</email>
      </author>
    </entry>
  
    <entry>
      <title>identity -- identity : 文言修正</title>
      <link href="https://cpprefjp.github.io/reference/functional/identity.html"/>
      <id>90b675429b27ed2be319c2064a9599b1b7a1180d:reference/functional/identity.md</id>
      <updated>2020-03-19T21:55:04+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/reference/functional/identity.md b/reference/functional/identity.md
index 57ef8fad5..6433181f6 100644
--- a/reference/functional/identity.md
+++ b/reference/functional/identity.md
@@ -19,7 +19,7 @@ namespace std {
 
 ## 概要
 
-`identity`クラスは、引数に対して恒等変換を行う関数オブジェクトである。この恒等変換はC++意味論においてのものであり、値そのもの及びCV修飾や値カテゴリも含めて引数をそのまま返す。
+`identity`クラスは、受け取った引数をそのまま返す（恒等変換を行う）関数オブジェクトである。この恒等変換はC++の意味論においてのものであり、値そのもの及びCV修飾や値カテゴリも含めて引数をそのまま返す。
 
 この関数オブジェクトは一切のメンバ変数を持たず、状態を保持しない。
 
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>onihusube</name>
        <email>44743040+onihusube@users.noreply.github.com</email>
      </author>
    </entry>
  
    <entry>
      <title>identity -- identity : MSVC対応バージョンの修正</title>
      <link href="https://cpprefjp.github.io/reference/functional/identity.html"/>
      <id>c362a0867226640dbcefbf1503cb508b70f45ad4:reference/functional/identity.md</id>
      <updated>2020-03-19T17:21:45+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/reference/functional/identity.md b/reference/functional/identity.md
index ad8b8975a..57ef8fad5 100644
--- a/reference/functional/identity.md
+++ b/reference/functional/identity.md
@@ -80,7 +80,7 @@ int main()
 ### 処理系
 - [Clang](/implementation.md#clang): ??
 - [GCC](/implementation.md#gcc): 10.1
-- [Visual C++](/implementation.md#visual_cpp): 2019 Update 3
+- [Visual C++](/implementation.md#visual_cpp): 2019 Update 1
 
 ## 参照
 
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>onihusube</name>
        <email>44743040+onihusube@users.noreply.github.com</email>
      </author>
    </entry>
  
    <entry>
      <title>concepts -- default_constructible -&gt; default_initializable</title>
      <link href="https://cpprefjp.github.io/reference/concepts.html"/>
      <id>4a5ea56923848f533dcb8c299e1234429f7cdd0d:reference/concepts.md</id>
      <updated>2020-03-19T14:30:28+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/reference/concepts.md b/reference/concepts.md
index 2f7a735d2..57c279b5a 100644
--- a/reference/concepts.md
+++ b/reference/concepts.md
@@ -93,7 +93,7 @@ concept C =
 | 名前 | 説明 | 対応バージョン |
 |------|------|----------------|
 | [`constructible_from`](concepts/constructible_from.md) | 構築可能 | C++20 |
-| [`default_constructible`](concepts/default_constructible.md) | デフォルト構築可能 | C++20 |
+| [`default_initializable`](concepts/default_initializable.md) | デフォルト構築可能 | C++20 |
 | [`copy_constructible`](concepts/copy_constructible.md)       | コピー構築可能 | C++20 |
 | [`move_constructible`](concepts/move_constructible.md)       | ムーブ構築可能 | C++20 |
 | [`destructible`](concepts/destructible.md)                 | 破棄可能 | C++20 |
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>onihusube</name>
        <email>44743040+onihusube@users.noreply.github.com</email>
      </author>
    </entry>
  
    <entry>
      <title>default_initializable -- default_constructible -&gt; default_initializable</title>
      <link href="https://cpprefjp.github.io/reference/concepts/default_initializable.html"/>
      <id>4a5ea56923848f533dcb8c299e1234429f7cdd0d:reference/concepts/default_initializable.md</id>
      <updated>2020-03-19T14:30:28+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/reference/concepts/default_initializable.md b/reference/concepts/default_initializable.md
new file mode 100644
index 000000000..c6dec499a
--- /dev/null
+++ b/reference/concepts/default_initializable.md
@@ -0,0 +1,94 @@
+# default_initializable
+* concepts[meta header]
+* concept[meta id-type]
+* std[meta namespace]
+* cpp20[meta cpp]
+
+```cpp
+namespace std {
+  template&amp;lt;class T&amp;gt;
+  concept default_initializable = /*see below*/;
+}
+```
+
+## 概要
+
+`default_initializable`は、任意の型`T`がデフォルト構築可能であること表すコンセプトである。
+
+
+## 要件
+
+まず、説明専用の変数テンプレート`is-default-initializable&amp;lt;T&amp;gt;`を、型`T`について`T t;`のような変数定義が有効である場合に`true`を示す変数テンプレートとして定義する。
+
+```cpp
+template&amp;lt;class T&amp;gt;
+inline constexpr bool is-default-initializable;
+```
+
+`default_initializable`コンセプトは以下のように定義される。
+
+```cpp
+template&amp;lt;class T&amp;gt;
+concept default_initializable = constructible_from&amp;lt;T&amp;gt; &amp;amp;&amp;amp;
+                                requires { T{}; } &amp;amp;&amp;amp;
+                                is-default-initializable&amp;lt;T&amp;gt;;
+```
+* constructible_from[link /reference/concepts/constructible_from.md]
+
+
+## 例
+```cpp example
+#include &amp;lt;iostream&amp;gt;
+#include &amp;lt;concepts&amp;gt;
+
+template&amp;lt;std::default_initializable T&amp;gt;
+void f(const char* name) {
+  std::cout &amp;lt;&amp;lt; name &amp;lt;&amp;lt; &amp;#34; is default initializable&amp;#34; &amp;lt;&amp;lt; std::endl;
+}
+
+template&amp;lt;typename T&amp;gt;
+void f(const char* name) {
+  std::cout &amp;lt;&amp;lt; name &amp;lt;&amp;lt; &amp;#34; is not default initializable&amp;#34; &amp;lt;&amp;lt; std::endl;
+}
+
+struct S {
+  S() = delete;
+  
+  S(int m) : n(m) {}
+
+  int n = 0;
+};
+
+int main() {
+  f&amp;lt;int&amp;gt;(&amp;#34;int&amp;#34;);
+  f&amp;lt;S&amp;gt;(&amp;#34;S&amp;#34;);
+}
+```
+* std::default_initializable[color ff0000]
+
+### 出力
+```
+int is default initializable
+S is not default initializable
+```
+
+## バージョン
+### 言語
+- C++20
+
+### 処理系
+- [Clang](/implementation.md#clang): ??
+- [GCC](/implementation.md#gcc): 10.1
+- [Visual C++](/implementation.md#visual_cpp): 2019 Update 3
+
+## 関連項目
+
+- [C++20 コンセプト](/lang/cpp20/concepts.md)
+- [`is_default_constructible`](/reference/type_traits/is_default_constructible.md)
+
+## 参照
+
+- [P0898R3 Standard Library Concepts](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2018/p0898r3.pdf)
+- [P1754R1 Rename concepts to standard_case for C++20, while we still can](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2019/p1754r1.pdf)
+- [LWG Issue 3149. DefaultConstructible should require default initialization](https://wg21.cmeerw.net/lwg/issue3149)
+
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>onihusube</name>
        <email>44743040+onihusube@users.noreply.github.com</email>
      </author>
    </entry>
  
</feed>
<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>cpprefjp - C++ Reference Site</title>
  <link href="http://cpprefjp.github.io" />
  <updated>2015-01-23T15:08:57.506229</updated>
  <id>ba77f3d3-aa85-4d47-b30c-4098ad708872</id>

  
    <entry>
      <title>try_lock_for (C++11) -- try_lock_for : C++14対応として、要件のところに効果が書いてあった仕様を削除。</title>
      <link href="http://cpprefjp.github.io/reference/mutex/recursive_timed_mutex/try_lock_for.html"/>
      <id>6a642d99da99d73429169ac75331bc5dd3a8b37c:reference/mutex/recursive_timed_mutex/try_lock_for.md</id>
      <updated>2015-01-23 15:08:40 +0900</updated>
      
        <content type="html">&lt;h1&gt;try_lock_for (C++11)&lt;/h1&gt;
&lt;p&gt;&lt;div class=&#34;codehilite&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;template&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color: #0000FF; font-weight: bold&#34;&gt;Rep&lt;/span&gt;, &lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color: #0000FF; font-weight: bold&#34;&gt;Period&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #B00040&#34;&gt;bool&lt;/span&gt; try_lock_for(&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;const&lt;/span&gt; chrono&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/chrono/duration.html&#34;&gt;duration&lt;/a&gt;&lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&lt;/span&gt;Rep, Period&lt;span style=&#34;color: #666666&#34;&gt;&amp;gt;&amp;amp;&lt;/span&gt; rel_time);
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;
&lt;h2&gt;概要&lt;/h2&gt;
&lt;p&gt;タイムアウトする相対時間を指定してロックの取得を試みる&lt;/p&gt;
&lt;h2&gt;効果&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;rel_time&lt;/code&gt;パラメータで指定された相対時間の間、ミューテックスの所有権取得を試みる。&lt;/p&gt;
&lt;p&gt;所有権が取得できるまで、もしくは&lt;code&gt;rel_time&lt;/code&gt;時間が経過するまでこの関数はブロッキングする。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;rel_time&lt;/code&gt;が&lt;code&gt;rel_time.&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/chrono/duration/zero.html&#34;&gt;&lt;code&gt;zero()&lt;/code&gt;&lt;/a&gt;より小さい場合、この関数は&lt;a href=&#34;http://cpprefjp.github.io/reference/mutex/recursive_timed_mutex/try_lock.html&#34;&gt;&lt;code&gt;try_lock()&lt;/code&gt;&lt;/a&gt;と同じ効果をもち、ブロッキングせずにミューテックスの所有権取得を試みる。&lt;/p&gt;
&lt;h2&gt;戻り値&lt;/h2&gt;
&lt;p&gt;所有権が取得できた場合は&lt;code&gt;true&lt;/code&gt;を返す。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;rel_time&lt;/code&gt;パラメータで指定された相対時間の間に所有権が取得できなかった場合はタイムアウトとなり、&lt;code&gt;false&lt;/code&gt;を返す。&lt;/p&gt;
&lt;h2&gt;例外&lt;/h2&gt;
&lt;p&gt;投げない&lt;/p&gt;
&lt;h2&gt;備考&lt;/h2&gt;
&lt;p&gt;この関数の実装が、ミューテックスの所有権を保持しているスレッドがひとつもない場合でも、所有権の取得に失敗する可能性がある。&lt;/p&gt;
&lt;h2&gt;例&lt;/h2&gt;
&lt;p&gt;&lt;div class=&#34;codehilite&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;iostream&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;thread&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;mutex&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;chrono&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;vector&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;system_error&amp;gt;&lt;/span&gt;

&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color: #0000FF; font-weight: bold&#34;&gt;X&lt;/span&gt; {
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;recursive_timed_mutex mtx_;
  &lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt; value_ &lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;0&lt;/span&gt;;
&lt;span style=&#34;color: #A0A000&#34;&gt;public:&lt;/span&gt;
  &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;// メンバ変数value_への書き込みを排他的にする&lt;/span&gt;
  &lt;span style=&#34;color: #B00040&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;add_value&lt;/span&gt;(&lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt; value)
  {
    &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;// ロックの取得を試みる(3秒でタイムアウト)&lt;/span&gt;
    &lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color: #666666&#34;&gt;!&lt;/span&gt;mtx_.&lt;span style=&#34;color:#ff0000&#34;&gt;try_lock_for&lt;/span&gt;(std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;chrono&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;seconds(&lt;span style=&#34;color: #666666&#34;&gt;3&lt;/span&gt;))) {
      &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;// ロックの取得に失敗&lt;/span&gt;
      std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;error_code ec(&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;static_cast&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;&amp;gt;&lt;/span&gt;(std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;errc&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;device_or_resource_busy), std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;generic_category());
      &lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;throw&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;system_error(ec);
    }
    value_ &lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt; value;
    mtx_.unlock();
  }
};

&lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;main&lt;/span&gt;()
{
  X x;

  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;thread&lt;/span&gt; t1([&lt;span style=&#34;color: #666666&#34;&gt;&amp;amp;&lt;/span&gt;x]{ x.add_value(&lt;span style=&#34;color: #666666&#34;&gt;1&lt;/span&gt;); });
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;thread&lt;/span&gt; t2([&lt;span style=&#34;color: #666666&#34;&gt;&amp;amp;&lt;/span&gt;x]{ x.add_value(&lt;span style=&#34;color: #666666&#34;&gt;2&lt;/span&gt;); });

  t1.join();
  t2.join();
}
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;
&lt;h3&gt;出力&lt;/h3&gt;
&lt;p&gt;&lt;pre&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/p&gt;
&lt;h2&gt;バージョン&lt;/h2&gt;
&lt;h3&gt;言語&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;C++11&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;処理系&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#clang&#34;&gt;Clang&lt;/a&gt;: ??&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#gcc&#34;&gt;GCC&lt;/a&gt;: &lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#gcc&#34;&gt;GCC, C++0x mode&lt;/a&gt;: 4.7.0&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#icc&#34;&gt;ICC&lt;/a&gt;: ??&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#visual_cpp&#34;&gt;Visual C++&lt;/a&gt; ??&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;参照&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.open-std.org/jtc1/sc22/wg21/docs/lwg-defects.html#2091&#34; target=&#34;_blank&#34;&gt;LWG Issue 2091. Misplaced effect in &lt;code&gt;m.try_lock_for()&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
      
      <author>
        <name>Akira Takahashi</name>
        <email>faithandbrave@gmail.com</email>
      </author>
    </entry>
  
    <entry>
      <title>try_lock_for (C++11) -- try_lock_for : C++14対応として、要件のところに効果が書いてあった仕様を削除。</title>
      <link href="http://cpprefjp.github.io/reference/mutex/timed_mutex/try_lock_for.html"/>
      <id>6a642d99da99d73429169ac75331bc5dd3a8b37c:reference/mutex/timed_mutex/try_lock_for.md</id>
      <updated>2015-01-23 15:08:40 +0900</updated>
      
        <content type="html">&lt;h1&gt;try_lock_for (C++11)&lt;/h1&gt;
&lt;p&gt;&lt;div class=&#34;codehilite&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;template&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color: #0000FF; font-weight: bold&#34;&gt;Rep&lt;/span&gt;, &lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color: #0000FF; font-weight: bold&#34;&gt;Period&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #B00040&#34;&gt;bool&lt;/span&gt; try_lock_for(&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;const&lt;/span&gt; chrono&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/chrono/duration.html&#34;&gt;duration&lt;/a&gt;&lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&lt;/span&gt;Rep, Period&lt;span style=&#34;color: #666666&#34;&gt;&amp;gt;&amp;amp;&lt;/span&gt; rel_time);
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;
&lt;h2&gt;概要&lt;/h2&gt;
&lt;p&gt;タイムアウトする相対時間を指定してロックの取得を試みる&lt;/p&gt;
&lt;h2&gt;要件&lt;/h2&gt;
&lt;p&gt;この関数を呼び出したスレッドが、ミューテックスの所有権を保持していないこと。&lt;/p&gt;
&lt;h2&gt;効果&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;rel_time&lt;/code&gt;パラメータで指定された相対時間の間、ミューテックスの所有権取得を試みる。&lt;/p&gt;
&lt;p&gt;所有権が取得できるまで、もしくは&lt;code&gt;rel_time&lt;/code&gt;時間が経過するまでこの関数はブロッキングする。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;rel_time&lt;/code&gt;が&lt;code&gt;rel_time.&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/chrono/duration/zero.html&#34;&gt;&lt;code&gt;zero()&lt;/code&gt;&lt;/a&gt;より小さい場合、この関数は&lt;a href=&#34;http://cpprefjp.github.io/reference/mutex/timed_mutex/try_lock.html&#34;&gt;&lt;code&gt;try_lock()&lt;/code&gt;&lt;/a&gt;と同じ効果をもち、ブロッキングせずにミューテックスの所有権取得を試みる。&lt;/p&gt;
&lt;h2&gt;戻り値&lt;/h2&gt;
&lt;p&gt;所有権が取得できた場合は&lt;code&gt;true&lt;/code&gt;を返す。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;rel_time&lt;/code&gt;パラメータで指定された相対時間の間に所有権が取得できなかった場合はタイムアウトとなり、&lt;code&gt;false&lt;/code&gt;を返す。&lt;/p&gt;
&lt;h2&gt;例外&lt;/h2&gt;
&lt;p&gt;投げない&lt;/p&gt;
&lt;h2&gt;備考&lt;/h2&gt;
&lt;p&gt;この関数の実装が、ミューテックスの所有権を保持しているスレッドがひとつもない場合でも、所有権の取得に失敗する可能性がある。&lt;/p&gt;
&lt;h2&gt;例&lt;/h2&gt;
&lt;p&gt;&lt;div class=&#34;codehilite&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;iostream&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;thread&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;mutex&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;chrono&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;vector&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;system_error&amp;gt;&lt;/span&gt;

&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color: #0000FF; font-weight: bold&#34;&gt;X&lt;/span&gt; {
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;timed_mutex mtx_;
  &lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt; value_ &lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;0&lt;/span&gt;;
&lt;span style=&#34;color: #A0A000&#34;&gt;public:&lt;/span&gt;
  &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;// メンバ変数value_への書き込みを排他的にする&lt;/span&gt;
  &lt;span style=&#34;color: #B00040&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;add_value&lt;/span&gt;(&lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt; value)
  {
    &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;// ロックの取得を試みる(3秒でタイムアウト)&lt;/span&gt;
    &lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color: #666666&#34;&gt;!&lt;/span&gt;mtx_.&lt;span style=&#34;color:#ff0000&#34;&gt;try_lock_for&lt;/span&gt;(std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;chrono&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;seconds(&lt;span style=&#34;color: #666666&#34;&gt;3&lt;/span&gt;))) {
      &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;// ロックの取得に失敗&lt;/span&gt;
      std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;error_code ec(&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;static_cast&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;&amp;gt;&lt;/span&gt;(std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;errc&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;device_or_resource_busy), std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;generic_category());
      &lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;throw&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;system_error(ec);
    }
    value_ &lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt; value;
    mtx_.unlock();
  }
};

&lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;main&lt;/span&gt;()
{
  X x;

  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;thread&lt;/span&gt; t1([&lt;span style=&#34;color: #666666&#34;&gt;&amp;amp;&lt;/span&gt;x]{ x.add_value(&lt;span style=&#34;color: #666666&#34;&gt;1&lt;/span&gt;); });
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;thread&lt;/span&gt; t2([&lt;span style=&#34;color: #666666&#34;&gt;&amp;amp;&lt;/span&gt;x]{ x.add_value(&lt;span style=&#34;color: #666666&#34;&gt;2&lt;/span&gt;); });

  t1.join();
  t2.join();
}
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;
&lt;h3&gt;出力&lt;/h3&gt;
&lt;p&gt;&lt;pre&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/p&gt;
&lt;h2&gt;バージョン&lt;/h2&gt;
&lt;h3&gt;言語&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;C++11&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;処理系&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#clang&#34;&gt;Clang&lt;/a&gt;: ??&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#gcc&#34;&gt;GCC&lt;/a&gt;: &lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#gcc&#34;&gt;GCC, C++0x mode&lt;/a&gt;: 4.7.0&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#icc&#34;&gt;ICC&lt;/a&gt;: ??&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#visual_cpp&#34;&gt;Visual C++&lt;/a&gt; ??&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;参照&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.open-std.org/jtc1/sc22/wg21/docs/lwg-defects.html#2091&#34; target=&#34;_blank&#34;&gt;LWG Issue 2091. Misplaced effect in &lt;code&gt;m.try_lock_for()&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
      
      <author>
        <name>Akira Takahashi</name>
        <email>faithandbrave@gmail.com</email>
      </author>
    </entry>
  
    <entry>
      <title>try_lock_for (C++11) -- try_lock_for, try_lock_until : 改行調整</title>
      <link href="http://cpprefjp.github.io/reference/mutex/recursive_timed_mutex/try_lock_for.html"/>
      <id>1862a9430493885b94ca2b2335799fbb017b5db3:reference/mutex/recursive_timed_mutex/try_lock_for.md</id>
      <updated>2015-01-23 14:31:27 +0900</updated>
      
        <content type="html">&lt;h1&gt;try_lock_for (C++11)&lt;/h1&gt;
&lt;p&gt;&lt;div class=&#34;codehilite&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;template&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color: #0000FF; font-weight: bold&#34;&gt;Rep&lt;/span&gt;, &lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color: #0000FF; font-weight: bold&#34;&gt;Period&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #B00040&#34;&gt;bool&lt;/span&gt; try_lock_for(&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;const&lt;/span&gt; chrono&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/chrono/duration.html&#34;&gt;duration&lt;/a&gt;&lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&lt;/span&gt;Rep, Period&lt;span style=&#34;color: #666666&#34;&gt;&amp;gt;&amp;amp;&lt;/span&gt; rel_time);
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;
&lt;h2&gt;概要&lt;/h2&gt;
&lt;p&gt;タイムアウトする相対時間を指定してロックの取得を試みる&lt;/p&gt;
&lt;h2&gt;要件&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;Period&lt;/code&gt;がその環境ネイティブのperiod値に正しく変換できない場合、&lt;a href=&#34;http://cpprefjp.github.io/reference/chrono/duration.html&#34;&gt;&lt;code&gt;duration&lt;/code&gt;&lt;/a&gt;はネイティブのperiod値に切り上げなければならない。&lt;/p&gt;
&lt;h2&gt;効果&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;rel_time&lt;/code&gt;パラメータで指定された相対時間の間、ミューテックスの所有権取得を試みる。&lt;/p&gt;
&lt;p&gt;所有権が取得できるまで、もしくは&lt;code&gt;rel_time&lt;/code&gt;時間が経過するまでこの関数はブロッキングする。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;rel_time&lt;/code&gt;が&lt;code&gt;rel_time.&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/chrono/duration/zero.html&#34;&gt;&lt;code&gt;zero()&lt;/code&gt;&lt;/a&gt;より小さい場合、この関数は&lt;a href=&#34;http://cpprefjp.github.io/reference/mutex/recursive_timed_mutex/try_lock.html&#34;&gt;&lt;code&gt;try_lock()&lt;/code&gt;&lt;/a&gt;と同じ効果をもち、ブロッキングせずにミューテックスの所有権取得を試みる。&lt;/p&gt;
&lt;h2&gt;戻り値&lt;/h2&gt;
&lt;p&gt;所有権が取得できた場合は&lt;code&gt;true&lt;/code&gt;を返す。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;rel_time&lt;/code&gt;パラメータで指定された相対時間の間に所有権が取得できなかった場合はタイムアウトとなり、&lt;code&gt;false&lt;/code&gt;を返す。&lt;/p&gt;
&lt;h2&gt;例外&lt;/h2&gt;
&lt;p&gt;投げない&lt;/p&gt;
&lt;h2&gt;備考&lt;/h2&gt;
&lt;p&gt;この関数の実装が、ミューテックスの所有権を保持しているスレッドがひとつもない場合でも、所有権の取得に失敗する可能性がある。&lt;/p&gt;
&lt;h2&gt;例&lt;/h2&gt;
&lt;p&gt;&lt;div class=&#34;codehilite&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;iostream&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;thread&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;mutex&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;chrono&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;vector&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;system_error&amp;gt;&lt;/span&gt;

&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color: #0000FF; font-weight: bold&#34;&gt;X&lt;/span&gt; {
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;recursive_timed_mutex mtx_;
  &lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt; value_ &lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;0&lt;/span&gt;;
&lt;span style=&#34;color: #A0A000&#34;&gt;public:&lt;/span&gt;
  &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;// メンバ変数value_への書き込みを排他的にする&lt;/span&gt;
  &lt;span style=&#34;color: #B00040&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;add_value&lt;/span&gt;(&lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt; value)
  {
    &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;// ロックの取得を試みる(3秒でタイムアウト)&lt;/span&gt;
    &lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color: #666666&#34;&gt;!&lt;/span&gt;mtx_.&lt;span style=&#34;color:#ff0000&#34;&gt;try_lock_for&lt;/span&gt;(std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;chrono&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;seconds(&lt;span style=&#34;color: #666666&#34;&gt;3&lt;/span&gt;))) {
      &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;// ロックの取得に失敗&lt;/span&gt;
      std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;error_code ec(&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;static_cast&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;&amp;gt;&lt;/span&gt;(std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;errc&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;device_or_resource_busy), std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;generic_category());
      &lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;throw&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;system_error(ec);
    }
    value_ &lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt; value;
    mtx_.unlock();
  }
};

&lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;main&lt;/span&gt;()
{
  X x;

  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;thread&lt;/span&gt; t1([&lt;span style=&#34;color: #666666&#34;&gt;&amp;amp;&lt;/span&gt;x]{ x.add_value(&lt;span style=&#34;color: #666666&#34;&gt;1&lt;/span&gt;); });
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;thread&lt;/span&gt; t2([&lt;span style=&#34;color: #666666&#34;&gt;&amp;amp;&lt;/span&gt;x]{ x.add_value(&lt;span style=&#34;color: #666666&#34;&gt;2&lt;/span&gt;); });

  t1.join();
  t2.join();
}
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;
&lt;h3&gt;出力&lt;/h3&gt;
&lt;p&gt;&lt;pre&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/p&gt;
&lt;h2&gt;バージョン&lt;/h2&gt;
&lt;h3&gt;言語&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;C++11&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;処理系&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#clang&#34;&gt;Clang&lt;/a&gt;: ??&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#gcc&#34;&gt;GCC&lt;/a&gt;: &lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#gcc&#34;&gt;GCC, C++0x mode&lt;/a&gt;: 4.7.0&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#icc&#34;&gt;ICC&lt;/a&gt;: ??&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#visual_cpp&#34;&gt;Visual C++&lt;/a&gt; ??&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;参照&lt;/h2&gt;</content>
      
      <author>
        <name>Akira Takahashi</name>
        <email>faithandbrave@gmail.com</email>
      </author>
    </entry>
  
    <entry>
      <title>try_lock_until (C++11) -- try_lock_for, try_lock_until : 改行調整</title>
      <link href="http://cpprefjp.github.io/reference/mutex/recursive_timed_mutex/try_lock_until.html"/>
      <id>1862a9430493885b94ca2b2335799fbb017b5db3:reference/mutex/recursive_timed_mutex/try_lock_until.md</id>
      <updated>2015-01-23 14:31:27 +0900</updated>
      
        <content type="html">&lt;h1&gt;try_lock_until (C++11)&lt;/h1&gt;
&lt;p&gt;&lt;div class=&#34;codehilite&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;template&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color: #0000FF; font-weight: bold&#34;&gt;Clock&lt;/span&gt;, &lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color: #0000FF; font-weight: bold&#34;&gt;Duration&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #B00040&#34;&gt;bool&lt;/span&gt; try_lock_until(&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;const&lt;/span&gt; chrono&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/chrono/time_point.html&#34;&gt;time_point&lt;/a&gt;&lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&lt;/span&gt;Clock, Duration&lt;span style=&#34;color: #666666&#34;&gt;&amp;gt;&amp;amp;&lt;/span&gt; abs_time);
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;
&lt;h2&gt;概要&lt;/h2&gt;
&lt;p&gt;タイムアウトする絶対時間を指定してロックの取得を試みる&lt;/p&gt;
&lt;h2&gt;効果&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;abs_time&lt;/code&gt;パラメータで指定された絶対時間に到達するまで、ミューテックスの所有権取得を試みる。&lt;/p&gt;
&lt;p&gt;所有権が取得できるまで、もしくは&lt;code&gt;abs_time&lt;/code&gt;時間に到達するまでこの関数はブロッキングする。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;abs_timeにすでに到達していた場合&lt;/code&gt;、この関数は&lt;a href=&#34;http://cpprefjp.github.io/reference/mutex/recursive_timed_mutex/try_lock.html&#34;&gt;&lt;code&gt;try_lock()&lt;/code&gt;&lt;/a&gt;と同じ効果をもち、ブロッキングせずにミューテックスの所有権取得を試みる。&lt;/p&gt;
&lt;h2&gt;戻り値&lt;/h2&gt;
&lt;p&gt;所有権が取得できた場合は&lt;code&gt;true&lt;/code&gt;を返す。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;abs_time&lt;/code&gt;パラメータで指定された相対時間の間に所有権が取得できなかった場合はタイムアウトとなり、&lt;code&gt;false&lt;/code&gt;を返す。&lt;/p&gt;
&lt;h2&gt;例外&lt;/h2&gt;
&lt;p&gt;投げない&lt;/p&gt;
&lt;h2&gt;備考&lt;/h2&gt;
&lt;p&gt;この関数の実装が、ミューテックスの所有権を保持しているスレッドがひとつもない場合でも、所有権の取得に失敗する可能性がある。&lt;/p&gt;
&lt;h2&gt;例&lt;/h2&gt;
&lt;p&gt;&lt;div class=&#34;codehilite&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;iostream&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;thread&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;mutex&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;chrono&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;vector&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;system_error&amp;gt;&lt;/span&gt;

&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color: #0000FF; font-weight: bold&#34;&gt;X&lt;/span&gt; {
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;recursive_timed_mutex mtx_;
  &lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt; value_ &lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;0&lt;/span&gt;;
&lt;span style=&#34;color: #A0A000&#34;&gt;public:&lt;/span&gt;
  &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;// メンバ変数value_への書き込みを排他的にする&lt;/span&gt;
  &lt;span style=&#34;color: #B00040&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;add_value&lt;/span&gt;(&lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt; value)
  {
    &lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;namespace&lt;/span&gt; chrono &lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;chrono;

    chrono&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;system_clock&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;time_point tp &lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt; chrono&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;system_clock&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;now();

    &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;// ロックの取得を試みる(3秒後にタイムアウト)&lt;/span&gt;
    &lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color: #666666&#34;&gt;!&lt;/span&gt;mtx_.&lt;span style=&#34;color:#ff0000&#34;&gt;try_lock_until&lt;/span&gt;(tp &lt;span style=&#34;color: #666666&#34;&gt;+&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;chrono&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;seconds(&lt;span style=&#34;color: #666666&#34;&gt;3&lt;/span&gt;))) {
      &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;// ロックの取得に失敗&lt;/span&gt;
      std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;error_code ec(&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;static_cast&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;&amp;gt;&lt;/span&gt;(std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;errc&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;device_or_resource_busy), std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;generic_category());
      &lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;throw&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;system_error(ec);
    }
    value_ &lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt; value;
    mtx_.unlock();
  }
};

&lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;main&lt;/span&gt;()
{
  X x;

  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;thread&lt;/span&gt; t1([&lt;span style=&#34;color: #666666&#34;&gt;&amp;amp;&lt;/span&gt;x]{ x.add_value(&lt;span style=&#34;color: #666666&#34;&gt;1&lt;/span&gt;); });
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;thread&lt;/span&gt; t2([&lt;span style=&#34;color: #666666&#34;&gt;&amp;amp;&lt;/span&gt;x]{ x.add_value(&lt;span style=&#34;color: #666666&#34;&gt;2&lt;/span&gt;); });

  t1.join();
  t2.join();
}
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;
&lt;h3&gt;出力&lt;/h3&gt;
&lt;p&gt;&lt;pre&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/p&gt;
&lt;h2&gt;バージョン&lt;/h2&gt;
&lt;h3&gt;言語&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;C++11&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;処理系&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#clang&#34;&gt;Clang&lt;/a&gt;: ??&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#gcc&#34;&gt;GCC&lt;/a&gt;: &lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#gcc&#34;&gt;GCC, C++0x mode&lt;/a&gt;: 4.7.0&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#icc&#34;&gt;ICC&lt;/a&gt;: ??&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#visual_cpp&#34;&gt;Visual C++&lt;/a&gt; ??&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;参照&lt;/h2&gt;</content>
      
      <author>
        <name>Akira Takahashi</name>
        <email>faithandbrave@gmail.com</email>
      </author>
    </entry>
  
    <entry>
      <title>try_lock_for (C++11) -- try_lock_for, try_lock_until : 改行調整</title>
      <link href="http://cpprefjp.github.io/reference/mutex/timed_mutex/try_lock_for.html"/>
      <id>1862a9430493885b94ca2b2335799fbb017b5db3:reference/mutex/timed_mutex/try_lock_for.md</id>
      <updated>2015-01-23 14:31:27 +0900</updated>
      
        <content type="html">&lt;h1&gt;try_lock_for (C++11)&lt;/h1&gt;
&lt;p&gt;&lt;div class=&#34;codehilite&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;template&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color: #0000FF; font-weight: bold&#34;&gt;Rep&lt;/span&gt;, &lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color: #0000FF; font-weight: bold&#34;&gt;Period&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #B00040&#34;&gt;bool&lt;/span&gt; try_lock_for(&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;const&lt;/span&gt; chrono&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/chrono/duration.html&#34;&gt;duration&lt;/a&gt;&lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&lt;/span&gt;Rep, Period&lt;span style=&#34;color: #666666&#34;&gt;&amp;gt;&amp;amp;&lt;/span&gt; rel_time);
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;
&lt;h2&gt;概要&lt;/h2&gt;
&lt;p&gt;タイムアウトする相対時間を指定してロックの取得を試みる&lt;/p&gt;
&lt;h2&gt;要件&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;Period&lt;/code&gt;がその環境ネイティブのperiod値に正しく変換できない場合、&lt;a href=&#34;http://cpprefjp.github.io/reference/chrono/duration.html&#34;&gt;&lt;code&gt;duration&lt;/code&gt;&lt;/a&gt;はネイティブのperiod値に切り上げなければならない。&lt;/p&gt;
&lt;p&gt;この関数を呼び出したスレッドが、ミューテックスの所有権を保持していないこと。&lt;/p&gt;
&lt;h2&gt;効果&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;rel_time&lt;/code&gt;パラメータで指定された相対時間の間、ミューテックスの所有権取得を試みる。&lt;/p&gt;
&lt;p&gt;所有権が取得できるまで、もしくは&lt;code&gt;rel_time&lt;/code&gt;時間が経過するまでこの関数はブロッキングする。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;rel_time&lt;/code&gt;が&lt;code&gt;rel_time.&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/chrono/duration/zero.html&#34;&gt;&lt;code&gt;zero()&lt;/code&gt;&lt;/a&gt;より小さい場合、この関数は&lt;a href=&#34;http://cpprefjp.github.io/reference/mutex/timed_mutex/try_lock.html&#34;&gt;&lt;code&gt;try_lock()&lt;/code&gt;&lt;/a&gt;と同じ効果をもち、ブロッキングせずにミューテックスの所有権取得を試みる。&lt;/p&gt;
&lt;h2&gt;戻り値&lt;/h2&gt;
&lt;p&gt;所有権が取得できた場合は&lt;code&gt;true&lt;/code&gt;を返す。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;rel_time&lt;/code&gt;パラメータで指定された相対時間の間に所有権が取得できなかった場合はタイムアウトとなり、&lt;code&gt;false&lt;/code&gt;を返す。&lt;/p&gt;
&lt;h2&gt;例外&lt;/h2&gt;
&lt;p&gt;投げない&lt;/p&gt;
&lt;h2&gt;備考&lt;/h2&gt;
&lt;p&gt;この関数の実装が、ミューテックスの所有権を保持しているスレッドがひとつもない場合でも、所有権の取得に失敗する可能性がある。&lt;/p&gt;
&lt;h2&gt;例&lt;/h2&gt;
&lt;p&gt;&lt;div class=&#34;codehilite&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;iostream&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;thread&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;mutex&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;chrono&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;vector&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;system_error&amp;gt;&lt;/span&gt;

&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color: #0000FF; font-weight: bold&#34;&gt;X&lt;/span&gt; {
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;timed_mutex mtx_;
  &lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt; value_ &lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;0&lt;/span&gt;;
&lt;span style=&#34;color: #A0A000&#34;&gt;public:&lt;/span&gt;
  &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;// メンバ変数value_への書き込みを排他的にする&lt;/span&gt;
  &lt;span style=&#34;color: #B00040&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;add_value&lt;/span&gt;(&lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt; value)
  {
    &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;// ロックの取得を試みる(3秒でタイムアウト)&lt;/span&gt;
    &lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color: #666666&#34;&gt;!&lt;/span&gt;mtx_.&lt;span style=&#34;color:#ff0000&#34;&gt;try_lock_for&lt;/span&gt;(std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;chrono&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;seconds(&lt;span style=&#34;color: #666666&#34;&gt;3&lt;/span&gt;))) {
      &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;// ロックの取得に失敗&lt;/span&gt;
      std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;error_code ec(&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;static_cast&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;&amp;gt;&lt;/span&gt;(std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;errc&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;device_or_resource_busy), std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;generic_category());
      &lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;throw&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;system_error(ec);
    }
    value_ &lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt; value;
    mtx_.unlock();
  }
};

&lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;main&lt;/span&gt;()
{
  X x;

  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;thread&lt;/span&gt; t1([&lt;span style=&#34;color: #666666&#34;&gt;&amp;amp;&lt;/span&gt;x]{ x.add_value(&lt;span style=&#34;color: #666666&#34;&gt;1&lt;/span&gt;); });
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;thread&lt;/span&gt; t2([&lt;span style=&#34;color: #666666&#34;&gt;&amp;amp;&lt;/span&gt;x]{ x.add_value(&lt;span style=&#34;color: #666666&#34;&gt;2&lt;/span&gt;); });

  t1.join();
  t2.join();
}
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;
&lt;h3&gt;出力&lt;/h3&gt;
&lt;p&gt;&lt;pre&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/p&gt;
&lt;h2&gt;バージョン&lt;/h2&gt;
&lt;h3&gt;言語&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;C++11&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;処理系&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#clang&#34;&gt;Clang&lt;/a&gt;: ??&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#gcc&#34;&gt;GCC&lt;/a&gt;: &lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#gcc&#34;&gt;GCC, C++0x mode&lt;/a&gt;: 4.7.0&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#icc&#34;&gt;ICC&lt;/a&gt;: ??&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#visual_cpp&#34;&gt;Visual C++&lt;/a&gt; ??&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;参照&lt;/h2&gt;</content>
      
      <author>
        <name>Akira Takahashi</name>
        <email>faithandbrave@gmail.com</email>
      </author>
    </entry>
  
    <entry>
      <title>try_lock_until (C++11) -- try_lock_for, try_lock_until : 改行調整</title>
      <link href="http://cpprefjp.github.io/reference/mutex/timed_mutex/try_lock_until.html"/>
      <id>1862a9430493885b94ca2b2335799fbb017b5db3:reference/mutex/timed_mutex/try_lock_until.md</id>
      <updated>2015-01-23 14:31:27 +0900</updated>
      
        <content type="html">&lt;h1&gt;try_lock_until (C++11)&lt;/h1&gt;
&lt;p&gt;&lt;div class=&#34;codehilite&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;template&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color: #0000FF; font-weight: bold&#34;&gt;Clock&lt;/span&gt;, &lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color: #0000FF; font-weight: bold&#34;&gt;Duration&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #B00040&#34;&gt;bool&lt;/span&gt; try_lock_until(&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;const&lt;/span&gt; chrono&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/chrono/time_point.html&#34;&gt;time_point&lt;/a&gt;&lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&lt;/span&gt;Clock, Duration&lt;span style=&#34;color: #666666&#34;&gt;&amp;gt;&amp;amp;&lt;/span&gt; abs_time);
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;
&lt;h2&gt;概要&lt;/h2&gt;
&lt;p&gt;タイムアウトする絶対時間を指定してロックの取得を試みる&lt;/p&gt;
&lt;h2&gt;要件&lt;/h2&gt;
&lt;p&gt;この関数を呼び出したスレッドが、ミューテックスの所有権を保持していないこと。&lt;/p&gt;
&lt;h2&gt;効果&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;abs_time&lt;/code&gt;パラメータで指定された絶対時間に到達するまで、ミューテックスの所有権取得を試みる。&lt;/p&gt;
&lt;p&gt;所有権が取得できるまで、もしくは&lt;code&gt;abs_time&lt;/code&gt;時間に到達するまでこの関数はブロッキングする。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;abs_timeにすでに到達していた場合&lt;/code&gt;、この関数は&lt;a href=&#34;http://cpprefjp.github.io/reference/mutex/timed_mutex/try_lock.html&#34;&gt;&lt;code&gt;try_lock()&lt;/code&gt;&lt;/a&gt;と同じ効果をもち、ブロッキングせずにミューテックスの所有権取得を試みる。&lt;/p&gt;
&lt;h2&gt;戻り値&lt;/h2&gt;
&lt;p&gt;所有権が取得できた場合は&lt;code&gt;true&lt;/code&gt;を返す。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;abs_time&lt;/code&gt;パラメータで指定された相対時間の間に所有権が取得できなかった場合はタイムアウトとなり、&lt;code&gt;false&lt;/code&gt;を返す。&lt;/p&gt;
&lt;h2&gt;例外&lt;/h2&gt;
&lt;p&gt;投げない&lt;/p&gt;
&lt;h2&gt;備考&lt;/h2&gt;
&lt;p&gt;この関数の実装が、ミューテックスの所有権を保持しているスレッドがひとつもない場合でも、所有権の取得に失敗する可能性がある。&lt;/p&gt;
&lt;h2&gt;例&lt;/h2&gt;
&lt;p&gt;&lt;div class=&#34;codehilite&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;iostream&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;thread&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;mutex&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;chrono&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;vector&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;system_error&amp;gt;&lt;/span&gt;

&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color: #0000FF; font-weight: bold&#34;&gt;X&lt;/span&gt; {
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;timed_mutex mtx_;
  &lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt; value_ &lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;0&lt;/span&gt;;
&lt;span style=&#34;color: #A0A000&#34;&gt;public:&lt;/span&gt;
  &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;// メンバ変数value_への書き込みを排他的にする&lt;/span&gt;
  &lt;span style=&#34;color: #B00040&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;add_value&lt;/span&gt;(&lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt; value)
  {
    &lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;namespace&lt;/span&gt; chrono &lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;chrono;

    chrono&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;system_clock&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;time_point tp &lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt; chrono&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;system_clock&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;now();

    &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;// ロックの取得を試みる(3秒後にタイムアウト)&lt;/span&gt;
    &lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color: #666666&#34;&gt;!&lt;/span&gt;mtx_.&lt;span style=&#34;color:#ff0000&#34;&gt;try_lock_until&lt;/span&gt;(tp &lt;span style=&#34;color: #666666&#34;&gt;+&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;chrono&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;seconds(&lt;span style=&#34;color: #666666&#34;&gt;3&lt;/span&gt;))) {
      &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;// ロックの取得に失敗&lt;/span&gt;
      std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;error_code ec(&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;static_cast&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;&amp;gt;&lt;/span&gt;(std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;errc&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;device_or_resource_busy), std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;generic_category());
      &lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;throw&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;system_error(ec);
    }
    value_ &lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt; value;
    mtx_.unlock();
  }
};

&lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;main&lt;/span&gt;()
{
  X x;

  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;thread&lt;/span&gt; t1([&lt;span style=&#34;color: #666666&#34;&gt;&amp;amp;&lt;/span&gt;x]{ x.add_value(&lt;span style=&#34;color: #666666&#34;&gt;1&lt;/span&gt;); });
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;thread&lt;/span&gt; t2([&lt;span style=&#34;color: #666666&#34;&gt;&amp;amp;&lt;/span&gt;x]{ x.add_value(&lt;span style=&#34;color: #666666&#34;&gt;2&lt;/span&gt;); });

  t1.join();
  t2.join();
}
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;
&lt;h3&gt;出力&lt;/h3&gt;
&lt;p&gt;&lt;pre&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/p&gt;
&lt;h2&gt;バージョン&lt;/h2&gt;
&lt;h3&gt;言語&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;C++11&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;処理系&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#clang&#34;&gt;Clang&lt;/a&gt;: ??&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#gcc&#34;&gt;GCC&lt;/a&gt;: &lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#gcc&#34;&gt;GCC, C++0x mode&lt;/a&gt;: 4.7.0&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#icc&#34;&gt;ICC&lt;/a&gt;: ??&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#visual_cpp&#34;&gt;Visual C++&lt;/a&gt; ??&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;参照&lt;/h2&gt;</content>
      
      <author>
        <name>Akira Takahashi</name>
        <email>faithandbrave@gmail.com</email>
      </author>
    </entry>
  
    <entry>
      <title>fma -- fma : 関数名の間違いを修正</title>
      <link href="http://cpprefjp.github.io/reference/cmath/fma.html"/>
      <id>35c6bbfe5e2c2dbe94eed298649bdefd8fda3360:reference/cmath/fma.md</id>
      <updated>2015-01-23 12:24:01 +0900</updated>
      
        <content type="html">&lt;h1&gt;fma&lt;/h1&gt;
&lt;p&gt;&lt;div class=&#34;codehilite&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;namespace&lt;/span&gt; std {
  &lt;span style=&#34;color: #B00040&#34;&gt;float&lt;/span&gt; fma(&lt;span style=&#34;color: #B00040&#34;&gt;float&lt;/span&gt; x, &lt;span style=&#34;color: #B00040&#34;&gt;float&lt;/span&gt; y, &lt;span style=&#34;color: #B00040&#34;&gt;float&lt;/span&gt; z);

  &lt;span style=&#34;color: #B00040&#34;&gt;double&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;fma&lt;/span&gt;(&lt;span style=&#34;color: #B00040&#34;&gt;double&lt;/span&gt; x, &lt;span style=&#34;color: #B00040&#34;&gt;double&lt;/span&gt; y, &lt;span style=&#34;color: #B00040&#34;&gt;double&lt;/span&gt; z);

  &lt;span style=&#34;color: #B00040&#34;&gt;long&lt;/span&gt; &lt;span style=&#34;color: #B00040&#34;&gt;double&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;fma&lt;/span&gt;(&lt;span style=&#34;color: #B00040&#34;&gt;long&lt;/span&gt; &lt;span style=&#34;color: #B00040&#34;&gt;double&lt;/span&gt; x, &lt;span style=&#34;color: #B00040&#34;&gt;long&lt;/span&gt; &lt;span style=&#34;color: #B00040&#34;&gt;double&lt;/span&gt; y, &lt;span style=&#34;color: #B00040&#34;&gt;long&lt;/span&gt; &lt;span style=&#34;color: #B00040&#34;&gt;double&lt;/span&gt; z);

  &lt;i&gt;Promoted&lt;/i&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;fma&lt;/span&gt;(&lt;i&gt;Arithmetic1&lt;/i&gt; x, &lt;i&gt;Arithmetic2&lt;/i&gt; y, &lt;i&gt;Arithmetic3&lt;/i&gt; z);   &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;// C++11&lt;/span&gt;
}
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;
&lt;h2&gt;概要&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;x * y + z&lt;/code&gt; を計算する。&lt;/p&gt;
&lt;p&gt;丸めは乗算と加算のあとに1回だけ行われる。&lt;/p&gt;</content>
      
      <author>
        <name>Akira Takahashi</name>
        <email>faithandbrave@gmail.com</email>
      </author>
    </entry>
  
    <entry>
      <title>nearbyint (C++11) -- cmath: nearbyint と rint の誤字を修正</title>
      <link href="http://cpprefjp.github.io/reference/cmath/nearbyint.html"/>
      <id>eefff789c212b94dd26e1827c2c8ed74af262c61:reference/cmath/nearbyint.md</id>
      <updated>2015-01-23 12:18:56 +0900</updated>
      
        <content type="html">&lt;h1&gt;nearbyint (C++11)&lt;/h1&gt;
&lt;p&gt;&lt;div class=&#34;codehilite&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;namespace&lt;/span&gt; std {
  &lt;span style=&#34;color: #B00040&#34;&gt;float&lt;/span&gt; nearbyint(&lt;span style=&#34;color: #B00040&#34;&gt;float&lt;/span&gt; x);

  &lt;span style=&#34;color: #B00040&#34;&gt;double&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;nearbyint&lt;/span&gt;(&lt;span style=&#34;color: #B00040&#34;&gt;double&lt;/span&gt; x);

  &lt;span style=&#34;color: #B00040&#34;&gt;long&lt;/span&gt; &lt;span style=&#34;color: #B00040&#34;&gt;double&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;nearbyint&lt;/span&gt;(&lt;span style=&#34;color: #B00040&#34;&gt;long&lt;/span&gt; &lt;span style=&#34;color: #B00040&#34;&gt;double&lt;/span&gt; x);

  &lt;span style=&#34;color: #B00040&#34;&gt;double&lt;/span&gt; nearbyint(&lt;i&gt;Integral&lt;/i&gt; x)
}
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;
&lt;h2&gt;概要&lt;/h2&gt;
&lt;p&gt;引数 &lt;code&gt;x&lt;/code&gt; を現在の丸めモードで整数値に丸めた値を得る。&lt;/p&gt;
&lt;h2&gt;戻り値&lt;/h2&gt;
&lt;p&gt;引数 &lt;code&gt;x&lt;/code&gt; を現在の丸めモードで整数値に丸めた値&lt;/p&gt;
&lt;h2&gt;備考&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;本関数と &lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/rint.html&#34;&gt;&lt;code&gt;rint&lt;/code&gt;&lt;/a&gt; は戻り値は同一であるが、本関数は引数 &lt;code&gt;x&lt;/code&gt; が戻り値と異なっていても &lt;a href=&#34;http://cpprefjp.github.io/reference/cfenv/FE_INEXACT.md.nolink&#34;&gt;&lt;code&gt;FE_INEXACT&lt;/code&gt;&lt;/a&gt; は発生しないが、&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/rint.html&#34;&gt;&lt;code&gt;rint&lt;/code&gt;&lt;/a&gt; は発生する可能性がある点のみ動作が異なる。&lt;/li&gt;
&lt;li&gt;本関数は、C99 の規格にある &lt;code&gt;nearbyint&lt;/code&gt;（より正確には &lt;code&gt;math.h&lt;/code&gt; ヘッダの &lt;code&gt;nearbyint&lt;/code&gt;、&lt;code&gt;nearbyintf&lt;/code&gt;、&lt;code&gt;nearbyintl&lt;/code&gt; の 3 つ。それぞれ C++ の &lt;code&gt;double&lt;/code&gt;、&lt;code&gt;float&lt;/code&gt;、&lt;code&gt;long double&lt;/code&gt; バージョンに相当）と同等である。
    C99 では、処理系が ISO IEC 60559（IEEE 754 と同一)に準拠している場合、以下のように規定されている。&lt;ul&gt;
&lt;li&gt;&lt;code&gt;x = ±0&lt;/code&gt; の場合、&lt;code&gt;±0&lt;/code&gt; を返す。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;x = ±∞&lt;/code&gt; の場合、&lt;code&gt;±∞&lt;/code&gt; を返す。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;処理系が ISO IEC 60599 に準拠しているかどうかは、C99 の場合はマクロ &lt;code&gt;__STDC_IEC_599__&lt;/code&gt; が &lt;code&gt;1&lt;/code&gt; に定義されている事で判別可能であるが、C++ 規格書には該当する記載を見つけることができなかった。&lt;/li&gt;
&lt;li&gt;C99 では、丸めモードの設定時には &lt;code&gt;#pragma STDC FENV_ACCESS ON&lt;/code&gt; でなければなければならないと記載されているが、C++ には該当する記載を見つけることができなかった。&lt;br /&gt;
    なお、C99 でも &lt;code&gt;FENV_ACCESS&lt;/code&gt; のデフォルトは処理系定義である。&lt;/li&gt;
&lt;li&gt;丸めモード &lt;a href=&#34;http://cpprefjp.github.io/reference/cfenv/FE_TONEAREST.md.nolink&#34;&gt;&lt;code&gt;FE_TONEAREST&lt;/code&gt;&lt;/a&gt; は単なる四捨五入ではないことに注意。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;例&lt;/h2&gt;
&lt;p&gt;&lt;div class=&#34;codehilite&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cfenv.md.nolink&#34;&gt;cfenv&lt;/a&gt;&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath.html&#34;&gt;cmath&lt;/a&gt;&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;&lt;a href=&#34;http://cpprefjp.github.io/reference/iostream.html&#34;&gt;iostream&lt;/a&gt;&amp;gt;&lt;/span&gt;

&lt;span style=&#34;color: #B00040&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;test&lt;/span&gt;(&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color: #B00040&#34;&gt;char&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;*&lt;/span&gt; title, &lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt; round_mode)
{
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cfenv/feclearexcept.md.nolink&#34;&gt;feclearexcept&lt;/a&gt;(&lt;a href=&#34;http://cpprefjp.github.io/reference/cfenv/FE_ALL_EXCEPT.md.nolink&#34;&gt;FE_ALL_EXCEPT&lt;/a&gt;);
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cfenv/fesetround.md.nolink&#34;&gt;fesetround&lt;/a&gt;(round_mode);
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/iostream/cout.html&#34;&gt;cout&lt;/a&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; title &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/ostream/endl.html&#34;&gt;endl&lt;/a&gt;;
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/iostream/cout.html&#34;&gt;cout&lt;/a&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;&lt;span style=&#34;color:#ff0000&#34;&gt;nearbyint&lt;/span&gt;(2.5) = &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#ff0000&#34;&gt;nearbyint&lt;/span&gt;(&lt;span style=&#34;color: #666666&#34;&gt;2.5&lt;/span&gt;) &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/ostream/endl.html&#34;&gt;endl&lt;/a&gt;;
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/iostream/cout.html&#34;&gt;cout&lt;/a&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;&lt;span style=&#34;color:#ff0000&#34;&gt;nearbyint&lt;/span&gt;(-2.5) = &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#ff0000&#34;&gt;nearbyint&lt;/span&gt;(&lt;span style=&#34;color: #666666&#34;&gt;-2.5&lt;/span&gt;) &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/ostream/endl.html&#34;&gt;endl&lt;/a&gt;;
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/iostream/cout.html&#34;&gt;cout&lt;/a&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;&lt;a href=&#34;http://cpprefjp.github.io/reference/cfenv/FE_INEXACT.md.nolink&#34;&gt;FE_INEXACT&lt;/a&gt; = &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/ios/boolalpha.html&#34;&gt;boolalpha&lt;/a&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; (std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cfenv/fetestexcept.md.nolink&#34;&gt;fetestexcept&lt;/a&gt;(&lt;a href=&#34;http://cpprefjp.github.io/reference/cfenv/FE_INEXACT.md.nolink&#34;&gt;FE_INEXACT&lt;/a&gt;) &lt;span style=&#34;color: #666666&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;0&lt;/span&gt;) &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/ostream/endl.html&#34;&gt;endl&lt;/a&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/ostream/endl.html&#34;&gt;endl&lt;/a&gt;;
}

&lt;span style=&#34;color: #BC7A00&#34;&gt;#define test(mode) test(#mode, mode)&lt;/span&gt;

&lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;main&lt;/span&gt;()
{
&lt;span style=&#34;color: #BC7A00&#34;&gt;#ifdef FE_DOWNWARD&lt;/span&gt;
  test(FE_DOWNWARD);
&lt;span style=&#34;color: #BC7A00&#34;&gt;#endif&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#ifdef FE_TONEAREST&lt;/span&gt;
  test(FE_TONEAREST);
&lt;span style=&#34;color: #BC7A00&#34;&gt;#endif&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#ifdef FE_TOWARDZERO&lt;/span&gt;
  test(FE_TOWARDZERO);
&lt;span style=&#34;color: #BC7A00&#34;&gt;#endif&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#ifdef FE_UPWARD&lt;/span&gt;
  test(FE_UPWARD);
&lt;span style=&#34;color: #BC7A00&#34;&gt;#endif&lt;/span&gt;
}
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;
&lt;h3&gt;出力例&lt;/h3&gt;
&lt;p&gt;&lt;pre&gt;&lt;code&gt;FE_DOWNWARD
nearbyint(2.5) = 2
nearbyint(-2.5) = -3
FE_INEXACT = false

FE_TONEAREST
nearbyint(2.5) = 2
nearbyint(-2.5) = -2
FE_INEXACT = false

FE_TOWARDZERO
nearbyint(2.5) = 2
nearbyint(-2.5) = -2
FE_INEXACT = false

FE_UPWARD
nearbyint(2.5) = 3
nearbyint(-2.5) = -2
FE_INEXACT = false
&lt;/code&gt;&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;処理系が ISO IEC 60599 に準拠していない場合、全ての丸めモードが利用可能とは限らない。&lt;/p&gt;
&lt;h2&gt;バージョン&lt;/h2&gt;
&lt;h3&gt;言語&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;C++11&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;処理系&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#clang&#34;&gt;Clang&lt;/a&gt;: 3.0, 3.1, 3.2, 3.3, 3.4, 3.5, 3.6, 3.7&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#clang&#34;&gt;Clang, C++0x mode&lt;/a&gt;: 3.0, 3.1, 3.2, 3.3, 3.4, 3.5, 3.6, 3.7&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#gcc&#34;&gt;GCC&lt;/a&gt;: -&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#gcc&#34;&gt;GCC, C++0x mode&lt;/a&gt;: 4.3.6, 4.4.7, 4.5.4, 4.6.4, 4.7.3, 4.8.1, 4.8.2, 4.9.0, 4.9.1, 5.0.0&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#icc&#34;&gt;ICC&lt;/a&gt;: ??&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#visual_cpp&#34;&gt;Visual C++&lt;/a&gt;: ??&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;備考&lt;/h3&gt;
&lt;p&gt;本関数は C++11 で追加されたが、Clang(libc++) では C++11 モードでなくても使用可能である。&lt;/p&gt;</content>
      
      <author>
        <name>Mitsuru Kariya</name>
        <email>kariya_mitsuru@hotmail.com</email>
      </author>
    </entry>
  
    <entry>
      <title>rint (C++11) -- cmath: nearbyint と rint の誤字を修正</title>
      <link href="http://cpprefjp.github.io/reference/cmath/rint.html"/>
      <id>eefff789c212b94dd26e1827c2c8ed74af262c61:reference/cmath/rint.md</id>
      <updated>2015-01-23 12:18:56 +0900</updated>
      
        <content type="html">&lt;h1&gt;rint (C++11)&lt;/h1&gt;
&lt;p&gt;&lt;div class=&#34;codehilite&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;namespace&lt;/span&gt; std {
  &lt;span style=&#34;color: #B00040&#34;&gt;float&lt;/span&gt; rint(&lt;span style=&#34;color: #B00040&#34;&gt;float&lt;/span&gt; x);

  &lt;span style=&#34;color: #B00040&#34;&gt;double&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;rint&lt;/span&gt;(&lt;span style=&#34;color: #B00040&#34;&gt;double&lt;/span&gt; x);

  &lt;span style=&#34;color: #B00040&#34;&gt;long&lt;/span&gt; &lt;span style=&#34;color: #B00040&#34;&gt;double&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;rint&lt;/span&gt;(&lt;span style=&#34;color: #B00040&#34;&gt;long&lt;/span&gt; &lt;span style=&#34;color: #B00040&#34;&gt;double&lt;/span&gt; x);

  &lt;span style=&#34;color: #B00040&#34;&gt;double&lt;/span&gt; rint(&lt;i&gt;Integral&lt;/i&gt; x)
}
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;
&lt;h2&gt;概要&lt;/h2&gt;
&lt;p&gt;引数 &lt;code&gt;x&lt;/code&gt; を現在の丸めモードで整数値に丸めた値を得る。&lt;/p&gt;
&lt;h2&gt;戻り値&lt;/h2&gt;
&lt;p&gt;引数 &lt;code&gt;x&lt;/code&gt; を現在の丸めモードで整数値に丸めた値&lt;/p&gt;
&lt;h2&gt;備考&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;本関数と &lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/nearbyint.html&#34;&gt;&lt;code&gt;nearbyint&lt;/code&gt;&lt;/a&gt; は戻り値は同一であるが、本関数は引数 &lt;code&gt;x&lt;/code&gt; が戻り値と異なってる場合 &lt;a href=&#34;http://cpprefjp.github.io/reference/cfenv/FE_INEXACT.md.nolink&#34;&gt;&lt;code&gt;FE_INEXACT&lt;/code&gt;&lt;/a&gt; が発生する可能性があるが、&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/nearbyint.html&#34;&gt;&lt;code&gt;nearbyint&lt;/code&gt;&lt;/a&gt; は発生しない点のみ動作が異なる。&lt;/li&gt;
&lt;li&gt;本関数は、C99 の規格にある &lt;code&gt;rint&lt;/code&gt;（より正確には &lt;code&gt;math.h&lt;/code&gt; ヘッダの &lt;code&gt;rint&lt;/code&gt;、&lt;code&gt;rintf&lt;/code&gt;、&lt;code&gt;rintl&lt;/code&gt; の 3 つ。それぞれ C++ の &lt;code&gt;double&lt;/code&gt;、&lt;code&gt;float&lt;/code&gt;、&lt;code&gt;long double&lt;/code&gt; バージョンに相当）と同等である。
    C99 では、処理系が ISO IEC 60559（IEEE 754 と同一)に準拠している場合、以下のように規定されている。&lt;ul&gt;
&lt;li&gt;&lt;code&gt;x = ±0&lt;/code&gt; の場合、&lt;code&gt;±0&lt;/code&gt; を返す。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;x = ±∞&lt;/code&gt; の場合、&lt;code&gt;±∞&lt;/code&gt; を返す。&lt;/li&gt;
&lt;li&gt;引数 &lt;code&gt;x&lt;/code&gt; が戻り値と異なってる場合、&lt;a href=&#34;http://cpprefjp.github.io/reference/cfenv/FE_INEXACT.md.nolink&#34;&gt;&lt;code&gt;FE_INEXACT&lt;/code&gt;&lt;/a&gt; が発生する。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;処理系が ISO IEC 60599 に準拠しているかどうかは、C99 の場合はマクロ &lt;code&gt;__STDC_IEC_599__&lt;/code&gt; が &lt;code&gt;1&lt;/code&gt; に定義されている事で判別可能であるが、C++ 規格書には該当する記載を見つけることができなかった。&lt;/li&gt;
&lt;li&gt;C99 では、丸めモードの設定時には &lt;code&gt;#pragma STDC FENV_ACCESS ON&lt;/code&gt; でなければなければならないと記載されているが、C++ には該当する記載を見つけることができなかった。&lt;br /&gt;
    なお、C99 でも &lt;code&gt;FENV_ACCESS&lt;/code&gt; のデフォルトは処理系定義である。&lt;/li&gt;
&lt;li&gt;丸めモード &lt;a href=&#34;http://cpprefjp.github.io/reference/cfenv/FE_TONEAREST.md.nolink&#34;&gt;&lt;code&gt;FE_TONEAREST&lt;/code&gt;&lt;/a&gt; は単なる四捨五入ではないことに注意。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;例&lt;/h2&gt;
&lt;p&gt;&lt;div class=&#34;codehilite&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cfenv.md.nolink&#34;&gt;cfenv&lt;/a&gt;&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath.html&#34;&gt;cmath&lt;/a&gt;&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;&lt;a href=&#34;http://cpprefjp.github.io/reference/iostream.html&#34;&gt;iostream&lt;/a&gt;&amp;gt;&lt;/span&gt;

&lt;span style=&#34;color: #B00040&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;test&lt;/span&gt;(&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color: #B00040&#34;&gt;char&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;*&lt;/span&gt; title, &lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt; round_mode)
{
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cfenv/feclearexcept.md.nolink&#34;&gt;feclearexcept&lt;/a&gt;(&lt;a href=&#34;http://cpprefjp.github.io/reference/cfenv/FE_ALL_EXCEPT.md.nolink&#34;&gt;FE_ALL_EXCEPT&lt;/a&gt;);
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cfenv/fesetround.md.nolink&#34;&gt;fesetround&lt;/a&gt;(round_mode);
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/iostream/cout.html&#34;&gt;cout&lt;/a&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; title &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/ostream/endl.html&#34;&gt;endl&lt;/a&gt;;
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/iostream/cout.html&#34;&gt;cout&lt;/a&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;&lt;span style=&#34;color:#ff0000&#34;&gt;rint&lt;/span&gt;(2.5) = &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#ff0000&#34;&gt;rint&lt;/span&gt;(&lt;span style=&#34;color: #666666&#34;&gt;2.5&lt;/span&gt;) &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/ostream/endl.html&#34;&gt;endl&lt;/a&gt;;
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/iostream/cout.html&#34;&gt;cout&lt;/a&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;&lt;span style=&#34;color:#ff0000&#34;&gt;rint&lt;/span&gt;(-2.5) = &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#ff0000&#34;&gt;rint&lt;/span&gt;(&lt;span style=&#34;color: #666666&#34;&gt;-2.5&lt;/span&gt;) &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/ostream/endl.html&#34;&gt;endl&lt;/a&gt;;
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/iostream/cout.html&#34;&gt;cout&lt;/a&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;&lt;a href=&#34;http://cpprefjp.github.io/reference/cfenv/FE_INEXACT.md.nolink&#34;&gt;FE_INEXACT&lt;/a&gt; = &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/ios/boolalpha.html&#34;&gt;boolalpha&lt;/a&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; (std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cfenv/fetestexcept.md.nolink&#34;&gt;fetestexcept&lt;/a&gt;(&lt;a href=&#34;http://cpprefjp.github.io/reference/cfenv/FE_INEXACT.md.nolink&#34;&gt;FE_INEXACT&lt;/a&gt;) &lt;span style=&#34;color: #666666&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;0&lt;/span&gt;) &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/ostream/endl.html&#34;&gt;endl&lt;/a&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/ostream/endl.html&#34;&gt;endl&lt;/a&gt;;
}

&lt;span style=&#34;color: #BC7A00&#34;&gt;#define test(mode) test(#mode, mode)&lt;/span&gt;

&lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;main&lt;/span&gt;()
{
&lt;span style=&#34;color: #BC7A00&#34;&gt;#ifdef FE_DOWNWARD&lt;/span&gt;
  test(FE_DOWNWARD);
&lt;span style=&#34;color: #BC7A00&#34;&gt;#endif&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#ifdef FE_TONEAREST&lt;/span&gt;
  test(FE_TONEAREST);
&lt;span style=&#34;color: #BC7A00&#34;&gt;#endif&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#ifdef FE_TOWARDZERO&lt;/span&gt;
  test(FE_TOWARDZERO);
&lt;span style=&#34;color: #BC7A00&#34;&gt;#endif&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#ifdef FE_UPWARD&lt;/span&gt;
  test(FE_UPWARD);
&lt;span style=&#34;color: #BC7A00&#34;&gt;#endif&lt;/span&gt;
}
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;
&lt;h3&gt;出力例&lt;/h3&gt;
&lt;p&gt;&lt;pre&gt;&lt;code&gt;FE_DOWNWARD
rint(2.5) = 2
rint(-2.5) = -3
FE_INEXACT = true

FE_TONEAREST
rint(2.5) = 2
rint(-2.5) = -2
FE_INEXACT = true

FE_TOWARDZERO
rint(2.5) = 2
rint(-2.5) = -2
FE_INEXACT = true

FE_UPWARD
rint(2.5) = 3
rint(-2.5) = -2
FE_INEXACT = true
&lt;/code&gt;&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;処理系が ISO IEC 60599 に準拠していない場合、全ての丸めモードが利用可能とは限らない。&lt;br /&gt;
また、処理系が IEC60559 に準拠していない場合、&lt;code&gt;FE_INEXACT&lt;/code&gt; は &lt;code&gt;false&lt;/code&gt; の可能性がある。&lt;/p&gt;
&lt;h2&gt;バージョン&lt;/h2&gt;
&lt;h3&gt;言語&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;C++11&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;処理系&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#clang&#34;&gt;Clang&lt;/a&gt;: 3.0, 3.1, 3.2, 3.3, 3.4, 3.5, 3.6, 3.7&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#clang&#34;&gt;Clang, C++0x mode&lt;/a&gt;: 3.0, 3.1, 3.2, 3.3, 3.4, 3.5, 3.6, 3.7&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#gcc&#34;&gt;GCC&lt;/a&gt;: -&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#gcc&#34;&gt;GCC, C++0x mode&lt;/a&gt;: 4.3.6, 4.4.7, 4.5.4, 4.6.4, 4.7.3, 4.8.1, 4.8.2, 4.9.0, 4.9.1, 5.0.0&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#icc&#34;&gt;ICC&lt;/a&gt;: ??&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#visual_cpp&#34;&gt;Visual C++&lt;/a&gt;: ??&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;備考&lt;/h3&gt;
&lt;p&gt;本関数は C++11 で追加されたが、Clang(libc++) では C++11 モードでなくても使用可能である。&lt;/p&gt;</content>
      
      <author>
        <name>Mitsuru Kariya</name>
        <email>kariya_mitsuru@hotmail.com</email>
      </author>
    </entry>
  
    <entry>
      <title>cmath -- cmath: ceil を追加</title>
      <link href="http://cpprefjp.github.io/reference/cmath.html"/>
      <id>94de5ae8a0f140b35e0aa7e027ab4962850112b3:reference/cmath.md</id>
      <updated>2015-01-23 12:17:46 +0900</updated>
      
        <content type="html">&lt;h1&gt;cmath&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;cmath&amp;gt;&lt;/code&gt;ヘッダでは、一般的な数学関数および各種マクロを提供する。標準Cライブラリの &lt;code&gt;&amp;lt;math.h&amp;gt;&lt;/code&gt; からはいくつかの変更点がある。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;double&lt;/code&gt; を引数にとる関数に、&lt;code&gt;float&lt;/code&gt;, &lt;code&gt;long double&lt;/code&gt;, および任意の整数型をとるオーバーロードが追加されている。&lt;/li&gt;
&lt;li&gt;2 以上の引数をとる関数に、任意の異なる算術型をとるオーバーロードが追加されている。返値型は以下のように決定される。&lt;ol&gt;
&lt;li&gt;引数のいずれかあるいは全てが &lt;code&gt;long double&lt;/code&gt; である場合 → &lt;code&gt;long double&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;引数のいずれかあるいは全てが &lt;code&gt;double&lt;/code&gt; または整数型である場合 → &lt;code&gt;double&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;それ以外（引数の全てが &lt;code&gt;float&lt;/code&gt; である場合） → &lt;code&gt;float&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ここでは、上記のオーバーロード関数をコードで示す際には、引数や返値の型を斜体で示す。&lt;/p&gt;
&lt;p&gt;&lt;div class=&#34;codehilite&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;  &lt;i&gt;Integral&lt;/i&gt;      &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;// 任意の整数型&lt;/span&gt;
  &lt;i&gt;Arithmetic&lt;/i&gt;    &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;// 任意の算術型&lt;/span&gt;
  &lt;i&gt;Promoted&lt;/i&gt;      &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;// 決定された返値型&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;
&lt;p&gt;複数の引数がある場合には、数字のサフィックスで区別する。
例を以下に示す。&lt;/p&gt;
&lt;p&gt;&lt;div class=&#34;codehilite&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;  &lt;span style=&#34;color: #B00040&#34;&gt;double&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;atan&lt;/span&gt;(&lt;i&gt;Integral&lt;/i&gt; x);

  &lt;i&gt;Promoted&lt;/i&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;atan2&lt;/span&gt;(&lt;i&gt;Arithmetic1&lt;/i&gt; y, &lt;i&gt;Arithmetic2&lt;/i&gt; x);
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;
&lt;h2&gt;三角関数&lt;/h2&gt;
&lt;table border=&#34;1&#34; bordercolor=&#34;#888&#34; style=&#34;border-collapse:collapse&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;名前&lt;/th&gt;
&lt;th&gt;説明&lt;/th&gt;
&lt;th&gt;対応バージョン&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/sin.html&#34;&gt;&lt;code&gt;sin&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;正弦関数（サイン）&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/cos.html&#34;&gt;&lt;code&gt;cos&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;余弦関数（コサイン）&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/tan.html&#34;&gt;&lt;code&gt;tan&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;正接関数（タンジェント）&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/asin.html&#34;&gt;&lt;code&gt;asin&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;逆正弦関数（アークサイン）&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/acos.html&#34;&gt;&lt;code&gt;acos&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;逆余弦関数（アークコサイン）&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/atan.html&#34;&gt;&lt;code&gt;atan&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;逆正接関数（アークタンジェント）&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/atan2.html&#34;&gt;&lt;code&gt;atan2&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;対辺と隣辺からの逆正接関数（アークタンジェント）&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;双曲線関数&lt;/h2&gt;
&lt;table border=&#34;1&#34; bordercolor=&#34;#888&#34; style=&#34;border-collapse:collapse&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;名前&lt;/th&gt;
&lt;th&gt;説明&lt;/th&gt;
&lt;th&gt;対応バージョン&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/sinh.html&#34;&gt;&lt;code&gt;sinh&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;双曲線正弦関数（ハイパボリックサイン）&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/cosh.html&#34;&gt;&lt;code&gt;cosh&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;双曲線余弦関数（ハイパボリックコサイン）&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/tanh.html&#34;&gt;&lt;code&gt;tanh&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;双曲線正接関数（ハイパボリックタンジェント）&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/asinh.html&#34;&gt;&lt;code&gt;asinh&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;逆双曲線正弦関数（アークハイパボリックサイン）&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/acosh.html&#34;&gt;&lt;code&gt;acosh&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;逆双曲線余弦関数（アークハイパボリックコサイン）&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/atanh.html&#34;&gt;&lt;code&gt;atanh&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;逆双曲線正接関数（アークハイパボリックタンジェント）&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;指数関数と対数関数&lt;/h2&gt;
&lt;table border=&#34;1&#34; bordercolor=&#34;#888&#34; style=&#34;border-collapse:collapse&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;名前&lt;/th&gt;
&lt;th&gt;説明&lt;/th&gt;
&lt;th&gt;対応バージョン&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/exp.html&#34;&gt;&lt;code&gt;exp&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;e (ネイピア数) を底とする指数関数&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/exp2.html&#34;&gt;&lt;code&gt;exp2&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;2 を底とする指数関数&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/expm1.html&#34;&gt;&lt;code&gt;expm1&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;e (ネイピア数) を底とする指数関数から 1 を引いた値&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/log.html&#34;&gt;&lt;code&gt;log&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;e (ネイピア数) を底とする自然対数&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/log10.html&#34;&gt;&lt;code&gt;log10&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;10 を底とする常用対数&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/log1p.html&#34;&gt;&lt;code&gt;log1p&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;引数に 1 を足した値の、e (ネイピア数) を底とする自然対数&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/log2.html&#34;&gt;&lt;code&gt;log2&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;2 を底とする二進対数&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;仮数と指数&lt;/h2&gt;
&lt;table border=&#34;1&#34; bordercolor=&#34;#888&#34; style=&#34;border-collapse:collapse&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;名前&lt;/th&gt;
&lt;th&gt;説明&lt;/th&gt;
&lt;th&gt;対応バージョン&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;ldexp&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;2 の累乗との乗算&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;frexp&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;仮数部と 2 の累乗への分解&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;ilogb&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;指数部を符号付き整数値として抽出&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;logb&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;指数部を浮動小数点数値として抽出&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;modf&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;整数部と小数部への分解&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;scalbn&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;内部表現の基数 (&lt;code&gt;FLT_RADIX&lt;/code&gt;) の累乗との乗算&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;scalbln&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;内部表現の基数 (&lt;code&gt;FLT_RADIX&lt;/code&gt;) の累乗との乗算&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;累乗・冪根と絶対値&lt;/h2&gt;
&lt;table border=&#34;1&#34; bordercolor=&#34;#888&#34; style=&#34;border-collapse:collapse&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;名前&lt;/th&gt;
&lt;th&gt;説明&lt;/th&gt;
&lt;th&gt;対応バージョン&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/pow.html&#34;&gt;&lt;code&gt;pow&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;累乗&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/sqrt.html&#34;&gt;&lt;code&gt;sqrt&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;平方根&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/cbrt.html&#34;&gt;&lt;code&gt;cbrt&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;立方根&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/hypot.html&#34;&gt;&lt;code&gt;hypot&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;平方和の平方根&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/abs.html&#34;&gt;&lt;code&gt;abs&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;絶対値&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/fabs.html&#34;&gt;&lt;code&gt;fabs&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;絶対値&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;誤差関数とガンマ関数&lt;/h2&gt;
&lt;table border=&#34;1&#34; bordercolor=&#34;#888&#34; style=&#34;border-collapse:collapse&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;名前&lt;/th&gt;
&lt;th&gt;説明&lt;/th&gt;
&lt;th&gt;対応バージョン&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;erf&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;誤差関数&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;erfc&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;相補誤差関数&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;tgamma&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;ガンマ関数&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;lgamma&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;ガンマ関数の自然対数&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;最近傍整数&lt;/h2&gt;
&lt;table border=&#34;1&#34; bordercolor=&#34;#888&#34; style=&#34;border-collapse:collapse&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;名前&lt;/th&gt;
&lt;th&gt;説明&lt;/th&gt;
&lt;th&gt;対応バージョン&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/ceil.html&#34;&gt;&lt;code&gt;ceil&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;天井関数（引数より小さくない最近傍の整数）&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;floor&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;床関数（引数より大きくない最近傍の整数）&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;trunc&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;ゼロ方向への丸め&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;round&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;四捨五入による丸め&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/nearbyint.html&#34;&gt;&lt;code&gt;nearbyint&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;現在の丸めモードによる丸め&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/rint.html&#34;&gt;&lt;code&gt;rint&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;現在の丸めモードによる丸め&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;lrint&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;long&lt;/code&gt; 型への現在の丸めモードによる丸め&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;llrint&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;long long&lt;/code&gt; 型への現在の丸めモードによる丸め&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;剰余&lt;/h2&gt;
&lt;table border=&#34;1&#34; bordercolor=&#34;#888&#34; style=&#34;border-collapse:collapse&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;名前&lt;/th&gt;
&lt;th&gt;説明&lt;/th&gt;
&lt;th&gt;対応バージョン&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;fmod&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;浮動小数点剰余&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;remainder&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;符号付きの浮動小数点剰余&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;remquo&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;商と浮動小数点剰余&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;浮動小数点操作&lt;/h2&gt;
&lt;table border=&#34;1&#34; bordercolor=&#34;#888&#34; style=&#34;border-collapse:collapse&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;名前&lt;/th&gt;
&lt;th&gt;説明&lt;/th&gt;
&lt;th&gt;対応バージョン&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;copysign&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;符号のコピー&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;nan&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;文字列から quiet NaN への変換&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;nextafter&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;指定方向への次の表現可能な値&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;nexttoward&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;指定方向への次の表現可能な値&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;最大値・最小値と正の差&lt;/h2&gt;
&lt;table border=&#34;1&#34; bordercolor=&#34;#888&#34; style=&#34;border-collapse:collapse&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;名前&lt;/th&gt;
&lt;th&gt;説明&lt;/th&gt;
&lt;th&gt;対応バージョン&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;fmax&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;最大値&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;fmin&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;最小値&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;fdim&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;正の差&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;乗算-加算&lt;/h2&gt;
&lt;table border=&#34;1&#34; bordercolor=&#34;#888&#34; style=&#34;border-collapse:collapse&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;名前&lt;/th&gt;
&lt;th&gt;説明&lt;/th&gt;
&lt;th&gt;対応バージョン&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/fma.html&#34;&gt;&lt;code&gt;fma&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;乗算と加算の合成&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;数値分類&lt;/h2&gt;
&lt;table border=&#34;1&#34; bordercolor=&#34;#888&#34; style=&#34;border-collapse:collapse&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;名前&lt;/th&gt;
&lt;th&gt;説明&lt;/th&gt;
&lt;th&gt;対応バージョン&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;fpclassify&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;数値を NaN、無限大、正規化数、非正規化数、0 または他の実装定義のカテゴリに分類&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;isfinite&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;数値が有限であるか判定&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;isinf&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;数値が無限大であるか判定&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;isnan&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;数値が NaN であるか判定&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;isnormal&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;数値が正規化数であるか判定&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;signbit&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;数値の符号が負であるか判定&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;型&lt;/h2&gt;
&lt;table border=&#34;1&#34; bordercolor=&#34;#888&#34; style=&#34;border-collapse:collapse&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;名前&lt;/th&gt;
&lt;th&gt;説明&lt;/th&gt;
&lt;th&gt;対応バージョン&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/float_t.html&#34;&gt;&lt;code&gt;float_t&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;float&lt;/code&gt; 以上の浮動小数点数型&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/double_t.html&#34;&gt;&lt;code&gt;double_t&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;double&lt;/code&gt; 以上の浮動小数点数型&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;数値のマクロ&lt;/h2&gt;
&lt;table border=&#34;1&#34; bordercolor=&#34;#888&#34; style=&#34;border-collapse:collapse&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;名前&lt;/th&gt;
&lt;th&gt;説明&lt;/th&gt;
&lt;th&gt;対応バージョン&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/huge_val.html&#34;&gt;&lt;code&gt;HUGE_VAL&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;double&lt;/code&gt; 型の正の巨大値&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/huge_valf.html&#34;&gt;&lt;code&gt;HUGE_VALF&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;float&lt;/code&gt; 型の正の巨大値&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/huge_vall.html&#34;&gt;&lt;code&gt;HUGE_VALL&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;long double&lt;/code&gt; 型の正の巨大値&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/infinity.html&#34;&gt;&lt;code&gt;INFINITY&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;float&lt;/code&gt; 型の正の無限大&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/nan.html&#34;&gt;&lt;code&gt;NAN&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;float&lt;/code&gt; 型の &lt;code&gt;quiet NaN&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;数値分類のマクロ&lt;/h2&gt;
&lt;table border=&#34;1&#34; bordercolor=&#34;#888&#34; style=&#34;border-collapse:collapse&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;名前&lt;/th&gt;
&lt;th&gt;説明&lt;/th&gt;
&lt;th&gt;対応バージョン&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/fp_infinite.html&#34;&gt;&lt;code&gt;FP_INFINITE&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;数値分類で無限大を表す整数定数式&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/fp_nan.html&#34;&gt;&lt;code&gt;FP_NAN&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;数値分類で &lt;code&gt;NaN&lt;/code&gt; を表す整数定数式&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/fp_normal.html&#34;&gt;&lt;code&gt;FP_NORMAL&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;数値分類で正規化数を表す整数定数式&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/fp_subnormal.html&#34;&gt;&lt;code&gt;FP_SUBNORMAL&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;数値分類で非正規化数を表す整数定数式&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/fp_zero.html&#34;&gt;&lt;code&gt;FP_ZERO&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;数値分類で浮動小数点数の 0 を表す整数定数式&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;その他のマクロ&lt;/h2&gt;
&lt;table border=&#34;1&#34; bordercolor=&#34;#888&#34; style=&#34;border-collapse:collapse&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;名前&lt;/th&gt;
&lt;th&gt;説明&lt;/th&gt;
&lt;th&gt;対応バージョン&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/fp_fast_fma.html&#34;&gt;&lt;code&gt;FP_FAST_FMA&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;double&lt;/code&gt; 型の &lt;code&gt;fma&lt;/code&gt; 関数がより高速な実装であるか&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/fp_fast_fmaf.html&#34;&gt;&lt;code&gt;FP_FAST_FMAF&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;float&lt;/code&gt; 型の &lt;code&gt;fma&lt;/code&gt; 関数がより高速な実装であるか&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/fp_fast_fmal.html&#34;&gt;&lt;code&gt;FP_FAST_FMAL&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;long double&lt;/code&gt; 型の &lt;code&gt;fma&lt;/code&gt; 関数がより高速な実装であるか&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/fp_ilogb0.html&#34;&gt;&lt;code&gt;FP_ILOGB0&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;ilogb(0)&lt;/code&gt; の返値を表す整数定数式&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/fp_ilogbnan.html&#34;&gt;&lt;code&gt;FP_ILOGBNAN&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;ilogb(NaN)&lt;/code&gt; の返値を表す整数定数式&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;MATH_ERRNO&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;整数定数 1&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;MATH_ERREXCEPT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;整数定数 2&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;math_errhandling&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;MATH_ERRNO&lt;/code&gt;、&lt;code&gt;MATH_ERREXCEPT&lt;/code&gt;、または両方のビットORに展開される &lt;code&gt;int&lt;/code&gt; 型の式&lt;/td&gt;
&lt;td&gt;C++11&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;</content>
      
      <author>
        <name>Mitsuru Kariya</name>
        <email>kariya_mitsuru@hotmail.com</email>
      </author>
    </entry>
  
    <entry>
      <title>ceil -- cmath: ceil を追加</title>
      <link href="http://cpprefjp.github.io/reference/cmath/ceil.html"/>
      <id>94de5ae8a0f140b35e0aa7e027ab4962850112b3:reference/cmath/ceil.md</id>
      <updated>2015-01-23 12:17:46 +0900</updated>
      
        <content type="html">&lt;h1&gt;ceil&lt;/h1&gt;
&lt;p&gt;&lt;div class=&#34;codehilite&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;namespace&lt;/span&gt; std {
  &lt;span style=&#34;color: #B00040&#34;&gt;float&lt;/span&gt; ceil(&lt;span style=&#34;color: #B00040&#34;&gt;float&lt;/span&gt; x);

  &lt;span style=&#34;color: #B00040&#34;&gt;double&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;ceil&lt;/span&gt;(&lt;span style=&#34;color: #B00040&#34;&gt;double&lt;/span&gt; x);

  &lt;span style=&#34;color: #B00040&#34;&gt;long&lt;/span&gt; &lt;span style=&#34;color: #B00040&#34;&gt;double&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;ceil&lt;/span&gt;(&lt;span style=&#34;color: #B00040&#34;&gt;long&lt;/span&gt; &lt;span style=&#34;color: #B00040&#34;&gt;double&lt;/span&gt; x);

  &lt;span style=&#34;color: #B00040&#34;&gt;double&lt;/span&gt; ceil(&lt;i&gt;Integral&lt;/i&gt; x)           &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;// C++11 から&lt;/span&gt;
}
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;
&lt;h2&gt;概要&lt;/h2&gt;
&lt;p&gt;引数 &lt;code&gt;x&lt;/code&gt; 以上で最小の整数値を得る。&lt;/p&gt;
&lt;h2&gt;戻り値&lt;/h2&gt;
&lt;p&gt;引数 &lt;code&gt;x&lt;/code&gt; 以上で最小の整数値&lt;/p&gt;
&lt;h2&gt;備考&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;本関数は、C99 の規格にある &lt;code&gt;ceil&lt;/code&gt;（より正確には &lt;code&gt;math.h&lt;/code&gt; ヘッダの &lt;code&gt;ceil&lt;/code&gt;、&lt;code&gt;ceilf&lt;/code&gt;、&lt;code&gt;ceill&lt;/code&gt; の 3 つ。それぞれ C++ の &lt;code&gt;double&lt;/code&gt;、&lt;code&gt;float&lt;/code&gt;、&lt;code&gt;long double&lt;/code&gt; バージョンに相当）と同等である。&lt;br /&gt;
    C99 では、処理系が ISO IEC 60559（IEEE 754 と同一)に準拠している場合、以下のように規定されている。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;x = ±0&lt;/code&gt; の場合、&lt;code&gt;±0&lt;/code&gt; を返す。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;x = ±∞&lt;/code&gt; の場合、&lt;code&gt;±∞&lt;/code&gt; を返す。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;また、本関数は、丸めモードが &lt;code&gt;FE_UPWARD&lt;/code&gt; に設定されている時の &lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/rint.html&#34;&gt;&lt;code&gt;rint&lt;/code&gt;&lt;/a&gt;、あるいは &lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/nearbyint.html&#34;&gt;&lt;code&gt;nearbyint&lt;/code&gt;&lt;/a&gt; のいずれかと同等である旨の記載がある。
したがって、本関数において戻り値が引数 &lt;code&gt;x&lt;/code&gt; と異なる場合に例外 &lt;code&gt;FE_INEXACT&lt;/code&gt; が発生するか否かは実装依存であるものと思われる。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;処理系が ISO IEC 60599 に準拠しているかどうかは、C99 の場合はマクロ &lt;code&gt;__STDC_IEC_599__&lt;/code&gt; が &lt;code&gt;1&lt;/code&gt; に定義されている事で判別可能であるが、C++ 規格書には該当する記載を見つけることができなかった。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;例&lt;/h2&gt;
&lt;p&gt;&lt;div class=&#34;codehilite&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cfenv.md.nolink&#34;&gt;cfenv&lt;/a&gt;&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath.html&#34;&gt;cmath&lt;/a&gt;&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;&lt;a href=&#34;http://cpprefjp.github.io/reference/iostream.html&#34;&gt;iostream&lt;/a&gt;&amp;gt;&lt;/span&gt;

&lt;span style=&#34;color: #B00040&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;test&lt;/span&gt;(&lt;span style=&#34;color: #B00040&#34;&gt;double&lt;/span&gt; x)
{
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cfenv/feclearexcept.md.nolink&#34;&gt;feclearexcept&lt;/a&gt;(&lt;a href=&#34;http://cpprefjp.github.io/reference/cfenv/FE_ALL_EXCEPT.md.nolink&#34;&gt;FE_ALL_EXCEPT&lt;/a&gt;);
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/iostream/cout.html&#34;&gt;cout&lt;/a&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;&lt;span style=&#34;color:#ff0000&#34;&gt;ceil&lt;/span&gt;(&#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; x &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;) = &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#ff0000&#34;&gt;ceil&lt;/span&gt;(x) &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/ostream/endl.html&#34;&gt;endl&lt;/a&gt;;
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/iostream/cout.html&#34;&gt;cout&lt;/a&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;&lt;a href=&#34;http://cpprefjp.github.io/reference/cfenv/FE_INEXACT.md.nolink&#34;&gt;FE_INEXACT&lt;/a&gt; = &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/ios/boolalpha.html&#34;&gt;boolalpha&lt;/a&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; (std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cfenv/fetestexcept.md.nolink&#34;&gt;fetestexcept&lt;/a&gt;(&lt;a href=&#34;http://cpprefjp.github.io/reference/cfenv/FE_INEXACT.md.nolink&#34;&gt;FE_INEXACT&lt;/a&gt;) &lt;span style=&#34;color: #666666&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;0&lt;/span&gt;) &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/ostream/endl.html&#34;&gt;endl&lt;/a&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/ostream/endl.html&#34;&gt;endl&lt;/a&gt;;
}

&lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;main&lt;/span&gt;()
{
  test(&lt;span style=&#34;color: #666666&#34;&gt;2.0&lt;/span&gt;);
  test(&lt;span style=&#34;color: #666666&#34;&gt;2.1&lt;/span&gt;);
  test(&lt;span style=&#34;color: #666666&#34;&gt;2.5&lt;/span&gt;);
  test(&lt;span style=&#34;color: #666666&#34;&gt;2.9&lt;/span&gt;);
  test(&lt;span style=&#34;color: #666666&#34;&gt;-2.0&lt;/span&gt;);
  test(&lt;span style=&#34;color: #666666&#34;&gt;-2.1&lt;/span&gt;);
  test(&lt;span style=&#34;color: #666666&#34;&gt;-2.5&lt;/span&gt;);
  test(&lt;span style=&#34;color: #666666&#34;&gt;-2.9&lt;/span&gt;);
}
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;
&lt;h3&gt;出力例&lt;/h3&gt;
&lt;p&gt;&lt;pre&gt;&lt;code&gt;ceil(2) = 2
FE_INEXACT = false

ceil(2.1) = 3
FE_INEXACT = true

ceil(2.5) = 3
FE_INEXACT = true

ceil(2.9) = 3
FE_INEXACT = true

ceil(-2) = -2
FE_INEXACT = false

ceil(-2.1) = -2
FE_INEXACT = true

ceil(-2.5) = -2
FE_INEXACT = true

ceil(-2.9) = -2
FE_INEXACT = true
&lt;/code&gt;&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;引数と結果が異なる場合に例外 &lt;code&gt;FE_INEXACT&lt;/code&gt; が発生するか否かは実装によって異なる可能性がある。&lt;/p&gt;</content>
      
      <author>
        <name>Mitsuru Kariya</name>
        <email>kariya_mitsuru@hotmail.com</email>
      </author>
    </entry>
  
    <entry>
      <title>reserve (C++11) -- cmath: ceil を追加</title>
      <link href="http://cpprefjp.github.io/reference/unordered_map/unordered_map/reserve.html"/>
      <id>94de5ae8a0f140b35e0aa7e027ab4962850112b3:reference/unordered_map/unordered_map/reserve.md</id>
      <updated>2015-01-23 12:17:46 +0900</updated>
      
        <content type="html">&lt;h1&gt;reserve (C++11)&lt;/h1&gt;
&lt;p&gt;&lt;div class=&#34;codehilite&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span style=&#34;color: #B00040&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;reserve&lt;/span&gt;(size_type n);
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;
&lt;h2&gt;概要&lt;/h2&gt;
&lt;p&gt;コンテナが、リハッシュされずに少なくとも引数 &lt;code&gt;n&lt;/code&gt; で指定された要素数格納できるようにバケット数を調整（リハッシュ）する。&lt;br /&gt;
実際には 引数を &lt;code&gt;n&lt;/code&gt; / &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/max_load_factor.html&#34;&gt;&lt;code&gt;max_load_factor&lt;/code&gt;&lt;/a&gt; にし &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/rehash.html&#34;&gt;&lt;code&gt;rehash&lt;/code&gt;&lt;/a&gt; を呼ぶ。&lt;br /&gt;
( VC11の実装では &lt;code&gt;n&lt;/code&gt; / &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/max_load_factor.html&#34;&gt;&lt;code&gt;max_load_factor&lt;/code&gt;&lt;/a&gt; + 0.5f   で呼んでいる)&lt;/p&gt;
&lt;h2&gt;戻り値&lt;/h2&gt;
&lt;p&gt;なし&lt;/p&gt;
&lt;h2&gt;例外&lt;/h2&gt;
&lt;p&gt;ハッシュ関数、および、キー比較用関数以外から例外が投げられた場合、コンテナは変更されない。&lt;/p&gt;
&lt;h2&gt;計算量&lt;/h2&gt;
&lt;p&gt;平均的なケースでは &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/size.html&#34;&gt;&lt;code&gt;size&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt; に比例するが、最悪のケースでは &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/size.html&#34;&gt;&lt;code&gt;size&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt; の 2 乗に比例する。&lt;/p&gt;
&lt;h2&gt;備考&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;本関数は、概要の通り、リハッシュされずに引数 &lt;code&gt;n&lt;/code&gt; で指定された要素数格納できるように意図されているはずであるが、現在の条件では &lt;code&gt;n - 1&lt;/code&gt; しか格納することができない場合がある（少なくとも、事後条件を満たすだけでは確実に &lt;code&gt;n&lt;/code&gt; 要素を格納できる保証はない）。この件については、既に Issue が上がっている（&lt;a href=&#34;http://www.open-std.org/jtc1/sc22/wg21/docs/lwg-active.html#2156&#34; target=&#34;_blank&#34;&gt;2156. Unordered containers&#39; reserve(n) reserves for n-1 elements&lt;/a&gt;）。リハッシュされる条件については、&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/insert.html&#34;&gt;&lt;code&gt;insert&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt;、&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/emplace.html&#34;&gt;&lt;code&gt;emplace&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt;、&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/emplace_hint.html&#34;&gt;&lt;code&gt;emplace_hint&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt; も参照。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;リハッシュが行われた場合、
- 全てのイテレータが無効になる。
- 要素間の順番が変わる。
- 要素の格納されているバケットが変更になる。
- 要素へのポインタや参照は無効に&lt;strong&gt;ならない&lt;/strong&gt;。
- 現在のバケット数が既に &lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/ceil.html&#34;&gt;&lt;code&gt;ceil&lt;/code&gt;&lt;/a&gt;&lt;code&gt;(n /&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/max_load_factor.html&#34;&gt;&lt;code&gt;max_load_factor&lt;/code&gt;&lt;/a&gt;&lt;code&gt;())&lt;/code&gt; 以上の場合の動作は、標準では特に規定されていない。
- 標準では、事後条件が &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/bucket_count.html&#34;&gt;&lt;code&gt;bucket_count&lt;/code&gt;&lt;/a&gt;&lt;code&gt;() &amp;gt;&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/size.html&#34;&gt;&lt;code&gt;size&lt;/code&gt;&lt;/a&gt;&lt;code&gt;() /&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/max_load_factor.html&#34;&gt;&lt;code&gt;max_load_factor&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt; となっている（等号がない）が、&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/load_factor.html&#34;&gt;&lt;code&gt;load_factor&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt;（&lt;code&gt;=&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/size.html&#34;&gt;&lt;code&gt;size&lt;/code&gt;&lt;/a&gt;&lt;code&gt;() /&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/bucket_count.html&#34;&gt;&lt;code&gt;bucket_count&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt;）の条件は &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/max_load_factor.html&#34;&gt;&lt;code&gt;max_load_factor&lt;/code&gt;&lt;/a&gt;&lt;code&gt;() &amp;gt;=&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/load_factor.html&#34;&gt;&lt;code&gt;load_factor&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt; である（等号がある）ため、&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/bucket_count.html&#34;&gt;&lt;code&gt;bucket_count&lt;/code&gt;&lt;/a&gt;&lt;code&gt;() &amp;gt;=&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/size.html&#34;&gt;&lt;code&gt;size&lt;/code&gt;&lt;/a&gt;&lt;code&gt;() /&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/max_load_factor.html&#34;&gt;&lt;code&gt;max_load_factor&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt; の（等号がある）方が適切であると思われる。&lt;/p&gt;
&lt;h2&gt;例&lt;/h2&gt;
&lt;p&gt;&lt;div class=&#34;codehilite&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;iostream&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;unordered_map&amp;gt;&lt;/span&gt;

&lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;main&lt;/span&gt;()
{
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;unordered_map&lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt;,&lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;&amp;gt;&lt;/span&gt; m;

  m.emplace( &lt;span style=&#34;color: #666666&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color: #666666&#34;&gt;0&lt;/span&gt; );
  m.emplace( &lt;span style=&#34;color: #666666&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color: #666666&#34;&gt;1&lt;/span&gt; );
  m.emplace( &lt;span style=&#34;color: #666666&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color: #666666&#34;&gt;2&lt;/span&gt; );
  m.emplace( &lt;span style=&#34;color: #666666&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color: #666666&#34;&gt;3&lt;/span&gt; );

  m.&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/max_load_factor.html&#34;&gt;max_load_factor&lt;/a&gt;( &lt;span style=&#34;color: #666666&#34;&gt;2.0f&lt;/span&gt; );

  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;current &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/max_load_factor.html&#34;&gt;max_load_factor&lt;/a&gt;: &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; m.&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/max_load_factor.html&#34;&gt;max_load_factor&lt;/a&gt;() &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;endl;
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;current &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/size.html&#34;&gt;size&lt;/a&gt;: &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; m.&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/size.html&#34;&gt;size&lt;/a&gt;() &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;endl;
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;current &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/bucket_count.html&#34;&gt;bucket_count&lt;/a&gt;: &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; m.&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/bucket_count.html&#34;&gt;bucket_count&lt;/a&gt;() &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;endl;
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;current load_factor: &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; m.load_factor() &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;endl;
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;endl;

  m.reserve(&lt;span style=&#34;color: #666666&#34;&gt;20&lt;/span&gt;);
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;m.reserve(20)&#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;endl;
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;endl;

  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;new &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/max_load_factor.html&#34;&gt;max_load_factor&lt;/a&gt;: &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; m.&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/max_load_factor.html&#34;&gt;max_load_factor&lt;/a&gt;() &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;endl;
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;new &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/size.html&#34;&gt;size&lt;/a&gt;: &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; m.&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/size.html&#34;&gt;size&lt;/a&gt;() &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;endl;
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;new &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/bucket_count.html&#34;&gt;bucket_count&lt;/a&gt;: &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; m.&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/bucket_count.html&#34;&gt;bucket_count&lt;/a&gt;() &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;endl;
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;new load_factor: &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; m.load_factor() &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;endl;

  &lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;0&lt;/span&gt;;
}
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;
&lt;h3&gt;出力&lt;/h3&gt;
&lt;p&gt;&lt;pre&gt;&lt;code&gt;current max_load_factor: 2
current size: 4
current bucket_count: 8
current load_factor: 0.5

m.reserve(20)

new max_load_factor: 2
new size: 4
new bucket_count: 16
new load_factor: 0.25
&lt;/code&gt;&lt;/pre&gt;&lt;/p&gt;
&lt;h2&gt;考察&lt;/h2&gt;
&lt;p&gt;reserve(20) により&lt;br /&gt;
&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/bucket_count.html&#34;&gt;&lt;code&gt;bucket_count&lt;/code&gt;&lt;/a&gt; &amp;gt; &lt;code&gt;n&lt;/code&gt; / &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/max_load_factor.html&#34;&gt;&lt;code&gt;max_load_factor&lt;/code&gt;&lt;/a&gt; を満たしている&lt;/p&gt;
&lt;h2&gt;バージョン&lt;/h2&gt;
&lt;h3&gt;言語&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;C++11&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;処理系&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#clang&#34;&gt;Clang&lt;/a&gt;: -&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#clang&#34;&gt;Clang, C++0x mode&lt;/a&gt;: ??&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#gcc&#34;&gt;GCC&lt;/a&gt;: -&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#gcc&#34;&gt;GCC, C++0x mode&lt;/a&gt;: ??&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#icc&#34;&gt;ICC&lt;/a&gt;: ?&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#visual_cpp&#34;&gt;Visual C++&lt;/a&gt;: 11.0&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;参照&lt;/h2&gt;
&lt;table border=&#34;1&#34; bordercolor=&#34;#888&#34; style=&#34;border-collapse:collapse&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/size.html&#34;&gt;&lt;code&gt;size&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;要素数の取得&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/bucket_count.html&#34;&gt;&lt;code&gt;bucket_count&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;バケット数の取得&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/load_factor.html&#34;&gt;&lt;code&gt;load_factor&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;現在の負荷率（バケットあたりの要素数の平均）を取得&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/max_load_factor.html&#34;&gt;&lt;code&gt;max_load_factor&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;負荷率の最大値を取得、設定&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/reserve.html&#34;&gt;&lt;code&gt;rehash&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;最小バケット数指定によるバケット数の調整&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/insert.html&#34;&gt;&lt;code&gt;insert&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;要素の追加&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/emplace.html&#34;&gt;&lt;code&gt;emplace&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;コンテナ内への要素の直接構築&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_map/emplace_hint.html&#34;&gt;&lt;code&gt;emplace_hint&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;挿入位置のヒントを使用したコンテナ内への要素の直接構築&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;</content>
      
      <author>
        <name>Mitsuru Kariya</name>
        <email>kariya_mitsuru@hotmail.com</email>
      </author>
    </entry>
  
    <entry>
      <title>reserve (C++11) -- cmath: ceil を追加</title>
      <link href="http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/reserve.html"/>
      <id>94de5ae8a0f140b35e0aa7e027ab4962850112b3:reference/unordered_map/unordered_multimap/reserve.md</id>
      <updated>2015-01-23 12:17:46 +0900</updated>
      
        <content type="html">&lt;h1&gt;reserve (C++11)&lt;/h1&gt;
&lt;p&gt;&lt;div class=&#34;codehilite&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span style=&#34;color: #B00040&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;reserve&lt;/span&gt;(size_type n);
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;
&lt;h2&gt;概要&lt;/h2&gt;
&lt;p&gt;コンテナが、リハッシュされずに少なくとも引数 &lt;code&gt;n&lt;/code&gt; で指定された要素数格納できるようにバケット数を調整（リハッシュ）する。&lt;br /&gt;
実際には 引数を &lt;code&gt;n&lt;/code&gt; / &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/max_load_factor.html&#34;&gt;&lt;code&gt;max_load_factor&lt;/code&gt;&lt;/a&gt; にし &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/rehash.html&#34;&gt;&lt;code&gt;rehash&lt;/code&gt;&lt;/a&gt; を呼ぶ。&lt;br /&gt;
( VC11の実装では &lt;code&gt;n&lt;/code&gt; / &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/max_load_factor.html&#34;&gt;&lt;code&gt;max_load_factor&lt;/code&gt;&lt;/a&gt; + 0.5f   で呼んでいる)&lt;/p&gt;
&lt;h2&gt;戻り値&lt;/h2&gt;
&lt;p&gt;なし&lt;/p&gt;
&lt;h2&gt;例外&lt;/h2&gt;
&lt;p&gt;ハッシュ関数、および、キー比較用関数以外から例外が投げられた場合、コンテナは変更されない。&lt;/p&gt;
&lt;h2&gt;計算量&lt;/h2&gt;
&lt;p&gt;平均的なケースでは &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/size.html&#34;&gt;&lt;code&gt;size&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt; に比例するが、最悪のケースでは &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/size.html&#34;&gt;&lt;code&gt;size&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt; の 2 乗に比例する。&lt;/p&gt;
&lt;h2&gt;備考&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;本関数は、概要の通り、リハッシュされずに引数 &lt;code&gt;n&lt;/code&gt; で指定された要素数格納できるように意図されているはずであるが、現在の条件では &lt;code&gt;n - 1&lt;/code&gt; しか格納することができない場合がある（少なくとも、事後条件を満たすだけでは確実に &lt;code&gt;n&lt;/code&gt; 要素を格納できる保証はない）。この件については、既に Issue が上がっている（&lt;a href=&#34;http://www.open-std.org/jtc1/sc22/wg21/docs/lwg-active.html#2156&#34; target=&#34;_blank&#34;&gt;2156. Unordered containers&#39; reserve(n) reserves for n-1 elements&lt;/a&gt;）。リハッシュされる条件については、&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/insert.html&#34;&gt;&lt;code&gt;insert&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt;、&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/emplace.html&#34;&gt;&lt;code&gt;emplace&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt;、&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/emplace_hint.html&#34;&gt;&lt;code&gt;emplace_hint&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt; も参照。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;リハッシュが行われた場合、
- 全てのイテレータが無効になる。
- 要素間の順番が変わる。
- 要素の格納されているバケットが変更になる。
- 要素へのポインタや参照は無効に&lt;strong&gt;ならない&lt;/strong&gt;。
- 現在のバケット数が既に &lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/ceil.html&#34;&gt;&lt;code&gt;ceil&lt;/code&gt;&lt;/a&gt;&lt;code&gt;(n /&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/max_load_factor.html&#34;&gt;&lt;code&gt;max_load_factor&lt;/code&gt;&lt;/a&gt;&lt;code&gt;())&lt;/code&gt; 以上の場合の動作は、標準では特に規定されていない。
- 標準では、事後条件が &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/bucket_count.html&#34;&gt;&lt;code&gt;bucket_count&lt;/code&gt;&lt;/a&gt;&lt;code&gt;() &amp;gt;&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/size.html&#34;&gt;&lt;code&gt;size&lt;/code&gt;&lt;/a&gt;&lt;code&gt;() /&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/max_load_factor.html&#34;&gt;&lt;code&gt;max_load_factor&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt; となっている（等号がない）が、&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/load_factor.html&#34;&gt;&lt;code&gt;load_factor&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt;（&lt;code&gt;=&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/size.html&#34;&gt;&lt;code&gt;size&lt;/code&gt;&lt;/a&gt;&lt;code&gt;() /&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/bucket_count.html&#34;&gt;&lt;code&gt;bucket_count&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt;）の条件は &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/max_load_factor.html&#34;&gt;&lt;code&gt;max_load_factor&lt;/code&gt;&lt;/a&gt;&lt;code&gt;() &amp;gt;=&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/load_factor.html&#34;&gt;&lt;code&gt;load_factor&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt; である（等号がある）ため、&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/bucket_count.html&#34;&gt;&lt;code&gt;bucket_count&lt;/code&gt;&lt;/a&gt;&lt;code&gt;() &amp;gt;=&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/size.html&#34;&gt;&lt;code&gt;size&lt;/code&gt;&lt;/a&gt;&lt;code&gt;() /&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/max_load_factor.html&#34;&gt;&lt;code&gt;max_load_factor&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt; の（等号がある）方が適切であると思われる。&lt;/p&gt;
&lt;h2&gt;例&lt;/h2&gt;
&lt;p&gt;&lt;div class=&#34;codehilite&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;iostream&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;unordered_map&amp;gt;&lt;/span&gt;

&lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;main&lt;/span&gt;()
{
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;unordered_multimap&lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt;,&lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;&amp;gt;&lt;/span&gt; m;

  m.emplace( &lt;span style=&#34;color: #666666&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color: #666666&#34;&gt;1&lt;/span&gt; );
  m.emplace( &lt;span style=&#34;color: #666666&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color: #666666&#34;&gt;1&lt;/span&gt; );
  m.emplace( &lt;span style=&#34;color: #666666&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color: #666666&#34;&gt;2&lt;/span&gt; );
  m.emplace( &lt;span style=&#34;color: #666666&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color: #666666&#34;&gt;3&lt;/span&gt; );

  m.&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/max_load_factor.html&#34;&gt;max_load_factor&lt;/a&gt;( &lt;span style=&#34;color: #666666&#34;&gt;2.0f&lt;/span&gt; );

  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;current &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/max_load_factor.html&#34;&gt;max_load_factor&lt;/a&gt;: &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; m.&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/max_load_factor.html&#34;&gt;max_load_factor&lt;/a&gt;() &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;endl;
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;current &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/size.html&#34;&gt;size&lt;/a&gt;: &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; m.&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/size.html&#34;&gt;size&lt;/a&gt;() &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;endl;
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;current &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/bucket_count.html&#34;&gt;bucket_count&lt;/a&gt;: &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; m.&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/bucket_count.html&#34;&gt;bucket_count&lt;/a&gt;() &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;endl;
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;current load_factor: &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; m.load_factor() &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;endl;
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;endl;

  m.reserve(&lt;span style=&#34;color: #666666&#34;&gt;20&lt;/span&gt;);
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;m.reserve(20)&#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;endl;
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;endl;

  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;new &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/max_load_factor.html&#34;&gt;max_load_factor&lt;/a&gt;: &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; m.&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/max_load_factor.html&#34;&gt;max_load_factor&lt;/a&gt;() &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;endl;
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;new &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/size.html&#34;&gt;size&lt;/a&gt;: &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; m.&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/size.html&#34;&gt;size&lt;/a&gt;() &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;endl;
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;new &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/bucket_count.html&#34;&gt;bucket_count&lt;/a&gt;: &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; m.&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/bucket_count.html&#34;&gt;bucket_count&lt;/a&gt;() &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;endl;
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;new load_factor: &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; m.load_factor() &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;endl;

  &lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;0&lt;/span&gt;;
}
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;
&lt;h3&gt;出力&lt;/h3&gt;
&lt;p&gt;&lt;pre&gt;&lt;code&gt;current max_load_factor: 2
current size: 4
current bucket_count: 8
current load_factor: 0.5

m.reserve(20)

new max_load_factor: 2
new size: 4
new bucket_count: 16
new load_factor: 0.25
&lt;/code&gt;&lt;/pre&gt;&lt;/p&gt;
&lt;h2&gt;考察&lt;/h2&gt;
&lt;p&gt;reserve(20) により&lt;br /&gt;
&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/bucket_count.html&#34;&gt;&lt;code&gt;bucket_count&lt;/code&gt;&lt;/a&gt; &amp;gt; &lt;code&gt;n&lt;/code&gt; / &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/max_load_factor.html&#34;&gt;&lt;code&gt;max_load_factor&lt;/code&gt;&lt;/a&gt; を満たしている&lt;/p&gt;
&lt;h2&gt;バージョン&lt;/h2&gt;
&lt;h3&gt;言語&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;C++11&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;処理系&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#clang&#34;&gt;Clang&lt;/a&gt;: -&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#clang&#34;&gt;Clang, C++0x mode&lt;/a&gt;: ??&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#gcc&#34;&gt;GCC&lt;/a&gt;: -&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#gcc&#34;&gt;GCC, C++0x mode&lt;/a&gt;: ??&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#icc&#34;&gt;ICC&lt;/a&gt;: ?&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#visual_cpp&#34;&gt;Visual C++&lt;/a&gt;: 11.0&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;参照&lt;/h2&gt;
&lt;table border=&#34;1&#34; bordercolor=&#34;#888&#34; style=&#34;border-collapse:collapse&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/size.html&#34;&gt;&lt;code&gt;size&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;要素数の取得&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/bucket_count.html&#34;&gt;&lt;code&gt;bucket_count&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;バケット数の取得&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/load_factor.html&#34;&gt;&lt;code&gt;load_factor&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;現在の負荷率（バケットあたりの要素数の平均）を取得&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/max_load_factor.html&#34;&gt;&lt;code&gt;max_load_factor&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;負荷率の最大値を取得、設定&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/reserve.html&#34;&gt;&lt;code&gt;rehash&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;最小バケット数指定によるバケット数の調整&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/insert.html&#34;&gt;&lt;code&gt;insert&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;要素の追加&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/emplace.html&#34;&gt;&lt;code&gt;emplace&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;コンテナ内への要素の直接構築&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_map/unordered_multimap/emplace_hint.html&#34;&gt;&lt;code&gt;emplace_hint&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;挿入位置のヒントを使用したコンテナ内への要素の直接構築&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;</content>
      
      <author>
        <name>Mitsuru Kariya</name>
        <email>kariya_mitsuru@hotmail.com</email>
      </author>
    </entry>
  
    <entry>
      <title>reserve (C++11) -- cmath: ceil を追加</title>
      <link href="http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/reserve.html"/>
      <id>94de5ae8a0f140b35e0aa7e027ab4962850112b3:reference/unordered_set/unordered_multiset/reserve.md</id>
      <updated>2015-01-23 12:17:46 +0900</updated>
      
        <content type="html">&lt;h1&gt;reserve (C++11)&lt;/h1&gt;
&lt;p&gt;&lt;div class=&#34;codehilite&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span style=&#34;color: #B00040&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;reserve&lt;/span&gt;(size_type n);
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;
&lt;h2&gt;概要&lt;/h2&gt;
&lt;p&gt;コンテナが、リハッシュされずに少なくとも引数 &lt;code&gt;n&lt;/code&gt; で指定された要素数格納できるようにバケット数を調整（リハッシュ）する。（ただし、備考を参照）&lt;/p&gt;
&lt;h2&gt;事後条件&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/bucket_count.html&#34;&gt;&lt;code&gt;bucket_count&lt;/code&gt;&lt;/a&gt;&lt;code&gt;() &amp;gt;&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/size.html&#34;&gt;&lt;code&gt;size&lt;/code&gt;&lt;/a&gt;&lt;code&gt;() /&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/max_load_factor.html&#34;&gt;&lt;code&gt;max_load_factor&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt; かつ、&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/bucket_count.html&#34;&gt;&lt;code&gt;bucket_count&lt;/code&gt;&lt;/a&gt;&lt;code&gt;() &amp;gt;=&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/ceil.html&#34;&gt;&lt;code&gt;ceil&lt;/code&gt;&lt;/a&gt;&lt;code&gt;(n /&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/max_load_factor.html&#34;&gt;&lt;code&gt;max_load_factor&lt;/code&gt;&lt;/a&gt;&lt;code&gt;())&lt;/code&gt;。&lt;/p&gt;
&lt;h2&gt;戻り値&lt;/h2&gt;
&lt;p&gt;なし&lt;/p&gt;
&lt;h2&gt;例外&lt;/h2&gt;
&lt;p&gt;ハッシュ関数、および、キー比較用関数以外から例外が投げられた場合、コンテナは変更されない。&lt;/p&gt;
&lt;h2&gt;計算量&lt;/h2&gt;
&lt;p&gt;平均的なケースでは &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/size.html&#34;&gt;&lt;code&gt;size&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt; に比例するが、最悪のケースでは &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/size.html&#34;&gt;&lt;code&gt;size&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt; の 2 乗に比例する。&lt;/p&gt;
&lt;h2&gt;備考&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;本関数は、概要の通り、リハッシュされずに引数 &lt;code&gt;n&lt;/code&gt; で指定された要素数格納できるように意図されているはずであるが、現在の条件では &lt;code&gt;n - 1&lt;/code&gt; しか格納することができない場合がある（少なくとも、事後条件を満たすだけでは確実に &lt;code&gt;n&lt;/code&gt; 要素を格納できる保証はない）。この件については、既に Issue が上がっている（&lt;a href=&#34;http://www.open-std.org/jtc1/sc22/wg21/docs/lwg-active.html#2156&#34; target=&#34;_blank&#34;&gt;2156. Unordered containers&#39; reserve(n) reserves for n-1 elements&lt;/a&gt;）。リハッシュされる条件については、&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/insert.html&#34;&gt;&lt;code&gt;insert&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt;、&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/emplace.html&#34;&gt;&lt;code&gt;emplace&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt;、&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/emplace_hint.html&#34;&gt;&lt;code&gt;emplace_hint&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt; も参照。&lt;/li&gt;
&lt;li&gt;リハッシュが行われた場合、&lt;/li&gt;
&lt;li&gt;全てのイテレータが無効になる。&lt;/li&gt;
&lt;li&gt;要素間の順番が変わる。&lt;/li&gt;
&lt;li&gt;要素の格納されているバケットが変更になる。&lt;/li&gt;
&lt;li&gt;要素へのポインタや参照は無効に &lt;strong&gt;ならない&lt;/strong&gt;。&lt;/li&gt;
&lt;li&gt;現在のバケット数が既に &lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/ceil.html&#34;&gt;&lt;code&gt;ceil&lt;/code&gt;&lt;/a&gt;&lt;code&gt;(n /&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/max_load_factor.html&#34;&gt;&lt;code&gt;max_load_factor&lt;/code&gt;&lt;/a&gt;&lt;code&gt;())&lt;/code&gt; 以上の場合の動作は、標準では特に規定されていない。&lt;/li&gt;
&lt;li&gt;標準では、事後条件が &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/bucket_count.html&#34;&gt;&lt;code&gt;bucket_count&lt;/code&gt;&lt;/a&gt;&lt;code&gt;() &amp;gt;&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/size.html&#34;&gt;&lt;code&gt;size&lt;/code&gt;&lt;/a&gt;&lt;code&gt;() /&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/max_load_factor.html&#34;&gt;&lt;code&gt;max_load_factor&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt; となっている（等号がない）が、&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/load_factor.html&#34;&gt;&lt;code&gt;load_factor&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()（=&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/size.html&#34;&gt;&lt;code&gt;size&lt;/code&gt;&lt;/a&gt;&lt;code&gt;() /&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/bucket_count.html&#34;&gt;&lt;code&gt;bucket_count&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt;）の条件は &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/max_load_factor.html&#34;&gt;&lt;code&gt;max_load_factor&lt;/code&gt;&lt;/a&gt;&lt;code&gt;() &amp;gt;=&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/load_factor.html&#34;&gt;&lt;code&gt;load_factor&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt; である（等号がある）ため、&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/bucket_count.html&#34;&gt;&lt;code&gt;bucket_count&lt;/code&gt;&lt;/a&gt;&lt;code&gt;() &amp;gt;=&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/size.html&#34;&gt;&lt;code&gt;size&lt;/code&gt;&lt;/a&gt;&lt;code&gt;() /&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/max_load_factor.html&#34;&gt;&lt;code&gt;max_load_factor&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt; の（等号がある）方が適切であると思われる。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;例&lt;/h2&gt;
&lt;p&gt;&lt;div class=&#34;codehilite&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;&lt;a href=&#34;http://cpprefjp.github.io/reference/iostream.html&#34;&gt;iostream&lt;/a&gt;&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set.html&#34;&gt;unordered_set&lt;/a&gt;&amp;gt;&lt;/span&gt;

&lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;main&lt;/span&gt;()
{
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset.html&#34;&gt;unordered_multiset&lt;/a&gt;&lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;&amp;gt;&lt;/span&gt; um{ &lt;span style=&#34;color: #666666&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color: #666666&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color: #666666&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color: #666666&#34;&gt;4&lt;/span&gt;, &lt;span style=&#34;color: #666666&#34;&gt;5&lt;/span&gt;, &lt;span style=&#34;color: #666666&#34;&gt;6&lt;/span&gt;, &lt;span style=&#34;color: #666666&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color: #666666&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color: #666666&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color: #666666&#34;&gt;4&lt;/span&gt;, &lt;span style=&#34;color: #666666&#34;&gt;5&lt;/span&gt;, &lt;span style=&#34;color: #666666&#34;&gt;6&lt;/span&gt;, };

  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/size.html&#34;&gt;size&lt;/a&gt; is &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; um.&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/size.html&#34;&gt;size&lt;/a&gt;() &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;, &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/max_load_factor.html&#34;&gt;max_load_factor&lt;/a&gt; is &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; um.&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/max_load_factor.html&#34;&gt;max_load_factor&lt;/a&gt;() &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;endl;

  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/bucket_count.html&#34;&gt;bucket_count&lt;/a&gt; is &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; um.&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/bucket_count.html&#34;&gt;bucket_count&lt;/a&gt;() &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;endl;

  &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;// 現在の要素数より大きな値を指定する。&lt;/span&gt;
  um.reserve(&lt;span style=&#34;color: #666666&#34;&gt;100&lt;/span&gt;);
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/bucket_count.html&#34;&gt;bucket_count&lt;/a&gt; is &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; um.&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/bucket_count.html&#34;&gt;bucket_count&lt;/a&gt;() &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;endl;

  &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;// 現在の要素数よりは大きく、現在のバケット数 / &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/max_load_factor.html&#34;&gt;max_load_factor&lt;/a&gt;() よりは小さい値を指定する。&lt;/span&gt;
  um.reserve(&lt;span style=&#34;color: #666666&#34;&gt;20&lt;/span&gt;);
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/bucket_count.html&#34;&gt;bucket_count&lt;/a&gt; is &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; um.&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/bucket_count.html&#34;&gt;bucket_count&lt;/a&gt;() &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;endl;

  &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;// 現在の要素数より小さい値を指定する。&lt;/span&gt;
  um.reserve(&lt;span style=&#34;color: #666666&#34;&gt;1&lt;/span&gt;);
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/bucket_count.html&#34;&gt;bucket_count&lt;/a&gt; is &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; um.&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/bucket_count.html&#34;&gt;bucket_count&lt;/a&gt;() &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;endl;
}
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;
&lt;h3&gt;出力&lt;/h3&gt;
&lt;p&gt;&lt;pre&gt;&lt;code&gt;size is 12, max_load_factor is 1
bucket_count is 23
bucket_count is 101
bucket_count is 23
bucket_count is 13
&lt;/code&gt;&lt;/pre&gt;&lt;/p&gt;
&lt;h2&gt;バージョン&lt;/h2&gt;
&lt;h3&gt;言語&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;C++11&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;処理系&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#clang&#34;&gt;Clang&lt;/a&gt;: -&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#clang&#34;&gt;Clang, C++0x mode&lt;/a&gt;: 3.1&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#gcc&#34;&gt;GCC&lt;/a&gt;: -&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#gcc&#34;&gt;GCC, C++0x mode&lt;/a&gt;: 4.7.0&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#icc&#34;&gt;ICC&lt;/a&gt;: ?&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#visual_cpp&#34;&gt;Visual C++&lt;/a&gt;: ?&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;参照&lt;/h2&gt;
&lt;table border=&#34;1&#34; bordercolor=&#34;#888&#34; style=&#34;border-collapse:collapse&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/size.html&#34;&gt;&lt;code&gt;size&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;要素数の取得&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/bucket_count.html&#34;&gt;&lt;code&gt;bucket_count&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;バケット数の取得&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/load_factor.html&#34;&gt;&lt;code&gt;load_factor&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;現在の負荷率（バケットあたりの要素数の平均）を取得&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/max_load_factor.html&#34;&gt;&lt;code&gt;max_load_factor&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;負荷率の最大値を取得、設定&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/reserve.html&#34;&gt;&lt;code&gt;rehash&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;最小バケット数指定によるバケット数の調整&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/insert.html&#34;&gt;&lt;code&gt;insert&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;要素の追加&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/emplace.html&#34;&gt;&lt;code&gt;emplace&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;コンテナ内への要素の直接構築&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_multiset/emplace_hint.html&#34;&gt;&lt;code&gt;emplace_hint&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;挿入位置のヒントを使用したコンテナ内への要素の直接構築&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;</content>
      
      <author>
        <name>Mitsuru Kariya</name>
        <email>kariya_mitsuru@hotmail.com</email>
      </author>
    </entry>
  
    <entry>
      <title>reserve (C++11) -- cmath: ceil を追加</title>
      <link href="http://cpprefjp.github.io/reference/unordered_set/unordered_set/reserve.html"/>
      <id>94de5ae8a0f140b35e0aa7e027ab4962850112b3:reference/unordered_set/unordered_set/reserve.md</id>
      <updated>2015-01-23 12:17:46 +0900</updated>
      
        <content type="html">&lt;h1&gt;reserve (C++11)&lt;/h1&gt;
&lt;p&gt;&lt;div class=&#34;codehilite&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span style=&#34;color: #B00040&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;reserve&lt;/span&gt;(size_type n);
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;
&lt;h2&gt;概要&lt;/h2&gt;
&lt;p&gt;コンテナが、リハッシュされずに少なくとも引数 &lt;code&gt;n&lt;/code&gt; で指定された要素数格納できるようにバケット数を調整（リハッシュ）する。（ただし、備考を参照）&lt;/p&gt;
&lt;h2&gt;事後条件&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/bucket_count.html&#34;&gt;&lt;code&gt;bucket_count&lt;/code&gt;&lt;/a&gt;&lt;code&gt;() &amp;gt;&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/size.html&#34;&gt;&lt;code&gt;size&lt;/code&gt;&lt;/a&gt;&lt;code&gt;() /&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/max_load_factor.html&#34;&gt;&lt;code&gt;max_load_factor&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt; かつ、&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/bucket_count.html&#34;&gt;&lt;code&gt;bucket_count&lt;/code&gt;&lt;/a&gt;&lt;code&gt;() &amp;gt;=&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/ceil.html&#34;&gt;&lt;code&gt;ceil&lt;/code&gt;&lt;/a&gt;&lt;code&gt;(n /&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/max_load_factor.html&#34;&gt;&lt;code&gt;max_load_factor&lt;/code&gt;&lt;/a&gt;&lt;code&gt;())&lt;/code&gt;。&lt;/p&gt;
&lt;h2&gt;戻り値&lt;/h2&gt;
&lt;p&gt;なし&lt;/p&gt;
&lt;h2&gt;例外&lt;/h2&gt;
&lt;p&gt;ハッシュ関数、および、キー比較用関数以外から例外が投げられた場合、コンテナは変更されない。&lt;/p&gt;
&lt;h2&gt;計算量&lt;/h2&gt;
&lt;p&gt;平均的なケースでは &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/size.html&#34;&gt;&lt;code&gt;size&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt; に比例するが、最悪のケースでは &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/size.html&#34;&gt;&lt;code&gt;size&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt; の 2 乗に比例する。&lt;/p&gt;
&lt;h2&gt;備考&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;本関数は、概要の通り、リハッシュされずに引数 &lt;code&gt;n&lt;/code&gt; で指定された要素数格納できるように意図されているはずであるが、現在の条件では &lt;code&gt;n - 1&lt;/code&gt; しか格納することができない場合がある（少なくとも、事後条件を満たすだけでは確実に &lt;code&gt;n&lt;/code&gt; 要素を格納できる保証はない）。この件については、既に Issue が上がっている（&lt;a href=&#34;http://www.open-std.org/jtc1/sc22/wg21/docs/lwg-active.html#2156&#34; target=&#34;_blank&#34;&gt;2156. Unordered containers&#39; reserve(n) reserves for n-1 elements&lt;/a&gt;）。リハッシュされる条件については、&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/insert.html&#34;&gt;&lt;code&gt;insert&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt;、&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/emplace.html&#34;&gt;&lt;code&gt;emplace&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt;、&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/emplace_hint.html&#34;&gt;&lt;code&gt;emplace_hint&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt; も参照。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;リハッシュが行われた場合、
- 全てのイテレータが無効になる。
- 要素間の順番が変わる。
- 要素の格納されているバケットが変更になる。
- 要素へのポインタや参照は無効に&lt;strong&gt;ならない&lt;/strong&gt;。
- 現在のバケット数が既に &lt;a href=&#34;http://cpprefjp.github.io/reference/cmath/ceil.html&#34;&gt;&lt;code&gt;ceil&lt;/code&gt;&lt;/a&gt;&lt;code&gt;(n /&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/max_load_factor.html&#34;&gt;&lt;code&gt;max_load_factor&lt;/code&gt;&lt;/a&gt;&lt;code&gt;())&lt;/code&gt; 以上の場合の動作は、標準では特に規定されていない。
- 標準では、事後条件が &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/bucket_count.html&#34;&gt;&lt;code&gt;bucket_count&lt;/code&gt;&lt;/a&gt;&lt;code&gt;() &amp;gt;&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/size.html&#34;&gt;&lt;code&gt;size&lt;/code&gt;&lt;/a&gt;&lt;code&gt;() /&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/max_load_factor.html&#34;&gt;&lt;code&gt;max_load_factor&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt; となっている（等号がない）が、&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/load_factor.html&#34;&gt;&lt;code&gt;load_factor&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt;（&lt;code&gt;=&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/size.html&#34;&gt;&lt;code&gt;size&lt;/code&gt;&lt;/a&gt;&lt;code&gt;() /&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/bucket_count.html&#34;&gt;&lt;code&gt;bucket_count&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt;）の条件は &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/max_load_factor.html&#34;&gt;&lt;code&gt;max_load_factor&lt;/code&gt;&lt;/a&gt;&lt;code&gt;() &amp;gt;=&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/load_factor.html&#34;&gt;&lt;code&gt;load_factor&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt; である（等号がある）ため、&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/bucket_count.html&#34;&gt;&lt;code&gt;bucket_count&lt;/code&gt;&lt;/a&gt;&lt;code&gt;() &amp;gt;=&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/size.html&#34;&gt;&lt;code&gt;size&lt;/code&gt;&lt;/a&gt;&lt;code&gt;() /&lt;/code&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/max_load_factor.html&#34;&gt;&lt;code&gt;max_load_factor&lt;/code&gt;&lt;/a&gt;&lt;code&gt;()&lt;/code&gt; の（等号がある）方が適切であると思われる。&lt;/p&gt;
&lt;h2&gt;例&lt;/h2&gt;
&lt;p&gt;&lt;div class=&#34;codehilite&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;&lt;a href=&#34;http://cpprefjp.github.io/reference/iostream.html&#34;&gt;iostream&lt;/a&gt;&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #BC7A00&#34;&gt;#include &amp;lt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set.html&#34;&gt;unordered_set&lt;/a&gt;&amp;gt;&lt;/span&gt;

&lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;main&lt;/span&gt;()
{
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set.html&#34;&gt;unordered_set&lt;/a&gt;&lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color: #B00040&#34;&gt;int&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;&amp;gt;&lt;/span&gt; us{ &lt;span style=&#34;color: #666666&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color: #666666&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color: #666666&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color: #666666&#34;&gt;4&lt;/span&gt;, &lt;span style=&#34;color: #666666&#34;&gt;5&lt;/span&gt;, &lt;span style=&#34;color: #666666&#34;&gt;6&lt;/span&gt;, };

  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/size.html&#34;&gt;size&lt;/a&gt; is &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; us.&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/size.html&#34;&gt;size&lt;/a&gt;() &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;, &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/max_load_factor.html&#34;&gt;max_load_factor&lt;/a&gt; is &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; us.&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/max_load_factor.html&#34;&gt;max_load_factor&lt;/a&gt;() &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;endl;

  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/bucket_count.html&#34;&gt;bucket_count&lt;/a&gt; is &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; us.&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/bucket_count.html&#34;&gt;bucket_count&lt;/a&gt;() &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;endl;

  &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;// 現在の要素数より大きな値を指定する。&lt;/span&gt;
  us.reserve(&lt;span style=&#34;color: #666666&#34;&gt;100&lt;/span&gt;);
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/bucket_count.html&#34;&gt;bucket_count&lt;/a&gt; is &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; us.&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/bucket_count.html&#34;&gt;bucket_count&lt;/a&gt;() &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;endl;

  &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;// 現在の要素数よりは大きく、現在のバケット数 / &lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/max_load_factor.html&#34;&gt;max_load_factor&lt;/a&gt;() よりは小さい値を指定する。&lt;/span&gt;
  us.reserve(&lt;span style=&#34;color: #666666&#34;&gt;10&lt;/span&gt;);
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/bucket_count.html&#34;&gt;bucket_count&lt;/a&gt; is &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; us.&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/bucket_count.html&#34;&gt;bucket_count&lt;/a&gt;() &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;endl;

  &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;// 現在の要素数より小さい値を指定する。&lt;/span&gt;
  us.reserve(&lt;span style=&#34;color: #666666&#34;&gt;1&lt;/span&gt;);
  std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;cout &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&#34;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/bucket_count.html&#34;&gt;bucket_count&lt;/a&gt; is &#34;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; us.&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/bucket_count.html&#34;&gt;bucket_count&lt;/a&gt;() &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; std&lt;span style=&#34;color: #666666&#34;&gt;::&lt;/span&gt;endl;
}
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;
&lt;h3&gt;出力&lt;/h3&gt;
&lt;p&gt;&lt;pre&gt;&lt;code&gt;size is 6, max_load_factor is 1
bucket_count is 11
bucket_count is 101
bucket_count is 11
bucket_count is 7
&lt;/code&gt;&lt;/pre&gt;&lt;/p&gt;
&lt;h2&gt;バージョン&lt;/h2&gt;
&lt;h3&gt;言語&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;C++11&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;処理系&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#clang&#34;&gt;Clang&lt;/a&gt;: -&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#clang&#34;&gt;Clang, C++0x mode&lt;/a&gt;: 3.1&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#gcc&#34;&gt;GCC&lt;/a&gt;: -&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#gcc&#34;&gt;GCC, C++0x mode&lt;/a&gt;: 4.7.0&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#icc&#34;&gt;ICC&lt;/a&gt;: ?&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cpprefjp.github.io/implementation.html#visual_cpp&#34;&gt;Visual C++&lt;/a&gt;: ?&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;参照&lt;/h2&gt;
&lt;table border=&#34;1&#34; bordercolor=&#34;#888&#34; style=&#34;border-collapse:collapse&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/size.html&#34;&gt;&lt;code&gt;size&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;要素数の取得&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/bucket_count.html&#34;&gt;&lt;code&gt;bucket_count&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;バケット数の取得&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/load_factor.html&#34;&gt;&lt;code&gt;load_factor&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;現在の負荷率（バケットあたりの要素数の平均）を取得&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/max_load_factor.html&#34;&gt;&lt;code&gt;max_load_factor&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;負荷率の最大値を取得、設定&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/reserve.html&#34;&gt;&lt;code&gt;rehash&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;最小バケット数指定によるバケット数の調整&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/insert.html&#34;&gt;&lt;code&gt;insert&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;要素の追加&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/emplace.html&#34;&gt;&lt;code&gt;emplace&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;コンテナ内への要素の直接構築&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://cpprefjp.github.io/reference/unordered_set/unordered_set/emplace_hint.html&#34;&gt;&lt;code&gt;emplace_hint&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;挿入位置のヒントを使用したコンテナ内への要素の直接構築&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;</content>
      
      <author>
        <name>Mitsuru Kariya</name>
        <email>kariya_mitsuru@hotmail.com</email>
      </author>
    </entry>
  
</feed>
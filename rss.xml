<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>cpprefjp - C++日本語リファレンス</title>
  <link href="https://cpprefjp.github.io" />
  <updated>2021-09-08T19:25:29.576572</updated>
  <id>fdb33273-2a70-4869-af66-8a5105eedbda</id>

  
    <entry>
      <title>ranges -- &lt;ranges&gt; ref_viewを追加 #713</title>
      <link href="https://cpprefjp.github.io/reference/ranges.html"/>
      <id>f2d47eac4b68d18e0098ee84a8ea5e783a648edd:reference/ranges.md</id>
      <updated>2021-09-09T04:20:34+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/reference/ranges.md b/reference/ranges.md
index fedf6ade0..b4908527d 100644
--- a/reference/ranges.md
+++ b/reference/ranges.md
@@ -90,6 +90,9 @@ C++20では関数によるカスタマイゼーションポイントの問題点
 
 ## 範囲ファクトリ
 
+範囲ファクトリは、範囲ではないオブジェクトから[`view`](ranges/view.md)を生成するものである。
+その実体は、引数の無いものは変数テンプレート、引数のあるものは関数テンプレートやカスタマイゼーションポイントオブジェクトとなっている。
+
 ### empty view
 
 | 名前                                 | 説明                                       | 対応バージョン |
@@ -120,13 +123,40 @@ C++20では関数によるカスタマイゼーションポイントの問題点
 
 ## 範囲アダプタ
 
+範囲アダプタは、既存の範囲に作用して新たな[`view`](ranges/view.md)を生成するものである。
+その実体は、引数の無いものは変数テンプレート、引数のあるものは関数テンプレートやカスタマイゼーションポイントオブジェクトとなっている。
+
+範囲アダプタを範囲に作用させる方法には、関数記法とパイプライン記法の2つがある。
+
+`R`を範囲アダプタ、`r`を元になる範囲とする。このとき、以下の2つの式は同じ[`view`](ranges/view.md)を生成する。
+
+```cpp
+R(r)   // 関数記法
+r | R  // パイプライン記法
+```
+
+範囲アダプタを適用した結果は[`view`](ranges/view.md)、すなわち範囲であることから、範囲アダプタを次々と繋いでいくことができる。
+
+```cpp
+R1(R2(R3(r)))     // 関数記法
+r | R1 | R2 | R3  // パイプライン記法
+```
+
+範囲アダプタの処理は遅延評価され、要素は必要になるまで生成されない。このような仕組みは実際の仕事の多くをイテレータが担うことで実現している。
+
+```cpp
+for (auto&amp;amp;&amp;amp; item : r | R) {
+  // ループ一回ごとに、(r | R)の要素を1つ生成する。このとき、rの要素を必要なだけ取得する。
+}
+```
+
 ### all view
 
-| 名前                                    | 説明           | 対応バージョン |
-|-----------------------------------------|----------------|----------------|
-| [`ref_view`](ranges/ref_view.md.nolink) | 範囲への参照として振る舞うビュー (class template)     | C++20          |
-| [`all`](ranges/all.md.nolink)           | 範囲への参照として振る舞うビューを生成する (customization point object) | C++20          |
-| [`all_t`](ranges/all_t.md.nolink)       | `all`の戻り値型 (alias template)     | C++20          |
+| 名前                             | 説明                                                                    | 対応バージョン |
+|----------------------------------|-------------------------------------------------------------------------|----------------|
+| [`ref_view`](ranges/ref_view.md) | 範囲への参照として振る舞うビュー (class template)                       | C++20          |
+| [`all`](ranges/ref_view.md)      | 範囲への参照として振る舞うビューを生成する (customization point object) | C++20          |
+| [`all_t`](ranges/ref_view.md)    | `all`の戻り値型 (alias template)                                        | C++20          |
 
 ### filter view
 
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>Tetsuro Matsumura</name>
        <email>matsumura.t.lab@gmail.com</email>
      </author>
    </entry>
  
    <entry>
      <title>ref_view -- &lt;ranges&gt; ref_viewを追加 #713</title>
      <link href="https://cpprefjp.github.io/reference/ranges/ref_view.html"/>
      <id>f2d47eac4b68d18e0098ee84a8ea5e783a648edd:reference/ranges/ref_view.md</id>
      <updated>2021-09-09T04:20:34+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/reference/ranges/ref_view.md b/reference/ranges/ref_view.md
new file mode 100644
index 000000000..90d23c222
--- /dev/null
+++ b/reference/ranges/ref_view.md
@@ -0,0 +1,119 @@
+# ref_view
+* ranges[meta header]
+* std::ranges[meta namespace]
+* class template[meta id-type]
+* cpp20[meta cpp]
+
+```cpp
+namespace std {
+  namespace ranges {
+    template&amp;lt;range R&amp;gt;
+    requires is_object_v&amp;lt;R&amp;gt;
+    class ref_view : public view_interface&amp;lt;ref_view&amp;lt;R&amp;gt;&amp;gt; { …… }; // (1)
+
+    namespace views {
+      inline constexpr /*unspecified*/ all = /*unspecified*/;     // (2)
+
+      template&amp;lt;viewable_range R&amp;gt;
+      using all_t = decltype(all(declval&amp;lt;R&amp;gt;()));                  // (3)
+    }
+  }
+
+  namespace views = ranges::views;
+}
+```
+* movable[link /reference/concepts/movable.md]
+* default_initializable[link /reference/concepts/default_initializable.md]
+* viewable_range[link viewable_range.md]
+* view_interface[link view_interface.md]
+* stream-extractable[italic]
+
+## 概要
+`ref_view`(1)は、範囲への参照として振る舞う[`view`](view.md)。
+
+カスタマイゼーションポイントオブジェクト`all`(2)で、範囲への参照として振る舞う[`view`](view.md)を生成できる。
+
+`all`の戻り値は`ref_view`とは限らず、元の範囲そのものや[`subrange`](subrange.md)にもなる。戻り値型はエイリアステンプレート`all_t`(3)で取得できる。これらをまとめて&amp;#34;all view&amp;#34;と呼ぶことがある。
+
+### 範囲カテゴリ
+
+| borrowed | sized | output | input | forward | bidirectional | random_access | contiguous | common | viewable | view |
+|----------|-------|--------|-------|---------|---------------|---------------|------------|--------|----------|------|
+| ○       | ※    | ※     | ※    | ※      | ※            | ※            | ※         | ※     | ○       | ○   |
+
+※ 参照先の範囲に従う
+
+## テンプレートパラメータ制約
+
+- [`range`](range.md)`&amp;lt;R&amp;gt;`
+- [`is_object_v`](/reference/type_traits/is_object.md)`&amp;lt;R&amp;gt;`
+
+## 効果
+
+- (2): 式`views​::​all(E)`の効果は次の通り
+    - `E`の[`decay`](/reference/type_traits/decay.md)した型が[`view`](view.md)のモデルであれば、[`decay-copy`](/reference/exposition-only/decay-copy.md)`(E)`と等しい
+    - それ以外のとき、`ref_­view{E}`が有効な式であれば、`ref_­view{E}`と等しい
+    - それ以外のとき、[`subrange`](subrange.md)`{E}`と等しい
+
+## メンバ関数
+
+| 名前                                             | 説明                             | 対応バージョン |
+|--------------------------------------------------|----------------------------------|----------------|
+| [`(constructor)`](ref_view/op_constructor.md.nolink)  | コンストラクタ                   | C++20          |
+| [`base`](ref_view/base.md.nolink)                     | `R`の参照を取得する              | C++20          |
+| [`begin`](ref_view/begin.md.nolink)                   | 先頭を指すイテレータを取得する   | C++20          |
+| [`end`](ref_view/end.md.nolink)                       | 番兵を取得する                   | C++20          |
+| [`empty`](ref_view/empty.md.nolink)                   | 範囲が空かどうかを判定する       | C++20          |
+| [`size`](ref_view/size.md.nolink)                     | 要素数を取得する                 | C++20          |
+| [`data`](ref_view/data.md.nolink)                     | 範囲の先頭へのポインタを取得する | C++20          |
+
+`r`を参照先の範囲とする。`empty`、`size`、`data`は、それぞれ[`ranges::empty`](empty.md)`(r)`、[`ranges::size`](size.md)`(r)`、[`ranges::data`](data.md)`(r)`が有効な式であるときに定義される。
+
+## 継承しているメンバ関数
+
+| 名前                                         | 説明                             | 対応バージョン |
+|----------------------------------------------|----------------------------------|----------------|
+| [`operator bool`](view_interface/op_bool.md) | 範囲が空でないかどうかを判定する | C++20          |
+| [`front`](view_interface/front.md)           | 先頭要素への参照を取得する       | C++20          |
+| [`back`](view_interface/back.md)             | 末尾要素への参照を取得する       | C++20          |
+| [`operator[]`](view_interface/op_at.md)      | 要素へアクセスする               | C++20          |
+
+## 推論補助
+
+| 名前                                                  | 説明                         | 対応バージョン |
+|-------------------------------------------------------|------------------------------|----------------|
+| [`(deduction_guide)`](ref_view/op_deduction_guide.md.nolink) | クラステンプレートの推論補助 | C++20          |
+
+## 例
+```cpp example
+#include &amp;lt;ranges&amp;gt;
+
+int main() {
+  using namespace std;
+  int a[] = {1, 2, 3, 4, 5};
+
+  for (int i : a | views::all) {
+    cout &amp;lt;&amp;lt; i;
+  }
+}
+```
+* views::all[color ff0000]
+
+### 出力
+```
+12345
+```
+
+## バージョン
+### 言語
+- C++20
+
+### 処理系
+- [Clang](/implementation.md#clang): 13.0.0
+- [GCC](/implementation.md#gcc): 10.1.0
+- [ICC](/implementation.md#icc): ?
+- [Visual C++](/implementation.md#visual_cpp): 2019 Update 10
+
+## 参照
+- [N4861 24 Ranges library](https://timsong-cpp.github.io/cppwp/n4861/ranges)
+- [C++20 ranges](https://techbookfest.org/product/5134506308665344)
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>Tetsuro Matsumura</name>
        <email>matsumura.t.lab@gmail.com</email>
      </author>
    </entry>
  
    <entry>
      <title>basic_istream_view -- &lt;ranges&gt; 説明を修正 #713</title>
      <link href="https://cpprefjp.github.io/reference/ranges/basic_istream_view.html"/>
      <id>a525889c6b56aaac3ac84566a11c17da2ec5f328:reference/ranges/basic_istream_view.md</id>
      <updated>2021-09-04T08:12:40+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/reference/ranges/basic_istream_view.md b/reference/ranges/basic_istream_view.md
index aa6344653..2eb045566 100644
--- a/reference/ranges/basic_istream_view.md
+++ b/reference/ranges/basic_istream_view.md
@@ -57,11 +57,11 @@ concept stream-extractable = requires(basic_istream&amp;lt;CharT, Traits&amp;gt;&amp;amp; is, Val&amp;amp; t)
 
 ## メンバ関数
 
-| 名前                                             | 説明                             | 対応バージョン |
-|--------------------------------------------------|----------------------------------|----------------|
-| [`(constructor)`](iota_view/op_constructor.md.nolink)  | コンストラクタ                   | C++20          |
-| [`begin`](iota_view/begin.md.nolink)                   | 先頭を指すイテレータを取得する   | C++20          |
-| [`end`](iota_view/end.md.nolink)                       | 番兵を取得する                   | C++20          |
+| 名前                                                     | 説明                             | 対応バージョン |
+|----------------------------------------------------------|----------------------------------|----------------|
+| [`(constructor)`](basic_istream_view/op_constructor.md.nolink)  | コンストラクタ                   | C++20          |
+| [`begin`](basic_istream_view/begin.md.nolink)                   | 先頭を指すイテレータを取得する   | C++20          |
+| [`end`](basic_istream_view/end.md.nolink)                       | 番兵を取得する                   | C++20          |
 
 ## 例
 ```cpp example
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>Tetsuro Matsumura</name>
        <email>matsumura.t.lab@gmail.com</email>
      </author>
    </entry>
  
    <entry>
      <title>view_interface -- &lt;ranges&gt; 説明を修正 #713</title>
      <link href="https://cpprefjp.github.io/reference/ranges/view_interface.html"/>
      <id>a525889c6b56aaac3ac84566a11c17da2ec5f328:reference/ranges/view_interface.md</id>
      <updated>2021-09-04T08:12:40+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/reference/ranges/view_interface.md b/reference/ranges/view_interface.md
index 6d7a5e637..f9f46f59e 100644
--- a/reference/ranges/view_interface.md
+++ b/reference/ranges/view_interface.md
@@ -28,7 +28,7 @@ namespace std::ranges {
 |----------------------------------------------|----------------------------------|----------------|
 | [`empty`](view_interface/empty.md)           | 範囲が空かどうかを判定する       | C++20          |
 | [`operator bool`](view_interface/op_bool.md) | 範囲が空でないかどうかを判定する | C++20          |
-| [`data`](view_interface/data.md)             | 配列の先頭へのポインタを取得する | C++20          |
+| [`data`](view_interface/data.md)             | 範囲の先頭へのポインタを取得する | C++20          |
 | [`size`](view_interface/size.md)             | 要素数を取得する                 | C++20          |
 | [`front`](view_interface/front.md)           | 先頭要素への参照を取得する       | C++20          |
 | [`back`](view_interface/back.md)             | 末尾要素への参照を取得する       | C++20          |
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>Tetsuro Matsumura</name>
        <email>matsumura.t.lab@gmail.com</email>
      </author>
    </entry>
  
    <entry>
      <title>operator new[] -- Typo の修正</title>
      <link href="https://cpprefjp.github.io/reference/new/op_new[].html"/>
      <id>1e3427732d2133cb15250d2e8e6a4c90c7e4b9ec:reference/new/op_new[].md</id>
      <updated>2021-09-06T23:45:24+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/reference/new/op_new[].md b/reference/new/op_new[].md
index 410c64c28..8be12c575 100644
--- a/reference/new/op_new[].md
+++ b/reference/new/op_new[].md
@@ -114,7 +114,7 @@ int main()
     cl* p1 = new cl[3];
     delete[] p1;
 
-    // 32) 3 要素の cl 型配列を動的に作成
+    // (3) 3 要素の cl 型配列を動的に作成
     // 確保失敗時にヌルポインタが返される
     cl* p2 = new (std::nothrow) cl[3];
     delete[] p2;    // 配置 delete と言うものはないので、通常の delete 式で記憶域を解放する
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>Raclamusi</name>
        <email>61970673+Raclamusi@users.noreply.github.com</email>
      </author>
    </entry>
  
    <entry>
      <title>集成体初期化の拡張 -- Merge pull request #896 from cpprefjp/fixtypo_extension_to_aggregate_initialization</title>
      <link href="https://cpprefjp.github.io/lang/cpp17/extension_to_aggregate_initialization.html"/>
      <id>0da613912950c473847589fba3f93882c477f321:lang/cpp17/extension_to_aggregate_initialization.md</id>
      <updated>2021-09-04T14:36:09+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/lang/cpp17/extension_to_aggregate_initialization.md b/lang/cpp17/extension_to_aggregate_initialization.md
index af3bdeb8a..d3648db38 100644
--- a/lang/cpp17/extension_to_aggregate_initialization.md
+++ b/lang/cpp17/extension_to_aggregate_initialization.md
@@ -18,13 +18,13 @@ C++17 から集成体初期化が拡張され、基底クラスを持つ型の
 
 struct base_a { std::string s; };
 struct base_b { double d; std::vector&amp;lt; int &amp;gt; vi; };
-struct delived: base_a, base_b { char c; };
+struct derived: base_a, base_b { char c; };
 
 int main()
 {
   // このような初期化を C++17 以降は本機能により使用できるようになった
   // この初期化は C++14 以前では基底クラスの初期化として扱えず翻訳に失敗してしまう
-  delived o
+  derived o
   { { // base_a; 本機能により基底クラスの初期化を { } で記述できる
       &amp;#34;abc&amp;#34; // base_a::s
     }
@@ -32,7 +32,7 @@ int main()
       12.345 // base_b::d
     , { 1, 2, 3} // base_b::v
     }
-  , &amp;#39;d&amp;#39; // delived::c
+  , &amp;#39;d&amp;#39; // derived::c
   };
   
   std::cout 
@@ -78,17 +78,17 @@ struct legacy_base
   legacy_base( int a_ ): a( a_ ) { }
   int a;
 };
-struct legacy_delived: legacy_base
+struct legacy_derived: legacy_base
 {
   // いちいち書かなければならないのは面倒くさい
-  legacy_delived( int a_, int b_ ): legacy_base( a_ ), b( b_ ) { }
+  legacy_derived( int a_, int b_ ): legacy_base( a_ ), b( b_ ) { }
   int b;
 };
 
 int main()
 {
-  // 初期化を簡潔に記述するためには legacy_delived, legacy_base の構築子に仕込みが必要だった
-  legacy_delived o{ 123, 456 };
+  // 初期化を簡潔に記述するためには legacy_derived, legacy_base の構築子に仕込みが必要だった
+  legacy_derived o{ 123, 456 };
   std::cout
     &amp;lt;&amp;lt; &amp;#34;o.a = &amp;#34; &amp;lt;&amp;lt; o.a &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;
     &amp;lt;&amp;lt; &amp;#34;o.b = &amp;#34; &amp;lt;&amp;lt; o.b &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;
@@ -103,11 +103,11 @@ int main()
 #include &amp;lt;iostream&amp;gt;
 
 struct legacy_base { int a; };
-struct legacy_delived: legacy_base { int b; };
+struct legacy_derived: legacy_base { int b; };
 
 int main()
 {
-  legacy_delived o{ { 123 }, 456 };
+  legacy_derived o{ { 123 }, 456 };
   std::cout
     &amp;lt;&amp;lt; &amp;#34;o.a = &amp;#34; &amp;lt;&amp;lt; o.a &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;
     &amp;lt;&amp;lt; &amp;#34;o.b = &amp;#34; &amp;lt;&amp;lt; o.b &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>Akira Takahashi</name>
        <email>faithandbrave@gmail.com</email>
      </author>
    </entry>
  
    <entry>
      <title>集成体初期化の拡張 -- Typo修正: delive -&gt; derive</title>
      <link href="https://cpprefjp.github.io/lang/cpp17/extension_to_aggregate_initialization.html"/>
      <id>11d572b23e0c91a6eb5f21f9bd3e959248d03377:lang/cpp17/extension_to_aggregate_initialization.md</id>
      <updated>2021-09-04T12:08:32+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/lang/cpp17/extension_to_aggregate_initialization.md b/lang/cpp17/extension_to_aggregate_initialization.md
index af3bdeb8a..d3648db38 100644
--- a/lang/cpp17/extension_to_aggregate_initialization.md
+++ b/lang/cpp17/extension_to_aggregate_initialization.md
@@ -18,13 +18,13 @@ C++17 から集成体初期化が拡張され、基底クラスを持つ型の
 
 struct base_a { std::string s; };
 struct base_b { double d; std::vector&amp;lt; int &amp;gt; vi; };
-struct delived: base_a, base_b { char c; };
+struct derived: base_a, base_b { char c; };
 
 int main()
 {
   // このような初期化を C++17 以降は本機能により使用できるようになった
   // この初期化は C++14 以前では基底クラスの初期化として扱えず翻訳に失敗してしまう
-  delived o
+  derived o
   { { // base_a; 本機能により基底クラスの初期化を { } で記述できる
       &amp;#34;abc&amp;#34; // base_a::s
     }
@@ -32,7 +32,7 @@ int main()
       12.345 // base_b::d
     , { 1, 2, 3} // base_b::v
     }
-  , &amp;#39;d&amp;#39; // delived::c
+  , &amp;#39;d&amp;#39; // derived::c
   };
   
   std::cout 
@@ -78,17 +78,17 @@ struct legacy_base
   legacy_base( int a_ ): a( a_ ) { }
   int a;
 };
-struct legacy_delived: legacy_base
+struct legacy_derived: legacy_base
 {
   // いちいち書かなければならないのは面倒くさい
-  legacy_delived( int a_, int b_ ): legacy_base( a_ ), b( b_ ) { }
+  legacy_derived( int a_, int b_ ): legacy_base( a_ ), b( b_ ) { }
   int b;
 };
 
 int main()
 {
-  // 初期化を簡潔に記述するためには legacy_delived, legacy_base の構築子に仕込みが必要だった
-  legacy_delived o{ 123, 456 };
+  // 初期化を簡潔に記述するためには legacy_derived, legacy_base の構築子に仕込みが必要だった
+  legacy_derived o{ 123, 456 };
   std::cout
     &amp;lt;&amp;lt; &amp;#34;o.a = &amp;#34; &amp;lt;&amp;lt; o.a &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;
     &amp;lt;&amp;lt; &amp;#34;o.b = &amp;#34; &amp;lt;&amp;lt; o.b &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;
@@ -103,11 +103,11 @@ int main()
 #include &amp;lt;iostream&amp;gt;
 
 struct legacy_base { int a; };
-struct legacy_delived: legacy_base { int b; };
+struct legacy_derived: legacy_base { int b; };
 
 int main()
 {
-  legacy_delived o{ { 123 }, 456 };
+  legacy_derived o{ { 123 }, 456 };
   std::cout
     &amp;lt;&amp;lt; &amp;#34;o.a = &amp;#34; &amp;lt;&amp;lt; o.a &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;
     &amp;lt;&amp;lt; &amp;#34;o.b = &amp;#34; &amp;lt;&amp;lt; o.b &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>Naoya Sakabe</name>
        <email>k.exa.apostrophe@gmail.com</email>
      </author>
    </entry>
  
</feed>
<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>cpprefjp - C++日本語リファレンス</title>
  <link href="https://cpprefjp.github.io" />
  <updated>2021-08-04T17:41:20.217788</updated>
  <id>c7f3062c-bed3-48ea-b72e-436307978f28</id>

  
    <entry>
      <title>モジュール -- ヘッダーユニットの説明を微調整</title>
      <link href="https://cpprefjp.github.io/lang/cpp20/modules.html"/>
      <id>859c3879136be12568268ee1ece1b825604670e5:lang/cpp20/modules.md</id>
      <updated>2021-08-05T02:37:17+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/lang/cpp20/modules.md b/lang/cpp20/modules.md
index dd2d25cb0..9e2449d7c 100644
--- a/lang/cpp20/modules.md
+++ b/lang/cpp20/modules.md
@@ -379,17 +379,13 @@ import &amp;lt;foo.h&amp;gt;; // foo.hをヘッダーユニットとしてインポート
 * C++ライブラリヘッダー([C++標準ライブラリヘッダー](/reference.md)のうち、[C言語標準ライブラリヘッダーに由来するもの](/reference.md#clib-facilities)(`&amp;lt;cstdio&amp;gt;`など)以外)
 * その他、処理系定義のヘッダー
 
-ヘッダーユニットをインポートしてもその内容が展開されることはないが、マクロを取り込めるなど、`#include`とほぼ同じ効果が得られる。
+ヘッダーユニットをインポートしてもその内容が展開されることはないが、ヘッダーユニット内のマクロが使えるようになる。これにより`#include`とほぼ同じ効果が得られる。
 
 プリプロセッサは、非モジュールユニットに現れるインポータブルヘッダーに対する`#include`ディレクティブを`import`宣言に置換してもよいことになっている。モジュールユニットにおいては、明示的に`import`宣言をするほうがよい。
 
-#### モジュールとの違い
+ヘッダーユニットとなるヘッダーファイル自体はモジュール宣言を持てないし、`export`宣言もできない。
 
-ヘッダーユニットはインポートしたときの効果を`#include`と近くするために、普通のモジュールとは異なる性質をもつ。
-
-* ヘッダーユニットはモジュール宣言を持てない。
-* ヘッダーユニット内の宣言はすべてグローバルモジュールに属し、名前を導入する宣言ならば暗黙的にエクスポートされる。
-* ヘッダーユニットをインポートすると、ヘッダーユニット内のマクロが使えるようになる。
+ヘッダーユニット内の宣言はすべてグローバルモジュールに属し、名前を導入する宣言ならば暗黙的にエクスポートされる。
 
 ```cpp
 // P1103R3より引用
@@ -449,14 +445,13 @@ int main() {
 
 #### ヘッダーユニットが必要になった背景・経緯
 
-単にヘッダーファイルをインクルードしたいだけであれば、グローバルモジュールフラグメント内で行えば問題は無い。
+単にヘッダーファイルを使いたいだけであれば、グローバルモジュールフラグメント内でインクルードできる。
 
-しかし、処理系はヘッダーファイルをインポータブルヘッダーに指定することで、それらに対する `#include` を `import` に置き換え、
-コンパイルを速くすることができる。
+しかし、処理系はヘッダーファイルをインポータブルヘッダーに指定することで、それらに対する `#include` を `import` に置き換えることができる。
 
-例えば、C++20では標準ライブラリは従来通りヘッダーファイルで提供されるが、C++ライブラリヘッダーはインポータブルヘッダーでもある。処理系はこれらをコンパイル済みモジュールとして提供するかもしれない(ヘッダーファイルからヘッダーユニットを生成する手順を事前に行っておくことは禁止されていない)。
+プログラム全体であるヘッダーファイルに対する `#include` が `import` に置き換わった場合、そのヘッダーファイルは1回しかコンパイルされなくなり、コンパイル時間の短縮につながる可能性がある。このように、C++20としてコンパイルするだけで従来のコードでも恩恵を得ることができる。
 
-そのような処理系では、C++20としてコンパイルするだけで従来のコードでも恩恵を得ることができる。
+言語機能としてのモジュールが導入されても、すでにあるコードがリファクタリングされモジュールにまとめられるには長い時間がかかるため、過渡期においてヘッダーユニットは役に立つ。
 
 ## ビルド
 
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>Tetsuro Matsumura</name>
        <email>matsumura.t.lab@gmail.com</email>
      </author>
    </entry>
  
    <entry>
      <title>モジュール -- Update modules.md</title>
      <link href="https://cpprefjp.github.io/lang/cpp20/modules.html"/>
      <id>7f2d9960370b8a54f4fee4e6feb256eb17acbabb:lang/cpp20/modules.md</id>
      <updated>2021-08-05T02:16:34+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/lang/cpp20/modules.md b/lang/cpp20/modules.md
index 31e2f140a..dd2d25cb0 100644
--- a/lang/cpp20/modules.md
+++ b/lang/cpp20/modules.md
@@ -27,17 +27,21 @@ namespace mylib {
 
 ```cpp
 import mylib;
+// iostreamなど、一部のヘッダーはインポート(≠インクルード)可能
+import &amp;lt;iostream&amp;gt;
 
 int main() {
   // これらの型や関数の宣言はこの翻訳単位には無いが、
   // mylibでエクスポートしているので、使用することができる。
   mylib::myfunc_result_t ret = mylib::myfunc();
+  std::cout &amp;lt;&amp;lt; ret.x &amp;lt;&amp;lt; std::endl;
 }
 ```
 
 モジュールは単一の翻訳単位で構成することも、複数の翻訳単位で構成することもできる。
 
-C++20では標準ライブラリはモジュール化されないが、その中でC++ライブラリはヘッダーユニットとしてインポートできる。
+C++20では標準ライブラリはモジュール化されないが、C++ライブラリはモジュールのように扱うことができ、モジュール機能の恩恵を受けられる(ヘッダーユニット)。
+
 標準ライブラリのモジュール化はC++23以降に予定されている。
 
 ## 仕様
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>Tetsuro Matsumura</name>
        <email>matsumura.t.lab@gmail.com</email>
      </author>
    </entry>
  
    <entry>
      <title>extension -- path::stem, extension : 隠しファイルの例を追加</title>
      <link href="https://cpprefjp.github.io/reference/filesystem/path/extension.html"/>
      <id>777e16c8ae9bb3f3b567eb9e7952415b5b323b44:reference/filesystem/path/extension.md</id>
      <updated>2021-08-01T17:19:42+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/reference/filesystem/path/extension.md b/reference/filesystem/path/extension.md
index 5974bc451..5c7499ec3 100644
--- a/reference/filesystem/path/extension.md
+++ b/reference/filesystem/path/extension.md
@@ -36,6 +36,7 @@ int main()
     &amp;#34;/foo/&amp;#34;,           // ディレクトリパス
     &amp;#34;/foo/.&amp;#34;,          // カレントディレクトリ
     &amp;#34;..&amp;#34;,              // 親ディレクトリ
+    &amp;#34;.file&amp;#34;,           // 隠しファイル (拡張子なし)
   };
 
   for (const fs::path&amp;amp; p : ps) {
@@ -53,6 +54,7 @@ int main()
 &amp;#34;/foo/&amp;#34; : &amp;#34;&amp;#34;
 &amp;#34;/foo/.&amp;#34; : &amp;#34;&amp;#34;
 &amp;#34;..&amp;#34; : &amp;#34;&amp;#34;
+&amp;#34;.file&amp;#34; : &amp;#34;&amp;#34;
 ```
 
 
@@ -71,6 +73,7 @@ int main()
     &amp;#34;C:/foo/&amp;#34;,           // ディレクトリパス
     &amp;#34;C:/foo/.&amp;#34;,          // カレントディレクトリ
     &amp;#34;..&amp;#34;,                // 親ディレクトリ
+    &amp;#34;.file&amp;#34;,             // UNIX系OSでの隠しファイル (拡張子なし)
   };
 
   for (const fs::path&amp;amp; p : ps) {
@@ -87,6 +90,7 @@ int main()
 &amp;#34;C:\foo\&amp;#34; : &amp;#34;&amp;#34;
 &amp;#34;C:\foo\.&amp;#34; : &amp;#34;&amp;#34;
 &amp;#34;..&amp;#34; : &amp;#34;&amp;#34;
+&amp;#34;.file&amp;#34; : &amp;#34;&amp;#34;
 ```
 
 Windowsでの例は、Visual C++が正式にファイルシステムライブラリをサポートしていないことから、未検証のサンプルコード・出力となっている。
@@ -97,6 +101,6 @@ Windowsでの例は、Visual C++が正式にファイルシステムライブラ
 - C++17
 
 ### 処理系
-- [Clang](/implementation.md#clang):
+- [Clang](/implementation.md#clang): 9.0
 - [GCC](/implementation.md#gcc): 8.1
 - [Visual C++](/implementation.md#visual_cpp):
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>Akira Takahashi</name>
        <email>faithandbrave@gmail.com</email>
      </author>
    </entry>
  
    <entry>
      <title>stem -- path::stem, extension : 隠しファイルの例を追加</title>
      <link href="https://cpprefjp.github.io/reference/filesystem/path/stem.html"/>
      <id>777e16c8ae9bb3f3b567eb9e7952415b5b323b44:reference/filesystem/path/stem.md</id>
      <updated>2021-08-01T17:19:42+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/reference/filesystem/path/stem.md b/reference/filesystem/path/stem.md
index 05fe3ce5f..e8c711bfd 100644
--- a/reference/filesystem/path/stem.md
+++ b/reference/filesystem/path/stem.md
@@ -35,6 +35,7 @@ int main()
     &amp;#34;/foo/&amp;#34;,           // ディレクトリパス
     &amp;#34;/foo/.&amp;#34;,          // カレントディレクトリ
     &amp;#34;..&amp;#34;,              // 親ディレクトリ
+    &amp;#34;.file&amp;#34;,           // 隠しファイル (拡張子なし)
   };
 
   for (const fs::path&amp;amp; p : ps) {
@@ -52,6 +53,7 @@ int main()
 &amp;#34;/foo/&amp;#34; : &amp;#34;&amp;#34;
 &amp;#34;/foo/.&amp;#34; : &amp;#34;.&amp;#34;
 &amp;#34;..&amp;#34; : &amp;#34;..&amp;#34;
+&amp;#34;.file&amp;#34; : &amp;#34;.file&amp;#34;
 ```
 
 
@@ -70,6 +72,7 @@ int main()
     &amp;#34;C:/foo/&amp;#34;,           // ディレクトリパス
     &amp;#34;C:/foo/.&amp;#34;,          // カレントディレクトリ
     &amp;#34;..&amp;#34;,                // 親ディレクトリ
+    &amp;#34;.file&amp;#34;,             // UNIX系OSでの隠しファイル (拡張子なし)
   };
 
   for (const fs::path&amp;amp; p : ps) {
@@ -86,6 +89,7 @@ int main()
 &amp;#34;C:\foo\&amp;#34; : &amp;#34;&amp;#34;
 &amp;#34;C:\foo\.&amp;#34; : &amp;#34;.&amp;#34;
 &amp;#34;..&amp;#34; : &amp;#34;..&amp;#34;
+&amp;#34;.file&amp;#34; : &amp;#34;.file&amp;#34;
 ```
 
 Windowsでの例は、Visual C++が正式にファイルシステムライブラリをサポートしていないことから、未検証のサンプルコード・出力となっている。
@@ -96,6 +100,6 @@ Windowsでの例は、Visual C++が正式にファイルシステムライブラ
 - C++17
 
 ### 処理系
-- [Clang](/implementation.md#clang):
+- [Clang](/implementation.md#clang): 9.0
 - [GCC](/implementation.md#gcc): 8.1
 - [Visual C++](/implementation.md#visual_cpp):
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>Akira Takahashi</name>
        <email>faithandbrave@gmail.com</email>
      </author>
    </entry>
  
    <entry>
      <title>constexpr if 文 -- fix(if constexpr): リンク切れへの対処</title>
      <link href="https://cpprefjp.github.io/lang/cpp17/if_constexpr.html"/>
      <id>648291cc7693744432e2eee130cb88f8d6ace9db:lang/cpp17/if_constexpr.md</id>
      <updated>2021-07-30T22:03:03+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/lang/cpp17/if_constexpr.md b/lang/cpp17/if_constexpr.md
index 63b7d59f9..d6140427b 100644
--- a/lang/cpp17/if_constexpr.md
+++ b/lang/cpp17/if_constexpr.md
@@ -440,5 +440,5 @@ template &amp;lt;int arg, typename ... Args&amp;gt; int do_something(Args... args) {
 
 - [Static If I Had a Hammer - Andrei Alexandrescu](https://channel9.msdn.com/Events/GoingNative/GoingNative-2012/Static-If-I-Had-a-Hammer)
 - [C++1z if constexpr文 - Faith and Brave - C++で遊ぼう](https://faithandbrave.hateblo.jp/entry/2016/12/22/171238)
-- [Clang Developers - Clang getting involved](https://archive.is/ZIxgs)
+- [[cfe-dev] Clang getting involved](https://lists.llvm.org/pipermail/cfe-dev/2014-March/035801.html)
 - [`__if_exists` Statement | Microsoft Docs](https://docs.microsoft.com/ja-jp/cpp/cpp/if-exists-statement)
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>yumetodo</name>
        <email>yume-wikijp@live.jp</email>
      </author>
    </entry>
  
    <entry>
      <title>hardware_constructive_interference_size -- リンク切れを修正 #884</title>
      <link href="https://cpprefjp.github.io/reference/new/hardware_constructive_interference_size.html"/>
      <id>74ad6c765cad3c522a7b72a737f1fe8e3a6ed2c5:reference/new/hardware_constructive_interference_size.md</id>
      <updated>2021-07-28T19:09:50+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/reference/new/hardware_constructive_interference_size.md b/reference/new/hardware_constructive_interference_size.md
index 23ec4e2cd..a53c87b86 100644
--- a/reference/new/hardware_constructive_interference_size.md
+++ b/reference/new/hardware_constructive_interference_size.md
@@ -66,4 +66,4 @@ int main()
 - [Understanding `std::hardware_destructive_interference_size` and `std::hardware_constructive_interference_size` - Stack Overflow](https://stackoverflow.com/questions/39680206/understanding-stdhardware-destructive-interference-size-and-stdhardware-cons)
     - 設計についての作者JF Bastien氏からのコメントがある
     - WebAssemblyなどの仮想環境ではターゲットアーキテクチャが実行時に決まるため、実行時の値もあるとよいだろう、とのコメントもある
-- [[RFC] C++17 hardware constructive / destructive interference size - Clang Developers Mailing list](http://clang-developers.42468.n3.nabble.com/RFC-C-17-hardware-constructive-destructive-interference-size-td4060786.html)
+- [[RFC] C++17 hardware constructive / destructive interference size - Clang Developers Mailing list](https://lists.llvm.org/pipermail/cfe-dev/2018-May/058073.html)
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>Akira Takahashi</name>
        <email>faithandbrave@gmail.com</email>
      </author>
    </entry>
  
    <entry>
      <title>hardware_destructive_interference_size -- リンク切れを修正 #884</title>
      <link href="https://cpprefjp.github.io/reference/new/hardware_destructive_interference_size.html"/>
      <id>74ad6c765cad3c522a7b72a737f1fe8e3a6ed2c5:reference/new/hardware_destructive_interference_size.md</id>
      <updated>2021-07-28T19:09:50+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/reference/new/hardware_destructive_interference_size.md b/reference/new/hardware_destructive_interference_size.md
index c669e8b50..09c6d6393 100644
--- a/reference/new/hardware_destructive_interference_size.md
+++ b/reference/new/hardware_destructive_interference_size.md
@@ -126,4 +126,4 @@ int main()
 - [Understanding `std::hardware_destructive_interference_size` and `std::hardware_constructive_interference_size` - Stack Overflow](https://stackoverflow.com/questions/39680206/understanding-stdhardware-destructive-interference-size-and-stdhardware-cons)
     - 設計についての作者JF Bastien氏からのコメントがある
     - WebAssemblyなどの仮想環境ではターゲットアーキテクチャが実行時に決まるため、実行時の値もあるとよいだろう、とのコメントもある
-- [[RFC] C++17 hardware constructive / destructive interference size - Clang Developers Mailing list](http://clang-developers.42468.n3.nabble.com/RFC-C-17-hardware-constructive-destructive-interference-size-td4060786.html)
+- [[RFC] C++17 hardware constructive / destructive interference size - Clang Developers Mailing list](https://lists.llvm.org/pipermail/cfe-dev/2018-May/058073.html)
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>Akira Takahashi</name>
        <email>faithandbrave@gmail.com</email>
      </author>
    </entry>
  
</feed>
<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>cpprefjp - C++日本語リファレンス</title>
  <link href="https://cpprefjp.github.io" />
  <updated>2023-08-24T14:39:50.291509</updated>
  <id>ecaf5b38-7672-40d4-aea5-fe4a07af0be9</id>

  
    <entry>
      <title>cbegin -- ranges::cbegin : P2278R4適用 #1084</title>
      <link href="https://cpprefjp.github.io/reference/ranges/cbegin.html"/>
      <id>99a88c1134be17442149de2b693a93f654af17c9:reference/ranges/cbegin.md</id>
      <updated>2023-08-24T15:48:59+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/reference/ranges/cbegin.md b/reference/ranges/cbegin.md
index be8218130..0953d768e 100644
--- a/reference/ranges/cbegin.md
+++ b/reference/ranges/cbegin.md
@@ -16,10 +16,14 @@ namespace std::ranges {
 Rangeから先頭要素への読み取り専用イテレータを取得する関数オブジェクト。
 
 ## 効果
-部分式`E`の型を`T`とする。このとき、式`ranges::cbegin(E)`の効果は以下の式と等しい。
+部分式`E`の型を`T`、`E`の評価結果オブジェクトを示す左辺値を`t`とする。このとき、式`ranges::cbegin(E)`の効果は以下の式と等しい。
 
-1. `E`がlvalueであれば、[`ranges::begin`](begin.md)`(static_cast&amp;lt;const T&amp;amp;&amp;gt;(E))`
-2. それ以外の場合、[`ranges::begin`](begin.md)`(static_cast&amp;lt;const T&amp;amp;&amp;amp;&amp;gt;(E))`
+- C++20まで
+    1. `E`がlvalueであれば、[`ranges::begin`](begin.md)`(static_cast&amp;lt;const T&amp;amp;&amp;gt;(E))`
+    2. それ以外の場合、[`ranges::begin`](begin.md)`(static_cast&amp;lt;const T&amp;amp;&amp;amp;&amp;gt;(E))`
+- C++23から
+    1. `E`が右辺値であり、[`enable_borrowed_range`](./enable_borrowed_range.md)`&amp;lt;remove_cv_t&amp;lt;T&amp;gt;&amp;gt;`が`false`となる場合、`ranges::cbegin(E)`は不適格
+    2. それ以外の場合、式`U`を[`ranges::begin`](begin.md)`(`[`possibly-const-range`](./possibly-const-range.md)`(t))`とすると、[`const_iterator`](/reference/iterator/const_iterator.md)`&amp;lt;decltype(U)&amp;gt;(U)`
 
 ## 戻り値
 先頭要素への読み取り専用イテレータ。
@@ -28,7 +32,9 @@ Rangeから先頭要素への読み取り専用イテレータを取得する関
 Rangeが`const`な場合について[`ranges::begin`](begin.md)をカスタマイズすることで、`ranges::cbegin`をカスタマイズできる。
 
 ## 備考
-`ranges::cbegin`の呼び出しが有効な式であるとき、その型は[`input_or_output_iterator`](/reference/iterator/input_or_output_iterator.md)のモデルである。
+`ranges::cbegin`の呼び出しが有効な式であるとき、その型は[`input_or_output_iterator`](/reference/iterator/input_or_output_iterator.md)のモデルであり、C++23以降はさらに[`constant-iterator`](/reference/iterator/constant-iterator.md)のモデルである。
+
+C++20までは`range`型`R`の`begin()`の`const`オーバーロードを呼び出してていたため得られたイテレータは必ずしも定数イテレータではない場合があったが、C++23からはそこから定数イテレータが得られない場合に[`basic_const_iterator`](/reference/iterator/basic_const_iterator.md)を使用することで確実に定数イテレータを取得する。
 
 ## 例
 ```cpp example
@@ -75,3 +81,4 @@ int main()
 ## 参照
 - [N4861 24 Ranges library](https://timsong-cpp.github.io/cppwp/n4861/ranges)
 - [C++20 ranges](https://techbookfest.org/product/5134506308665344)
+- [P2278R4 `cbegin` should always return a constant iterator](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2278r4.html)
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>onihusube</name>
        <email>44743040+onihusube@users.noreply.github.com</email>
      </author>
    </entry>
  
    <entry>
      <title>ranges -- constant_rangeとpossibly-const-range追加 #1084</title>
      <link href="https://cpprefjp.github.io/reference/ranges.html"/>
      <id>bf5c611427dcc7915ec8a49a6d6cdd962eadcd55:reference/ranges.md</id>
      <updated>2023-08-24T15:48:22+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/reference/ranges.md b/reference/ranges.md
index adda7dbb9..e61744fe2 100644
--- a/reference/ranges.md
+++ b/reference/ranges.md
@@ -90,7 +90,7 @@ C++20では関数によるカスタマイゼーションポイントの問題点
 | [`contiguous_range`](ranges/contiguous_range.md)       | イテレータが隣接イテレータであるRange (concept)             | C++20          |
 | [`common_range`](ranges/common_range.md)               | イテレータと番兵の型が等しいRange (concept)                 | C++20          |
 | [`viewable_range`](ranges/viewable_range.md)           | ビューに変換できるRange (concept)                           | C++20          |
-| [`constant_range`](ranges/constant_range.md.nolink)    | 要素が定数なRange (concept)                           | C++23          |
+| [`constant_range`](ranges/constant_range.md)           | 要素が定数なRange (concept)                           | C++23          |
 
 ## カスタマイゼーションポイント
 
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>onihusube</name>
        <email>44743040+onihusube@users.noreply.github.com</email>
      </author>
    </entry>
  
    <entry>
      <title>constant_range -- constant_rangeとpossibly-const-range追加 #1084</title>
      <link href="https://cpprefjp.github.io/reference/ranges/constant_range.html"/>
      <id>bf5c611427dcc7915ec8a49a6d6cdd962eadcd55:reference/ranges/constant_range.md</id>
      <updated>2023-08-24T15:48:22+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/reference/ranges/constant_range.md b/reference/ranges/constant_range.md
new file mode 100644
index 000000000..4843aa153
--- /dev/null
+++ b/reference/ranges/constant_range.md
@@ -0,0 +1,51 @@
+# constant_range
+* ranges[meta header]
+* concept[meta id-type]
+* std::ranges[meta namespace]
+* cpp23[meta cpp]
+
+```cpp
+namespace std::ranges {
+  template&amp;lt;class T&amp;gt;
+  concept constant_range = input_range&amp;lt;T&amp;gt; &amp;amp;&amp;amp; constant-iterator&amp;lt;iterator_t&amp;lt;T&amp;gt;&amp;gt;;
+}
+```
+* input_range[link input_range.md]
+* constant-iterator[link /reference/iterator/constant-iterator.md]
+* iterator_t[link iterator_t.md]
+
+## 概要
+
+`constant_range`は、その要素が変更不可能な`range`を表すコンセプトである。
+
+## 例
+
+```cpp example
+#include &amp;lt;ranges&amp;gt;
+#include &amp;lt;vector&amp;gt;
+
+int main() {
+  static_assert(not std::ranges::constant_range&amp;lt;      std::vector&amp;lt;int&amp;gt;&amp;gt;);
+  static_assert(    std::ranges::constant_range&amp;lt;const std::vector&amp;lt;int&amp;gt;&amp;gt;);
+
+  static_assert(std::ranges::constant_range&amp;lt;std::ranges::iota_view&amp;lt;int&amp;gt;&amp;gt;);
+}
+```
+
+### 出力
+
+```
+```
+
+## バージョン
+### 言語
+- C++23
+
+### 処理系
+- [Clang](/implementation.md#clang): ??
+- [GCC](/implementation.md#gcc): 13.1
+- [Visual C++](/implementation.md#visual_cpp): 2022 Update 6
+
+## 参照
+
+- [P2278R4 `cbegin` should always return a constant iterator](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2278r4.html)
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>onihusube</name>
        <email>44743040+onihusube@users.noreply.github.com</email>
      </author>
    </entry>
  
    <entry>
      <title>possibly-const-range -- constant_rangeとpossibly-const-range追加 #1084</title>
      <link href="https://cpprefjp.github.io/reference/ranges/possibly-const-range.html"/>
      <id>bf5c611427dcc7915ec8a49a6d6cdd962eadcd55:reference/ranges/possibly-const-range.md</id>
      <updated>2023-08-24T15:48:22+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/reference/ranges/possibly-const-range.md b/reference/ranges/possibly-const-range.md
new file mode 100644
index 000000000..8a921c7fd
--- /dev/null
+++ b/reference/ranges/possibly-const-range.md
@@ -0,0 +1,35 @@
+# possibly-const-range
+* ranges[meta header]
+* std::ranges[meta namespace]
+* function[meta id-type]
+* cpp23[meta cpp]
+
+```cpp
+namespace std::ranges {
+  template&amp;lt;input_range R&amp;gt;
+  constexpr auto&amp;amp; possibly-const-range(R&amp;amp; r) {
+    if constexpr (constant_range&amp;lt;const R&amp;gt; &amp;amp;&amp;amp; !constant_range&amp;lt;R&amp;gt;) {
+      return const_cast&amp;lt;const R&amp;amp;&amp;gt;(r);
+    } else {
+      return r;
+    }
+  }
+}
+```
+* input_range[link /reference/ranges/input_range.md]
+* constant_range[link /reference/ranges/constant_range.md]
+
+## 概要
+
+`possibly-const-range`は入力の`input_range`オブジェクト`r`を、可能なら要素が定数化された`range`へ変換するものである。
+
+主に、`ranges::cbegin()`など定数イテレータを取得したい場所で、イテレータ取得前の段階で`range`型の簡単な変換のみで定数イテレータを取得できるかを試行するのに使用される。
+
+
+## バージョン
+### 言語
+- C++23
+
+## 参照
+
+- [P2278R4 `cbegin` should always return a constant iterator](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2278r4.html)
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>onihusube</name>
        <email>44743040+onihusube@users.noreply.github.com</email>
      </author>
    </entry>
  
    <entry>
      <title>is_constant_evaluated -- is_constant_evaluated : C++23 if constevalへのリンクを追加</title>
      <link href="https://cpprefjp.github.io/reference/type_traits/is_constant_evaluated.html"/>
      <id>a2837c4112998a57257d08838c7e4412876c5826:reference/type_traits/is_constant_evaluated.md</id>
      <updated>2023-08-23T19:07:04+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/reference/type_traits/is_constant_evaluated.md b/reference/type_traits/is_constant_evaluated.md
index 1cd386e9a..09482f82d 100644
--- a/reference/type_traits/is_constant_evaluated.md
+++ b/reference/type_traits/is_constant_evaluated.md
@@ -134,6 +134,7 @@ int main()
 
 ## 関連項目
 - [C++20 コンパイル時初期化を強制する`constinit`キーワードを追加](/lang/cpp20/constinit.md)
+- [C++23 `if consteval`](/lang/cpp23/if_consteval.md.nolink)
 
 ## 参照
 - [P0595R2 `std::is_constant_evaluated()`](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2018/p0595r2.html)
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>Akira Takahashi</name>
        <email>faithandbrave@gmail.com</email>
      </author>
    </entry>
  
    <entry>
      <title>ranges -- const_iterator_t/const_sentinel_t追加 #1084</title>
      <link href="https://cpprefjp.github.io/reference/ranges.html"/>
      <id>a3c830c711a9f273eb85e397f730bc40063289c8:reference/ranges.md</id>
      <updated>2023-08-23T16:10:46+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/reference/ranges.md b/reference/ranges.md
index 44737cf70..adda7dbb9 100644
--- a/reference/ranges.md
+++ b/reference/ranges.md
@@ -65,8 +65,8 @@ C++20では関数によるカスタマイゼーションポイントの問題点
 |------------------------------------------------------------------|------------------------------------------------|----------------|
 | [`iterator_t`](ranges/iterator_t.md)                             | イテレータ型を取得する (alias template)        | C++20          |
 | [`sentinel_t`](ranges/sentinel_t.md)                             | 番兵型を取得する (alias template)              | C++20          |
-| [`const_iterator_t`](ranges/const_iterator_t.md.nolink)          | 定数イテレータ型を取得する (alias template)        | C++23          |
-| [`const_sentinel_t`](ranges/const_sentinel_t.md.nolink)          | 定数番兵型を取得する (alias template)        | C++23          |
+| [`const_iterator_t`](ranges/const_iterator_t.md)                 | 定数イテレータ型を取得する (alias template)        | C++23          |
+| [`const_sentinel_t`](ranges/const_sentinel_t.md)          | 定数番兵型を取得する (alias template)        | C++23          |
 | [`range_difference_t`](ranges/range_difference_t.md)             | イテレータの差の型を取得する (alias template)  | C++20          |
 | [`range_size_t`](ranges/range_size_t.md)                         | サイズの型を取得する(alias template)           | C++20          |
 | [`range_value_t`](ranges/range_value_t.md)                       | 要素の型を取得する (alias template)            | C++20          |
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>onihusube</name>
        <email>44743040+onihusube@users.noreply.github.com</email>
      </author>
    </entry>
  
    <entry>
      <title>const_iterator_t -- const_iterator_t/const_sentinel_t追加 #1084</title>
      <link href="https://cpprefjp.github.io/reference/ranges/const_iterator_t.html"/>
      <id>a3c830c711a9f273eb85e397f730bc40063289c8:reference/ranges/const_iterator_t.md</id>
      <updated>2023-08-23T16:10:46+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/reference/ranges/const_iterator_t.md b/reference/ranges/const_iterator_t.md
new file mode 100644
index 000000000..d2ecc3fd7
--- /dev/null
+++ b/reference/ranges/const_iterator_t.md
@@ -0,0 +1,49 @@
+# const_iterator_t
+* ranges[meta header]
+* std::ranges[meta namespace]
+* type-alias[meta id-type]
+* cpp23[meta cpp]
+
+```cpp
+namespace std::ranges {
+  template&amp;lt;range R&amp;gt;
+  using const_iterator_t = const_iterator&amp;lt;iterator_t&amp;lt;R&amp;gt;&amp;gt;;
+}
+```
+* range[link range.md]
+* const_iterator[link /reference/iterator/const_iterator.md]
+* iterator_t[link iterator_t.md]
+
+## 概要
+
+任意のRange型`R`の定数イテレータの型を取得する。
+
+## 例
+
+```cpp example
+#include &amp;lt;ranges&amp;gt;
+#include &amp;lt;vector&amp;gt;
+
+int main() {
+  static_assert(std::same_as&amp;lt;std::ranges::const_iterator_t&amp;lt;      std::vector&amp;lt;int&amp;gt;&amp;gt;, std::basic_const_iterator&amp;lt;std::vector&amp;lt;int&amp;gt;::iterator&amp;gt;&amp;gt;);
+  static_assert(std::same_as&amp;lt;std::ranges::const_iterator_t&amp;lt;const std::vector&amp;lt;int&amp;gt;&amp;gt;, std::vector&amp;lt;int&amp;gt;::const_iterator&amp;gt;);
+}
+```
+* std::ranges::const_iterator_t[color ff0000]
+
+### 出力
+```
+```
+
+## バージョン
+### 言語
+- C++23
+
+### 処理系
+- [Clang](/implementation.md#clang): ??
+- [GCC](/implementation.md#gcc): 13.1
+- [Visual C++](/implementation.md#visual_cpp): 2022 Update 6
+
+## 参照
+
+- [P2278R4 `cbegin` should always return a constant iterator](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2278r4.html)
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>onihusube</name>
        <email>44743040+onihusube@users.noreply.github.com</email>
      </author>
    </entry>
  
    <entry>
      <title>const_sentinel_t -- const_iterator_t/const_sentinel_t追加 #1084</title>
      <link href="https://cpprefjp.github.io/reference/ranges/const_sentinel_t.html"/>
      <id>a3c830c711a9f273eb85e397f730bc40063289c8:reference/ranges/const_sentinel_t.md</id>
      <updated>2023-08-23T16:10:46+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/reference/ranges/const_sentinel_t.md b/reference/ranges/const_sentinel_t.md
new file mode 100644
index 000000000..086fe5e1b
--- /dev/null
+++ b/reference/ranges/const_sentinel_t.md
@@ -0,0 +1,53 @@
+# const_sentinel_t
+* ranges[meta header]
+* std::ranges[meta namespace]
+* type-alias[meta id-type]
+* cpp23[meta cpp]
+
+```cpp
+namespace std::ranges {
+  template&amp;lt;range R&amp;gt;
+  using const_sentinel_t = const_sentinel&amp;lt;sentinel_t&amp;lt;R&amp;gt;&amp;gt;;
+}
+```
+* range[link range.md]
+* const_sentinel[link /reference/iterator/const_sentinel.md]
+* sentinel_t[link sentinel_t.md]
+
+## 概要
+
+任意のRange型`R`の定数イテレータ（[`const_iterator_t`](const_iterator_t.md)`&amp;lt;R&amp;gt;`）に対応する番兵の型を取得する。
+
+## 例
+
+```cpp example
+#include &amp;lt;ranges&amp;gt;
+#include &amp;lt;vector&amp;gt;
+
+int main() {
+  static_assert(std::same_as&amp;lt;std::ranges::const_sentinel_t&amp;lt;      std::vector&amp;lt;int&amp;gt;&amp;gt;, std::basic_const_iterator&amp;lt;std::vector&amp;lt;int&amp;gt;::iterator&amp;gt;&amp;gt;);
+  static_assert(std::same_as&amp;lt;std::ranges::const_sentinel_t&amp;lt;const std::vector&amp;lt;int&amp;gt;&amp;gt;, std::vector&amp;lt;int&amp;gt;::const_iterator&amp;gt;);
+
+  static_assert(std::same_as&amp;lt;std::ranges::const_sentinel_t&amp;lt;std::ranges::repeat_view&amp;lt;int&amp;gt;&amp;gt;, std::unreachable_sentinel_t&amp;gt;);
+}
+```
+* std::ranges::const_sentinel_t[color ff0000]
+* repeat_view[link repeat_view.md]
+* std::unreachable_sentinel_t[link /reference/iterator/unreachable_sentinel_t.md]
+
+### 出力
+```
+```
+
+## バージョン
+### 言語
+- C++23
+
+### 処理系
+- [Clang](/implementation.md#clang): ??
+- [GCC](/implementation.md#gcc): 13.1
+- [Visual C++](/implementation.md#visual_cpp): 2022 Update 6
+
+## 参照
+
+- [P2278R4 `cbegin` should always return a constant iterator](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2278r4.html)
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>onihusube</name>
        <email>44743040+onihusube@users.noreply.github.com</email>
      </author>
    </entry>
  
    <entry>
      <title>ranges -- &lt;ranges&gt; : P2278R4関連を追加 #1084</title>
      <link href="https://cpprefjp.github.io/reference/ranges.html"/>
      <id>f2eb44725d784a0b8cb1d2f343178ffe04c392d8:reference/ranges.md</id>
      <updated>2023-08-23T15:52:06+09:00</updated>
      
        <summary type="html">&lt;pre&gt;&lt;code&gt;diff --git a/reference/ranges.md b/reference/ranges.md
index cbe100bf3..44737cf70 100644
--- a/reference/ranges.md
+++ b/reference/ranges.md
@@ -65,10 +65,13 @@ C++20では関数によるカスタマイゼーションポイントの問題点
 |------------------------------------------------------------------|------------------------------------------------|----------------|
 | [`iterator_t`](ranges/iterator_t.md)                             | イテレータ型を取得する (alias template)        | C++20          |
 | [`sentinel_t`](ranges/sentinel_t.md)                             | 番兵型を取得する (alias template)              | C++20          |
+| [`const_iterator_t`](ranges/const_iterator_t.md.nolink)          | 定数イテレータ型を取得する (alias template)        | C++23          |
+| [`const_sentinel_t`](ranges/const_sentinel_t.md.nolink)          | 定数番兵型を取得する (alias template)        | C++23          |
 | [`range_difference_t`](ranges/range_difference_t.md)             | イテレータの差の型を取得する (alias template)  | C++20          |
 | [`range_size_t`](ranges/range_size_t.md)                         | サイズの型を取得する(alias template)           | C++20          |
 | [`range_value_t`](ranges/range_value_t.md)                       | 要素の型を取得する (alias template)            | C++20          |
 | [`range_reference_t`](ranges/range_reference_t.md)               | 要素の参照型を取得する (alias template)        | C++20          |
+| [`range_const_reference_t`](ranges/range_const_reference_t.md.nolink)| 要素の定数参照型を取得する (alias template) | C++23          |
 | [`range_rvalue_reference_t`](ranges/range_rvalue_reference_t.md) | 要素の右辺値参照型を取得する (alias template)  | C++20          |
 
 ## Rangeコンセプト
@@ -87,6 +90,7 @@ C++20では関数によるカスタマイゼーションポイントの問題点
 | [`contiguous_range`](ranges/contiguous_range.md)       | イテレータが隣接イテレータであるRange (concept)             | C++20          |
 | [`common_range`](ranges/common_range.md)               | イテレータと番兵の型が等しいRange (concept)                 | C++20          |
 | [`viewable_range`](ranges/viewable_range.md)           | ビューに変換できるRange (concept)                           | C++20          |
+| [`constant_range`](ranges/constant_range.md.nolink)    | 要素が定数なRange (concept)                           | C++23          |
 
 ## カスタマイゼーションポイント
 
@@ -424,3 +428,4 @@ range | adaptor(args...)
 ## 参照
 - [N4861 24 Ranges library](https://timsong-cpp.github.io/cppwp/n4861/ranges)
 - [C++20 ranges](https://techbookfest.org/product/5134506308665344)
+- [P2278R4 `cbegin` should always return a constant iterator](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2278r4.html)
&lt;/code&gt;&lt;/pre&gt;</summary>
      
      <author>
        <name>onihusube</name>
        <email>44743040+onihusube@users.noreply.github.com</email>
      </author>
    </entry>
  
</feed>